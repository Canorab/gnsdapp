import{r as l,j as r}from"./react-eX7k_oyb.js";import{u as v,C as c}from"./react-hook-form-BVuS_7ec.js";import{a as S,b as E,c as y,l as N}from"./index-BfJQ_NjS.js";import{t as T}from"./@hookform-B4uZ5eeB.js";import{u as L}from"./react-redux-B2ydUXa7.js";import{u as k,w as B,B as C,x as d,y as u,z as F,E as P,F as I}from"./@mui-B-lH2raD.js";import{c as R}from"./react-router-zaz7yv4n.js";import"./@babel-BTUyE5mg.js";import"./react-dom-BE5TJDhq.js";import"./scheduler-CzFDRTuY.js";import"./@wagmi-Cwopbt2N.js";import"./zustand-BxVvYF66.js";import"./viem-DO_zHWKk.js";import"./eventemitter3-B2QLvKQr.js";import"./mipd-CIcDX0W7.js";import"./react-router-dom-DIdm3YiL.js";import"./@remix-run-CAT8zpu_.js";import"./@reduxjs-9R9LrHOH.js";import"./redux-DITMfSWq.js";import"./immer-BkdjC0q7.js";import"./reselect-BEFkisvr.js";import"./redux-thunk-ClJT1hhx.js";import"./react-copy-to-clipboard-CVAzxf6m.js";import"./copy-to-clipboard-BvYTofsP.js";import"./toggle-selection-BHUZwh74.js";import"./jwt-decode-VWaDGczM.js";import"./lucide-react-CUEWfaAn.js";import"./uuid-D8aEg3BZ.js";import"./boxicons-DYxgBJvX.js";import"./zod-dIKOytT1.js";import"./@fvilers-C36Jf4Wd.js";import"./use-sync-external-store-o46NS6CO.js";import"./clsx-B-dksMZM.js";import"./@emotion-CTR4nhAa.js";import"./hoist-non-react-statics-Buxaj0Kl.js";import"./react-is-8JwjhRSi.js";import"./stylis-NkKAe6Bn.js";import"./react-transition-group-BwIbI4gd.js";function A(){var n,p;const x=k(),i=R(),f=L(),[h,{isLoading:W,isSuccess:a,isError:D,error:O}]=S(),{register:z,handleSubmit:g,control:m,reset:H,setError:j,formState:{isSubmitting:M,isSubmitSuccessful:U,errors:t}}=v({mode:"all",resolver:T(N),defaultValues:{username:"",password:""}});l.useEffect(()=>{a&&i("/admindash",{replace:!0})},[a,i]);const w=l.useCallback(async s=>{try{const{accessToken:e}=await h(s).unwrap();f(E({accessToken:e}))}catch(e){(e==null?void 0:e.status)==="FETCH_ERROR"&&j("root.serverError",{type:"server",message:"Network or internet Error"})}},[]);return r.jsxs("div",{children:[r.jsxs("div",{className:"title-wrapper w-full flex justify-between items-center mb-8 ",children:[r.jsx("img",{src:"/images/gtx-stream-logo1.png",className:"w-32",alt:""}),r.jsx("h2",{className:"text-2xl font-bold text-center text-gray-50",children:"Login"})]}),r.jsx(B,{theme:y(x),children:r.jsx("form",{onSubmit:g(w),children:r.jsxs(C,{component:"div",sx:{p:"2px 4px",display:"flex",flexDirection:"column",alignItems:"center",gap:2,width:350,boxShadow:0},children:[r.jsx(c,{name:"username",control:m,render:({field:s,fieldState:{error:e},formState:b})=>{var o;return r.jsx(d,{id:"username",label:"Username",variant:"filled",type:"text",error:!!t.username,helperText:(o=t.username)==null?void 0:o.message,...s,fullWidth:!0,InputProps:{startAdornment:r.jsx(u,{position:"start",children:r.jsx(F,{})})}})}}),r.jsx(c,{name:"password",control:m,render:({field:s,fieldState:{error:e},formState:b})=>{var o;return r.jsx(d,{id:"password",label:"Password",variant:"filled",type:"password",error:!!t.password,helperText:(o=t.password)==null?void 0:o.message,...s,fullWidth:!0,InputProps:{startAdornment:r.jsx(u,{position:"start",children:r.jsx(P,{})})}})}}),r.jsx(I,{type:"submit",variant:"contained",className:"btn",children:"Submit"}),r.jsx("div",{children:r.jsx("p",{style:{fontWeight:"bold"},children:(p=(n=t.root)==null?void 0:n.serverError)==null?void 0:p.message})})]})})})]})}function Lr(){return r.jsx("div",{className:"signup-page",children:r.jsx("div",{className:"form-wrapper",children:r.jsx(A,{})})})}export{Lr as default};
