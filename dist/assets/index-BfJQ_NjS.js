function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/SignupPage-6VLknjI7.js","assets/react-eX7k_oyb.js","assets/@babel-BTUyE5mg.js","assets/@web3modal-BnXlkWgH.js","assets/bignumber.js-DOH-f-tm.js","assets/@wagmi-Cwopbt2N.js","assets/zustand-BxVvYF66.js","assets/viem-DO_zHWKk.js","assets/eventemitter3-B2QLvKQr.js","assets/mipd-CIcDX0W7.js","assets/buffer-EBb79ogF.js","assets/base64-js-D0UyVEDn.js","assets/ieee754-DSYfm7We.js","assets/zod-dIKOytT1.js","assets/valtio-D-UtsqsE.js","assets/proxy-compare-DDw08AJZ.js","assets/dayjs-D3dD73DO.js","assets/qrcode-CGiDONbL.js","assets/encode-utf8-Cn5aGd7v.js","assets/dijkstrajs-D_NXgYpA.js","assets/react-router-dom-DIdm3YiL.js","assets/react-dom-BE5TJDhq.js","assets/scheduler-CzFDRTuY.js","assets/react-router-zaz7yv4n.js","assets/@remix-run-CAT8zpu_.js","assets/react-hook-form-BVuS_7ec.js","assets/@hookform-B4uZ5eeB.js","assets/@mui-B-lH2raD.js","assets/clsx-B-dksMZM.js","assets/@emotion-CTR4nhAa.js","assets/hoist-non-react-statics-Buxaj0Kl.js","assets/react-is-8JwjhRSi.js","assets/stylis-NkKAe6Bn.js","assets/react-transition-group-BwIbI4gd.js","assets/react-redux-B2ydUXa7.js","assets/use-sync-external-store-o46NS6CO.js","assets/@reduxjs-9R9LrHOH.js","assets/redux-DITMfSWq.js","assets/immer-BkdjC0q7.js","assets/reselect-BEFkisvr.js","assets/redux-thunk-ClJT1hhx.js","assets/react-copy-to-clipboard-CVAzxf6m.js","assets/copy-to-clipboard-BvYTofsP.js","assets/toggle-selection-BHUZwh74.js","assets/jwt-decode-VWaDGczM.js","assets/lucide-react-CUEWfaAn.js","assets/uuid-D8aEg3BZ.js","assets/boxicons-DYxgBJvX.js","assets/@fvilers-C36Jf4Wd.js","assets/SignupPage-vVReXN0Y.css","assets/LoginPage-D2wsvPct.js","assets/LoginPage-CKghBavQ.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{j as e,r as c,a as Xe}from"./react-eX7k_oyb.js";import{a as S,u as Ze,P as es}from"./react-redux-B2ydUXa7.js";import{c as ss}from"./react-dom-BE5TJDhq.js";import{_ as ve}from"./@wagmi-Cwopbt2N.js";import{L as N,c as ts,R as as}from"./react-router-dom-DIdm3YiL.js";import{T as rs,a as z,b as F,c as ns,u as Se,B as se,I as A,d as le,e as ce,f as de,g as ue,h as os,P as Ne,i as is,j as ls,k as cs,l as ds,m as us,D as ms,S as fs,C as w,n as hs,o as xs,L as V,A as ps,p as Te,R as De,q as Ce,r as gs,s as js,t as $,v as me,w as ys,x as fe,y as he,z as bs,E as vs,F as Ss}from"./@mui-B-lH2raD.js";import{c as Ns,f as Ts,a as Ds,b as Y,d as Cs,s as ks}from"./@reduxjs-9R9LrHOH.js";import{a as R}from"./reselect-BEFkisvr.js";import{O as k,c as B,b as te,f as xe,g as ws,h as j}from"./react-router-zaz7yv4n.js";import{C as Rs}from"./react-copy-to-clipboard-CVAzxf6m.js";import{j as Ls}from"./jwt-decode-VWaDGczM.js";import{C as ke,a as we,X as Re,M as Le,H as Ae,U as Ue}from"./lucide-react-CUEWfaAn.js";import{v as pe}from"./uuid-D8aEg3BZ.js";import"./boxicons-DYxgBJvX.js";import{u as As,C as ge}from"./react-hook-form-BVuS_7ec.js";import{z as b}from"./zod-dIKOytT1.js";import{t as Us}from"./@hookform-B4uZ5eeB.js";import{d as Es}from"./@fvilers-C36Jf4Wd.js";import"./@babel-BTUyE5mg.js";import"./use-sync-external-store-o46NS6CO.js";import"./scheduler-CzFDRTuY.js";import"./zustand-BxVvYF66.js";import"./viem-DO_zHWKk.js";import"./eventemitter3-B2QLvKQr.js";import"./mipd-CIcDX0W7.js";import"./@remix-run-CAT8zpu_.js";import"./clsx-B-dksMZM.js";import"./@emotion-CTR4nhAa.js";import"./hoist-non-react-statics-Buxaj0Kl.js";import"./react-is-8JwjhRSi.js";import"./stylis-NkKAe6Bn.js";import"./react-transition-group-BwIbI4gd.js";import"./redux-DITMfSWq.js";import"./immer-BkdjC0q7.js";import"./redux-thunk-ClJT1hhx.js";import"./copy-to-clipboard-BvYTofsP.js";import"./toggle-selection-BHUZwh74.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}})();function Is({cols:a,sortHandler:s,sortDirection:t}){return e.jsx(rs,{sx:{"& th":{fontWeight:"bold",fontSize:"0.9rem",color:"#272833"}},children:e.jsx(z,{children:a.map(r=>r.accessorkey==="createdDate"?e.jsx(F,{onClick:()=>{s()},children:e.jsx(ns,{active:!0,direction:t,children:r.header})},r.accessorkey):e.jsx(F,{align:r.accessorkey==="index"?void 0:"right",children:r.header},r.accessorkey))})})}function $s({count:a,page:s,rowsPerPage:t,onPageChange:r}){const n=Se(),o=i=>{r(i,0)},d=i=>{r(i,s-1)},f=i=>{r(i,s+1)},l=i=>{r(i,Math.max(0,Math.ceil(a/t)-1))};return e.jsxs(se,{sx:{flexShrink:0,ml:2.5},children:[e.jsx(A,{onClick:o,disabled:s===0,"aria-label":"first page",children:n.direction==="rtl"?e.jsx(le,{sx:{color:"#ffff"}}):e.jsx(ce,{sx:{color:"#ffff"}})}),e.jsx(A,{onClick:d,disabled:s===0,"aria-label":"previous page",children:n.direction==="rtl"?e.jsx(de,{sx:{color:"#ffff"}}):e.jsx(ue,{sx:{color:"#ffff"}})}),e.jsx(A,{onClick:f,disabled:s>=Math.ceil(a/t)-1,"aria-label":"next page",children:n.direction==="rtl"?e.jsx(ue,{sx:{color:"#ffff"}}):e.jsx(de,{sx:{color:"#ffff"}})}),e.jsx(A,{onClick:l,disabled:s>=Math.ceil(a/t)-1,"aria-label":"last page",children:n.direction==="rtl"?e.jsx(ce,{sx:{color:"#ffff"}}):e.jsx(le,{sx:{color:"#ffff"}})})]})}function Ps(a,s){const t=[];for(let r=0;r<a.length;r++){const n=a[r];s.includes(n)&&t.push(n)}return t}const H=a=>new Date(a),qs=a=>new Date(a).toLocaleString("default",{dateStyle:"medium"});function Fs({data:a,cols:s,index:t}){const r=qs(a.createdAt),n={index:t,createdDate:r,...a},o=[],d=Object.keys(n),f=s.map(i=>i.accessorkey);return Ps(f,d).map((i,u)=>(o.push(e.jsx(F,{align:i==="index"||i==="createdDate"?"left":"right",className:i==="domainsCount"||i==="referrerUsername"||i==="name"?"highlightedcell":"",children:n[i]},u)),i)),e.jsx(z,{sx:{"&:last-child td, &:last-child th":{border:0},"& td":{fontSize:"1rem"},"& td.highlightedcell.css-177gid-MuiTableCell-root":{color:" #ffff",fontWeight:"bold"}},children:o},a.id)}function Ms({data:a,cols:s,page:t,rowsPerPage:r}){const n=t>0?Math.max(0,(1+t)*r-a.length):0;return e.jsxs(os,{children:[a.length===0&&e.jsx(z,{children:e.jsx(F,{component:"td",scope:"row",colSpan:8,children:"No record found"})}),(r>0?a.slice(t*r,t*r+r):a).map((o,d)=>e.jsx(Fs,{data:o,cols:s,index:d+1},o.id)),n>0&&e.jsx(z,{style:{height:53*n},children:e.jsx(F,{colSpan:6})})]})}function L({cols:a,data:s}){const[t,r]=c.useState(0),[n,o]=c.useState(10),d=(m,x)=>{r(x)},f=m=>{o(parseInt(m.target.value,10)),r(0)},[l,i]=c.useState(s),[u,p]=c.useState("asc");c.useEffect(()=>{i(s)},[s]);const h=(m,x)=>{switch(x){case"desc":return m.sort((y,v)=>H(y.createdAt)<H(v.createdAt)?-1:1);case"asc":default:return m.sort((y,v)=>H(y.createdAt)>H(v.createdAt)?-1:1)}},g=()=>{i(h(s,u)),p(u==="asc"?"desc":"asc")};return e.jsxs(Ne,{sx:{height:"100%",background:"rgb(20, 20, 65);"},children:[e.jsx(is,{sx:{maxHeight:500},children:e.jsxs(ls,{sx:{minWidth:650,"& th":{background:"rgb(255, 255, 255);"},"& td":{color:"#ffff"}},"aria-label":"Table",stickyHeader:!0,children:[e.jsx(Is,{cols:a,sortHandler:g,sortDirection:u}),e.jsx(Ms,{data:l,cols:a,page:t,rowsPerPage:n})]})}),e.jsx(cs,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],component:"div",count:s.length,rowsPerPage:n,page:t,slotProps:{select:{inputProps:{"aria-label":"rows per page"},native:!0}},onPageChange:d,onRowsPerPageChange:f,ActionsComponent:$s,sx:{color:"#ffff"}})]})}function _({changeHandler:a,label:s}){return e.jsxs(Ne,{component:"form",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"80%",justifySelf:"center",alignSelf:"center"},children:[e.jsx(A,{sx:{p:"10px"},"aria-label":"menu",children:e.jsx(ds,{})}),e.jsx(us,{sx:{ml:1,flex:1},placeholder:s,inputProps:{"aria-label":`${s}`},onChange:t=>{a(t.target.value)}}),e.jsx(ms,{sx:{height:28,m:.5},orientation:"vertical"}),e.jsx(A,{type:"button",sx:{p:"10px"},"aria-label":"search",children:e.jsx(fs,{})})]})}const J=[{header:"SN",accessorkey:"index",footer:"SN"},{header:"Date",accessorkey:"createdDate",footer:"Date"},{header:"Username",accessorkey:"username",footer:"Username"},{header:"First Name",accessorkey:"firstName",footer:"First Name"},{header:"Last Name",accessorkey:"lastName",footer:"Last Name"},{header:"Domains",accessorkey:"domainsCount",footer:"Domains"},{header:"Wallet",accessorkey:"wallet",footer:"Wallet"},{header:"Referrer",accessorkey:"referrerUsername",footer:"Referrer"}],Ee=[{header:"SN",accessorkey:"index",footer:"SN"},{header:"Date",accessorkey:"createdDate",footer:"Date"},{header:"Domain",accessorkey:"name",footer:"Domain"},{header:"Username",accessorkey:"username",footer:"Username"},{header:"First Name",accessorkey:"firstName",footer:"First Name"},{header:"Last Name",accessorkey:"lastName",footer:"Last Name"}],Os=[{header:"SN",accessorkey:"index",footer:"SN"},{header:"Date",accessorkey:"createdDate",footer:"Date"},{header:"Username",accessorkey:"username",footer:"Username"},{header:"First Name",accessorkey:"firstName",footer:"First Name"},{header:"Last Name",accessorkey:"lastName",footer:"Last Name"},{header:"Wallet",accessorkey:"wallet",footer:"Wallet"},{header:"Total Referrals",accessorkey:"totalReferralsCount",footer:"Total Referrals"},{header:"Today Referrals",accessorkey:"todayReferralsCount",footer:"Today Referrals"},{header:"Total Domains",accessorkey:"totalDomainsCount",footer:"Total Domains"},{header:"Today Domains",accessorkey:"todayDomainsCount",footer:"Today Domains"}];function W(a,s=1e3){let t;return(...r)=>{clearTimeout(t),t=setTimeout(()=>{a(...r)},s)}}const Bs={token:""},Ie=Ns({name:"auth",initialState:Bs,reducers:{setCredentials(a,s){a.token=s.payload.accessToken},logOut(a,s){a.token=""}}}),{setCredentials:ae,logOut:_s}=Ie.actions,Ws=Ie.reducer,$e=a=>a.auth.token,ee=Ts({baseUrl:"https://gnsserv1.onrender.com/api/",credentials:"include",prepareHeaders(a,{getState:s}){const{token:t}=s().auth;return t&&a.set("authorization",`Bearer ${t}`),a}}),Hs=async(a,s,t)=>{var n,o;let r=await ee(a,s,t);if(((n=r==null?void 0:r.error)==null?void 0:n.status)===403){const d=await ee("auth/refresh",s,t);if(d!=null&&d.data)s.dispatch(ae({...d.data})),r=await ee(a,s,t);else return((o=d==null?void 0:d.error)==null?void 0:o.status)===403&&(d.error.data.message="Your login has expired "),d}return r},D=Ds({reducerPath:"gnsApi",baseQuery:Hs,tagTypes:["User","Domain"],refetchOnMountOrArgChange:!0,refetchOnReconnect:!0,endpoints:a=>({})}),re=Y({}),Pe=re.getInitialState(),qe=D.injectEndpoints({endpoints:a=>({getUsersWithStats:a.query({query:()=>({url:"users/affiliates",validateStatus:(s,t)=>s.status===200&&!t.isError}),transformResponse(s,t,r){const n=s.map(o=>(o.id=o._id,o.totalReferralsCount=o.referrals.length,o.todayReferralsCount=o.todayReferrals.length,o.totalDomainsCount=o.referralsDomains.length,o.todayDomainsCount=o.todayReferralsDomains.length,o));return re.setAll(Pe,n)},providesTags(s,t,r){return s!=null&&s.ids?[{type:"User",id:"LIST"},...s.ids.map(n=>({type:"User",id:n}))]:[{type:"User",id:"LIST"}]},forceRefetch({currentArg:s,previousArg:t}){return s!==t}})})}),{useGetUsersWithStatsQuery:Qs}=qe,zs=qe.endpoints.getUsersWithStats.select(),Gs=R(zs,a=>a.data),Ks=re.getSelectors(a=>Gs(a)??Pe);function Vs(){var g,m;const[a,s]=c.useState([]),[t,r]=c.useState(""),{isLoading:n,isFetching:o,isSuccess:d,isError:f,error:l}=Qs(),u=S(Ks.selectAll);let p;(n||o)&&(p=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(w,{})})),f&&(p=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx("p",{className:"errmsg",children:`${(g=l==null?void 0:l.data)==null?void 0:g.message}`})})),f&&(l==null?void 0:l.status)===403&&(p=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(m=l==null?void 0:l.data)==null?void 0:m.message} - `,e.jsx(N,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}));const h=c.useCallback(W(x=>{r(x)}),[]);return c.useEffect(()=>{try{if(d){const x=u.filter(y=>t.toLowerCase()===""?y:y.username.toLowerCase().includes(t));s(x)}}catch(x){console.log(x)}},[t,u]),d&&(p=e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80},children:[e.jsx(_,{changeHandler:h,label:"Search users"}),e.jsx(L,{cols:Os,data:a})]})),p}function Ys(){return e.jsx(k,{})}function Fe({initials:a,borderRadius:s=60,width:t=60,height:r=60,background:n="#141441"}){return e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",background:n,borderRadius:s,width:t,height:r},children:e.jsxs("h4",{className:"text-white font-bold",children:[" ",a," "]})})}function Me(a){var t;const s=(t=a.username)==null?void 0:t.substring(0,2).toLocaleUpperCase();return e.jsxs("div",{className:"profile-info",children:[e.jsx(Fe,{initials:s}),e.jsx("h4",{className:"username text-lg font-semibold overflow-hidden",children:a.username})]})}function Oe({username:a,dashTip:s}){return e.jsxs("div",{className:"welcome-block",children:[e.jsxs("h2",{className:"greeting font-bold text-lg",children:["Welcome, ",a]}),e.jsx("h3",{className:"dash-tip",children:s})]})}function Be({username:a}){const s=`https://app.gtxstream.com/signup?ref=${a}`,[t,r]=c.useState(""),[n,o]=c.useState(!1);c.useEffect(()=>{r(s)},[]);const d=()=>{o(!0),setTimeout(()=>{o(!1)},2e3)};return e.jsxs("div",{style:{display:"flex",borderWidth:1,borderColor:"#b9b9b9"},className:"ref-link",children:[e.jsx("h2",{className:"text-gray-300 text-xl overflow-hidden aff-link mr-1",children:t}),e.jsx(Rs,{text:t,onCopy:d,children:n?e.jsx(hs,{className:"text-green-400 cursor-pointer"}):e.jsx(xs,{className:"text-yellow-400 cursor-pointer"})})]})}const C=()=>{const a=S($e);let s=!1,t="user";if(a){const r=Ls(a),{username:n,roles:o,wallet:d,email:f}=r.userInfo;return s=o.includes("admin"),s&&(t="admin"),{username:n,roles:o,wallet:d,email:f,isAdmin:s,status:t}}return{username:"",roles:[],wallet:"",email:"",isAdmin:s,status:t}};function Js(){const s={...C(),dashTip:"Admin Dashboard"};return e.jsxs("div",{className:"profile-header",children:[e.jsx(Oe,{username:s.username,dashTip:s.dashTip}),e.jsx(Be,{username:s.username}),e.jsx(Me,{username:s.username})]})}function Xs(){return e.jsxs("div",{className:"content-container",children:[e.jsx(Js,{}),e.jsx("div",{className:"outlet-wrapper",children:e.jsx(k,{})})]})}const Zs=D.injectEndpoints({endpoints:a=>({addNewUser:a.mutation({query:s=>({url:"auth/signup",method:"POST",body:s}),invalidatesTags:[{type:"User",id:"LIST"}]}),login:a.mutation({query:s=>({url:"auth",method:"POST",body:s})}),sendLogout:a.mutation({query:()=>({url:"auth/logout",method:"POST"}),async onQueryStarted(s,t){try{await t.queryFulfilled,t.dispatch(_s({})),setTimeout(()=>{t.dispatch(D.util.resetApiState())},1e3)}catch(r){console.error(r)}}}),refresh:a.mutation({query:()=>({url:"auth/refresh",method:"GET"}),async onQueryStarted(s,{dispatch:t,queryFulfilled:r}){try{const{data:n}=await r,{accessToken:o}=n;t(ae({accessToken:o}))}catch(n){console.error(n)}}})})}),{useAddNewUserMutation:La,useLoginMutation:et,useRefreshMutation:st,useSendLogoutMutation:X}=Zs,_e=c.createContext(void 0);function tt({children:a}){const{username:s,email:t}=C(),[r,n]=c.useState(!0),[o]=X(),d=B(),[f,l]=c.useState(!1),i=s==null?void 0:s.substring(0,2).toLocaleUpperCase();return e.jsx("aside",{className:"h-screen",children:e.jsxs("nav",{className:"h-full flex flex-col lg:border-r shadow-sm",children:[e.jsxs("div",{className:"p-4 pb-2 flex justify-between items-center",children:[e.jsx("img",{src:"/images/gtx-stream-logo1.png",className:`overflow-hidden transition-all ${r?"w-32":"w-0"}`,alt:""}),e.jsx("button",{onClick:()=>{n(u=>!u)},className:"max-sm:hidden p-1.5 rounded-lg bg-gray-50 hover:bg-gray-100",children:r?e.jsx(ke,{color:"black"}):e.jsx(we,{color:"#000"})}),e.jsx("button",{onClick:()=>{l(!f)},className:"lg:hidden md:hidden p-1.5 rounded-lg bg-gray-50 hover:bg-gray-100",children:f?e.jsx(Re,{color:"#000"}):e.jsx(Le,{color:"#000"})})]}),e.jsx(_e.Provider,{value:{expanded:r},children:f?e.jsx("ul",{className:"open flex-1 px-3 lg:hidden",children:a}):e.jsx("ul",{className:"flex-1 px-3 max-sm:hidden",children:a})}),e.jsxs("div",{className:"border-t flex p-3 sidebar-userinfo",children:[e.jsx(Fe,{initials:i,borderRadius:8,width:50,height:50,background:"#27275a"}),e.jsxs("div",{className:`
              flex justify-between items-center
              overflow-hidden transition-all ${r?"w-52 ml-3":"w-0"}
          `,children:[e.jsxs("div",{className:"leading-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-100",children:[" ",s," "]}),e.jsxs("span",{className:"text-xs text-gray-100",children:[" ",t," "]})]}),e.jsx(V,{className:"text-gray-200 cursor-pointer",onClick:async u=>{await o(null),d("/admin")}})]})]})]})})}function P({icon:a,label:s,active:t,alert:r,link:n}){const{expanded:o}=c.useContext(_e);return e.jsx(N,{to:n,children:e.jsxs("li",{className:`
		  relative flex items-center py-2 px-3 my-1
		  font-medium rounded-md cursor-pointer
		  transition-colors group
		  ${t?"bg-gradient-to-tr from-sky-200 to-sky-100 text-sky-700":"hover:bg-gradient-to-tr from-indigo-900 to-indigo-700 text-gray-100"}
	  `,children:[a,e.jsx("span",{className:`overflow-hidden transition-all ${o?"w-52 ml-3":"w-0"}`,children:s}),r&&e.jsx("div",{className:`absolute right-2 w-2 h-2 rounded bg-sky-400 ${o?"":"top-2"}`}),!o&&e.jsx("div",{className:`
			absolute left-full rounded-md px-2 py-1 ml-6
			bg-sky-100 text-sky-800 text-sm
			invisible opacity-20 -translate-x-3 transition-all
			group-hover:visible group-hover:opacity-100 group-hover:translate-x-0
		`,children:s})]})})}function at(){const a=()=>{B(),X()},s=te();return e.jsx("div",{className:"sidebar",children:e.jsxs(tt,{children:[e.jsx(P,{icon:e.jsx(Ae,{}),label:"Dashboard",active:s.pathname==="/admindash",link:"/admindash"}),e.jsx(P,{icon:e.jsx(Ue,{}),label:"Users",active:s.pathname==="/admindash/users",link:"/admindash/users"}),e.jsx(P,{icon:e.jsx(ps,{}),label:"Affiliates",active:s.pathname==="/admindash/affiliates",link:"/admindash/affiliates"}),e.jsx(P,{icon:e.jsx(Te,{}),label:"Domains",active:s.pathname==="/admindash/domains",link:"/admindash/domains"}),e.jsx(P,{icon:e.jsx(De,{}),label:"Airdrop",active:s.pathname==="/admindash/users/tasks",link:"/admindash/users/tasks"}),e.jsxs("li",{className:"lg:hidden md:hidden logout-link cursor-pointer text-gray-900",onClick:a,children:[e.jsx(V,{fontSize:"medium"})," ",e.jsx("span",{children:"Logout"})]})]})})}function rt(){return e.jsxs("div",{className:"page dash-layout",children:[e.jsx(at,{}),e.jsx(Xs,{})]})}const M=Y({}),G=M.getInitialState(),ne=D.injectEndpoints({endpoints:a=>({getAdminStats:a.query({query:()=>({url:"stats/admin",validateStatus:(s,t)=>s.status===200&&!t.isError}),transformResponse(s,t,r){const n=s.map(o=>(o.id=pe(),o));return M.setAll(G,n)},forceRefetch({currentArg:s,previousArg:t}){return s!==t}}),getUserStats:a.query({query:s=>({url:`stats/${s}`,validateStatus:(t,r)=>t.status===200&&!r.isError}),transformResponse(s,t,r){const n=s.map(o=>(o.id=pe(),o));return M.setAll(G,n)},forceRefetch({currentArg:s,previousArg:t}){return s!==t}})})}),{useGetAdminStatsQuery:nt,useGetUserStatsQuery:ot}=ne,it=ne.endpoints.getAdminStats.select(),lt=R(it,a=>a.data),ct=M.getSelectors(a=>lt(a)??G);function dt({data:a}){return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"text-block",children:[e.jsx("h3",{className:"font-bold text-xl text-gray-50",children:a.label}),e.jsxs("h2",{className:"font-bold text-2xl text-gray-50",children:[" ",a.value," "]})]}),e.jsx("div",{className:"icon-block",children:e.jsx("box-icon",{size:"lg",type:a.icon==="globe"?"regular":"solid",name:a.icon,color:"rgba(206, 206, 208, 0.5)"})})]})}function ut(){const{isSuccess:a}=nt(),s=S(ct.selectAll);let t=[];return a&&(t=[{id:1,label:"Total Signups",value:s[0].totalusers,iconType:"user",icon:"group"},{id:2,label:"Total Domains",value:s[0].totalDomains,iconType:"domain",icon:"diamond"},{id:3,label:"Signups Today",value:s[0].todayUsers,iconType:"user",icon:"group"},{id:4,label:"Domains Today",value:s[0].todayDomains,iconType:"domain",icon:"diamond"}]),e.jsx("div",{className:"stat-block",children:t.map((r,n)=>e.jsx(dt,{data:r},r.id))})}const O=Y({}),K=O.getInitialState(),Z=D.injectEndpoints({endpoints:a=>({getUsers:a.query({query:()=>({url:"users",validateStatus:(s,t)=>s.status===200&&!t.isError}),transformResponse(s,t,r){const n=s.map(o=>(o.id=o._id,o));return O.setAll(K,n)},providesTags(s,t,r){return s!=null&&s.ids?[{type:"User",id:"LIST"},...s.ids.map(n=>({type:"User",id:n}))]:[{type:"User",id:"LIST"}]},forceRefetch({currentArg:s,previousArg:t}){return s!==t}}),getUserReferrals:a.query({query:s=>({url:`users/referrals/${s}`,validateStatus:(t,r)=>t.status===200&&!r.isError}),transformResponse(s,t,r){const n=s.map(o=>(o.id=o._id,o));return O.setAll(K,n)},providesTags(s,t,r){return s!=null&&s.ids?[{type:"User",id:"LIST"},...s.ids.map(n=>({type:"User",id:n}))]:[{type:"User",id:"LIST"}]},forceRefetch({currentArg:s,previousArg:t}){return s!==t}}),addNewUser:a.mutation({query:s=>({url:"users",method:"POST",body:s}),invalidatesTags:[{type:"User",id:"LIST"}]}),updateUser:a.mutation({query:({id:s,data:t})=>({url:`users/${s}`,method:"PATCH",body:t}),invalidatesTags:(s,t,r)=>[{type:"User",id:r.id}]}),deleteUser:a.mutation({query:({id:s})=>({url:`/users/${s}`,method:"DELETE",body:s}),invalidatesTags:(s,t,r)=>[{type:"User",id:r.id}]})})}),{useGetUsersQuery:We,useGetUserReferralsQuery:He,useAddNewUserMutation:Aa,useUpdateUserMutation:Ua,useDeleteUserMutation:Ea,usePrefetch:Ia}=Z,mt=Z.endpoints.getUsers.select(),ft=R(mt,a=>a.data);Z.endpoints.getUserReferrals.select("id");const Qe=O.getSelectors(a=>ft(a)??K);function ht(){var p,h;const[a,s]=c.useState([]),[t,r]=c.useState(""),{isLoading:n,isFetching:o,isSuccess:d,isError:f,error:l}=We(),i=S(Qe.selectAll);let u;return(n||o)&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(w,{})})),f&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx("p",{className:"errmsg",children:`${(p=l==null?void 0:l.data)==null?void 0:p.message}`})})),f&&(l==null?void 0:l.status)===403&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(h=l==null?void 0:l.data)==null?void 0:h.message} - `,e.jsx(N,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})})),c.useCallback(W(g=>{r(g)}),[]),c.useEffect(()=>{try{const g=i.filter(m=>t.toLowerCase()===""?m:m.username.toLowerCase().includes(t));s(g)}catch(g){console.log(g)}},[t,i]),d&&(u=e.jsxs("div",{className:"dashboard-page",children:[e.jsx(ut,{}),e.jsx(L,{cols:J,data:a})]})),u}const U=Y({}),q=U.getInitialState(),oe=D.injectEndpoints({endpoints:a=>({getDomains:a.query({query:()=>({url:"domains",validateStatus:(s,t)=>s.status===200&&!t.isError}),transformResponse(s,t,r){const n=s.map(o=>(o.id=o._id,o));return U.setAll(q,n)},providesTags(s,t,r){return s!=null&&s.ids?[{type:"Domain",id:"LIST"},...s.ids.map(n=>({type:"Domain",id:n}))]:[{type:"Domain",id:"LIST"}]},forceRefetch({currentArg:s,previousArg:t}){return s!==t}}),getUserDomains:a.query({query:s=>({url:`domains/${s}`,validateStatus:(t,r)=>t.status===200&&!r.isError}),transformResponse(s,t,r){const n=s.map(o=>(o.id=o._id,o));return U.setAll(q,n)},providesTags(s,t,r){return s!=null&&s.ids?[{type:"Domain",id:"LIST"},...s.ids.map(n=>({type:"Domain",id:n}))]:[{type:"Domain",id:"LIST"}]},forceRefetch({currentArg:s,previousArg:t}){return s!==t}}),getUserReferralsDomains:a.query({query:s=>({url:`users/referrals/domains/${s}`,validateStatus:(t,r)=>t.status===200&&!r.isError}),transformResponse(s,t,r){const n=s.map(o=>(o.id=o._id,o));return U.setAll(q,n)},providesTags(s,t,r){return s!=null&&s.ids?[{type:"Domain",id:"LIST"},...s.ids.map(n=>({type:"Domain",id:n}))]:[{type:"Domain",id:"LIST"}]},forceRefetch({currentArg:s,previousArg:t}){return s!==t}})})}),{useGetDomainsQuery:xt,useGetUserDomainsQuery:$a,useGetUserReferralsDomainsQuery:pt}=oe,gt=oe.endpoints.getDomains.select(),jt=R(gt,a=>a.data),yt=U.getSelectors(a=>jt(a)??q);function bt(){var h,g;const[a,s]=c.useState([]),[t,r]=c.useState(""),{isLoading:n,isFetching:o,isSuccess:d,isError:f,error:l}=xt(),i=S(yt.selectAll);let u;(n||o)&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(w,{})})),f&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx("p",{className:"errmsg",children:`${(h=l==null?void 0:l.data)==null?void 0:h.message}`})})),f&&(l==null?void 0:l.status)===403&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(g=l==null?void 0:l.data)==null?void 0:g.message} - `,e.jsx(N,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}));const p=c.useCallback(Ce(m=>{r(m)}),[]);return c.useEffect(()=>{try{const m=i.filter(x=>t.toLowerCase()===""?x:x.username.toLowerCase().includes(t));s(m)}catch(m){console.log(m)}},[t,i]),d&&(u=e.jsxs("div",{className:"domainslist-page",style:{display:"flex",flexDirection:"column",gap:50,marginTop:80},children:[e.jsx(_,{changeHandler:p,label:"Search domains by owner"}),e.jsx(L,{cols:Ee,data:a})]})),u}function je(){return e.jsx("div",{children:"EditDomain"})}const vt=()=>e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold",children:"Error 404 - Page Not Found"}),e.jsx("p",{children:"The page you are trying to access does not exist."}),e.jsx("p",{className:"errmsg",children:e.jsx(N,{style:{fontWeight:"bold",textAlign:"right"},to:"/",children:"You can login here"})})]});function St(a,s,t){const[r,n]=c.useState(()=>{const o=localStorage.getItem(s);if(o===null)return a;try{const d=JSON.parse(o);return t?t(d):d}catch{return console.error("error parsing saved state from useStickyState"),a}});return c.useEffect(()=>{localStorage.setItem(s,JSON.stringify(r))},[s,r]),[r,n]}function Nt(){var h;const[a]=St("true","persit"),s=S($e),t=c.useRef(!1),[r,n]=c.useState(!1),[o,{isUninitialized:d,isLoading:f,isSuccess:l,isError:i,error:u}]=st();c.useEffect(()=>(t.current,!s&&a&&(async()=>{try{await o(),n(!0)}catch{}})().then(m=>{console.log(m)}).catch(m=>{console.log(m)}),()=>{t.current=!0}),[]);let p;return a?f?p=e.jsxs("div",{className:"loading-state",style:{width:"100vw",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsx("p",{children:"Contacting backend"}),e.jsx(se,{sx:{width:"100%"},children:e.jsx(gs,{})})]}):i?p=e.jsx("div",{className:"err-cta",children:e.jsxs("p",{className:"errmsg",children:[`${(h=u==null?void 0:u.data)==null?void 0:h.message} - `,e.jsx(N,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}):l&&r?p=e.jsx(k,{}):s&&d&&(p=e.jsx(k,{})):p=e.jsx(k,{}),p}function ye({permitedRoles:a}){const s=te(),{username:t,roles:r}=C();let n;return t||(n=e.jsx(xe,{to:"/",state:{from:s},replace:!0})),(r==null?void 0:r.some(d=>a.includes(d)))?n=e.jsx(k,{}):n=e.jsx(xe,{to:"/",state:{from:s},replace:!0}),n}function ze(a,s){a.innerHTML=s,Array.from(a.querySelectorAll("script")).forEach(t=>{const r=document.createElement("script");Array.from(t.attributes).forEach(n=>{r.setAttribute(n.name,n.value)}),r.appendChild(document.createTextNode(t.innerHTML)),t.parentNode.replaceChild(r,t)})}const Ge='<a class="e-widget no-button" href="https://gleam.io/S7oyH/gravityx-airdrop" rel="nofollow">GravityX Airdrop</a><script type="text/javascript" src="https://widget.gleamjs.io/e.js" async="true"><\/script>';function Tt(){return c.useEffect(()=>{ze(document.querySelector("#gleam_competition"),Ge)},[]),e.jsx("div",{className:"task-page",children:e.jsx("div",{id:"gleam_competition"})})}function Dt(){const s={...C(),dashTip:"Explore your Dashboard"};return e.jsxs("div",{className:"profile-header",children:[e.jsx(Oe,{username:s.username,dashTip:s.dashTip}),e.jsx(Be,{username:s.username}),e.jsx(Me,{username:s.username})]})}function Ct(){return e.jsxs("div",{className:"content-container",children:[e.jsx(Dt,{}),e.jsx("div",{className:"outlet-wrapper",children:e.jsx(k,{})})]})}function kt({initials:a,borderRadius:s=60,width:t=60,height:r=60,background:n="#141441"}){return e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",background:n,borderRadius:s,width:t,height:r},children:e.jsxs("h4",{className:"text-white font-bold",children:[" ",a," "]})})}const Ke=c.createContext(void 0);function wt({children:a}){const[s,t]=c.useState(!0),{username:r,email:n}=C(),[o]=X(),d=B(),f=r==null?void 0:r.substring(0,2).toLocaleUpperCase(),[l,i]=c.useState(!1);return e.jsx("aside",{className:"h-screen desktop-menu",children:e.jsxs("nav",{className:"h-full flex flex-col  lg:border-r shadow-sm sidebar-style",children:[e.jsxs("div",{className:"p-4 pb-2 flex justify-between items-center",children:[e.jsx("img",{src:"/images/gtx-stream-logo1.png",className:`overflow-hidden transition-all ${s?"w-32":"w-0"}`,alt:""}),e.jsx("button",{onClick:()=>{t(u=>!u)},className:"max-sm:hidden p-1.5 rounded-lg bg-gray-50 hover:bg-gray-100",children:s?e.jsx(ke,{color:"black"}):e.jsx(we,{color:"#000"})}),e.jsx("button",{onClick:()=>{i(!l)},className:"lg:hidden md:hidden p-1.5 rounded-lg bg-gray-50 hover:bg-gray-100",children:l?e.jsx(Re,{color:"#000"}):e.jsx(Le,{color:"#000"})})]}),e.jsx(Ke.Provider,{value:{expanded:s},children:l?e.jsx("ul",{className:"open flex-1 px-3 lg:hidden",children:a}):e.jsx("ul",{className:"flex-1 px-3 max-sm:hidden",children:a})}),e.jsxs("div",{className:"border-t border-b flex p-3 sidebar-userinfo",children:[e.jsx(kt,{initials:f,borderRadius:8,width:50,height:50,background:"#27275a"}),e.jsxs("div",{className:`
              flex justify-between items-center
              overflow-hidden transition-all ${s?"w-52 ml-3":"w-0"}
          `,children:[e.jsxs("div",{className:"leading-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-100",children:[" ",r," "]}),e.jsxs("span",{className:"text-xs text-gray-100",children:[" ",n," "]})]}),e.jsx(V,{className:"text-gray-200 cursor-pointer",onClick:async u=>{await o(null),d("/")}})]})]})]})})}function Q({icon:a,label:s,active:t,alert:r,link:n}){const{expanded:o}=c.useContext(Ke);return e.jsx(N,{to:n,children:e.jsxs("li",{className:`
		  relative flex items-center py-2 px-3 my-1
		  font-medium rounded-md cursor-pointer
		  transition-colors group
		  ${t?"bg-gradient-to-tr from-sky-200 to-sky-100 text-sky-700":"hover:bg-gradient-to-tr from-indigo-900 to-indigo-700 text-gray-100"}
	  `,children:[a,e.jsx("span",{className:`overflow-hidden transition-all ${o?"w-52 ml-3":"w-0"}`,children:s}),r&&e.jsx("div",{className:`absolute right-2 w-2 h-2 rounded bg-sky-400 ${o?"":"top-2"}`}),!o&&e.jsx("div",{className:`
			absolute left-full rounded-md px-2 py-1 ml-6
			bg-sky-100 text-sky-800 text-sm
			invisible opacity-20 -translate-x-3 transition-all
			group-hover:visible group-hover:opacity-100 group-hover:translate-x-0
		`,children:s})]})})}function Rt(){const a=B(),[s]=X(),t=async()=>{await s(null),a("/admin")},r=te();return e.jsx("div",{className:"sidebar",children:e.jsxs(wt,{children:[e.jsx(Q,{icon:e.jsx(Ae,{}),label:"Dashboard",active:r.pathname==="/dash",link:"/dash"}),e.jsx(Q,{icon:e.jsx(Ue,{}),label:"Referrals",active:r.pathname==="/dash/users",link:"/dash/users"}),e.jsx(Q,{icon:e.jsx(Te,{}),label:"Domains",active:r.pathname==="/dash/domains",link:"/dash/domains"}),e.jsx(Q,{icon:e.jsx(De,{}),label:"Airdrop",active:r.pathname==="/dash/users/tasks",link:"/dash/users/tasks"}),e.jsxs("li",{className:"lg:hidden md:hidden logout-link cursor-pointer text-gray-900",onClick:t,children:[e.jsx(V,{fontSize:"medium"})," ",e.jsx("span",{children:"Logout"})]})]})})}function Lt(){return e.jsxs("div",{className:"page dash-layout",children:[e.jsx(Rt,{}),e.jsx(Ct,{})]})}function At({data:a}){return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"text-block",children:[e.jsx("h3",{className:"font-bold text-xl text-gray-50",children:a.label}),e.jsxs("h2",{className:"font-bold text-2xl text-gray-50",children:[" ",a.value," "]})]}),e.jsx("div",{className:"icon-block",children:e.jsx("box-icon",{size:"lg",type:a.icon==="globe"?"regular":"solid",name:a.icon,color:"rgba(206, 206, 208, 0.5)"})})]})}function Ut(a){return c.useMemo(()=>{const s=ne.endpoints.getUserStats.select(a),t=R([s],r=>r.data);return M.getSelectors(r=>t(r)??G)},[a])}function Et(){const a=C(),{isSuccess:s}=ot(a.username),t=Ut(a.username),r=S(t.selectAll);let n=[];return s&&(n=[{id:1,label:"Total Signups",value:r[0].totalusers,iconType:"user",icon:"group"},{id:2,label:"Total Points",value:r[0].totalusers,iconType:"user",icon:"award"},{id:3,label:"Total Domains",value:r[0].totalDomains,iconType:"domain",icon:"diamond"},{id:4,label:"Signups Today",value:r[0].todayUsers,iconType:"user",icon:"group"},{id:5,label:"Domains Today",value:r[0].todayDomains,iconType:"domain",icon:"diamond"}]),e.jsx("div",{className:"stat-block",children:n.map((o,d)=>e.jsx(At,{data:o},o.id))})}function Ve(a){return c.useMemo(()=>{const s=Z.endpoints.getUserReferrals.select(a),t=R([s],r=>r.data);return O.getSelectors(r=>t(r)??K)},[a])}function It(){var g,m;const[a,s]=c.useState([]),[t,r]=c.useState(""),n=C(),{isLoading:o,isFetching:d,isSuccess:f,isError:l,error:i}=He(n.username),u=Ve(n.username),p=S(u.selectAll);let h;return(o||d)&&(h=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(w,{})})),l&&(h=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx("p",{className:"errmsg",children:`${(g=i==null?void 0:i.data)==null?void 0:g.message}`})})),l&&(i==null?void 0:i.status)===403&&(h=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(m=i==null?void 0:i.data)==null?void 0:m.message} - `,e.jsx(N,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})})),c.useCallback(W(x=>{r(x)}),[]),c.useEffect(()=>{try{if(f){const x=p.filter(y=>t.toLowerCase()===""?y:y.username.toLowerCase().includes(t));s(x)}}catch(x){console.log(x)}},[t,p]),f&&(h=e.jsxs("div",{className:"dashboard-page",children:[e.jsx(Et,{}),e.jsx(L,{cols:J,data:a})]})),h}function $t(a){return c.useMemo(()=>{const s=oe.endpoints.getUserReferralsDomains.select(a),t=R([s],r=>r.data);return U.getSelectors(r=>t(r)??q)},[a])}function Pt(){var m,x;const[a,s]=c.useState([]),[t,r]=c.useState(""),n=C(),{isLoading:o,isFetching:d,isSuccess:f,isError:l,error:i}=pt(n.username),u=$t(n.username),p=S(u.selectAll);let h;(o||d)&&(h=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(w,{})})),l&&(h=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx("p",{className:"errmsg",children:`${(m=i==null?void 0:i.data)==null?void 0:m.message}`})})),l&&(i==null?void 0:i.status)===403&&(h=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(x=i==null?void 0:i.data)==null?void 0:x.message} - `,e.jsx(N,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}));const g=c.useCallback(Ce(y=>{r(y)}),[]);return c.useEffect(()=>{try{const y=p.filter(v=>t.toLowerCase()===""?v:v.name.toLowerCase().includes(t));s(y)}catch(y){console.log(y)}},[t,p]),f&&(h=e.jsxs("div",{className:"domainslist-page",style:{display:"flex",flexDirection:"column",gap:50,marginTop:80},children:[e.jsx(_,{changeHandler:g,label:"Search domains by name"}),e.jsx(L,{cols:Ee,data:a})]})),h}const Pa=b.object({firstName:b.string().min(2,{message:"Requires at least 2 characters"}),lastName:b.string().min(2,{message:"Requires at least 2 characters"}),username:b.string().min(3,{message:"Requires at least 3 characters"}),password:b.string().min(8,{message:"Requires at least 8 characters"}),email:b.string().email({message:"Invalid email addreess"}),wallet:b.string().regex(/^0x/,"Invalid Wallet address - use a polygon chain address").min(10,{message:"A valid wallet address is required"}).optional(),referrerUsername:b.string().min(3,{message:"Referrer username is Required"}),terms:b.boolean()}).superRefine(({terms:a},s)=>{a||s.addIssue({code:b.ZodIssueCode.custom,message:"You must accept the terms to proceed",path:["terms"]})}),qt=b.object({username:b.string().min(3,{message:"Requires at least 3 characters"}),password:b.string().min(8,{message:"Requires at least 8 characters"})});b.object({referrerUsername:b.string().min(3,{message:"A valid referral username is required !"}),wallet:b.string().min(8,{message:"A valid wallet address is required !"}).optional()});const Ft=a=>js({palette:{mode:a.palette.mode},components:{MuiCheckbox:{styleOverrides:{root:{"&.MuiFormHelperText-root,.Mui-error":{color:"#ffa7a7 !important"}}}},MuiTextField:{styleOverrides:{root:{"--TextField-brandBorderColor":"#E0E3E7","--TextField-brandBorderHoverColor":"#B2BAC2","--TextField-brandBorderFocusedColor":"#6F7E8C","& label.Mui-focused":{color:$[500]},"&.MuiFormHelperText-root,.Mui-error":{color:"#ffa7a7 !important"}}}},MuiOutlinedInput:{styleOverrides:{notchedOutline:{borderColor:$[100]},root:{[`&:hover .${me.notchedOutline}`]:{borderColor:$[300]},[`&.Mui-focused .${me.notchedOutline}`]:{borderColor:$[200]}}}},MuiFilledInput:{styleOverrides:{root:{"&::before, &::after":{borderBottom:`2px solid ${$[500]}`},"&:hover:not(.Mui-disabled, .Mui-error):before":{borderBottom:"2px solid var(--TextField-brandBorderHoverColor)"},"&.Mui-focused:after":{borderBottom:"2px solid var(--TextField-brandBorderFocusedColor)"},"&.MuiFilledInput-root":{background:"#fff"}}}}}});function Mt(){var v,ie;const a=Se(),s=B(),t=Ze(),[r,{isLoading:n,isSuccess:o,isError:d,error:f}]=et(),{register:l,handleSubmit:i,control:u,reset:p,setError:h,formState:{isSubmitting:g,isSubmitSuccessful:m,errors:x}}=As({mode:"all",resolver:Us(qt),defaultValues:{username:"",password:""}});c.useEffect(()=>{o&&s("/dash",{replace:!0})},[o,s]);const y=c.useCallback(async E=>{try{const{accessToken:T}=await r(E).unwrap();t(ae({accessToken:T}))}catch(T){(T==null?void 0:T.status)==="FETCH_ERROR"&&h("root.serverError",{type:"server",message:"Network or internet Error"}),(T==null?void 0:T.status)===404&&h("root.serverError",{type:"server",message:"Invalid Login Credentials"})}},[]);return e.jsxs("div",{children:[e.jsxs("div",{className:"title-wrapper w-full flex justify-between items-center mb-8 ",children:[e.jsx("img",{src:"/images/gtx-stream-logo1.png",className:"w-32",alt:""}),e.jsx("h2",{className:"text-2xl font-bold text-center text-gray-50",children:"Login"})]}),e.jsx(ys,{theme:Ft(a),children:e.jsx("form",{onSubmit:i(y),children:e.jsxs(se,{component:"div",sx:{p:"2px 4px",display:"flex",flexDirection:"column",alignItems:"center",gap:2,width:350,boxShadow:0},children:[e.jsx(ge,{name:"username",control:u,render:({field:E,fieldState:{error:T},formState:Je})=>{var I;return e.jsx(fe,{id:"username",label:"Username",variant:"filled",type:"text",error:!!x.username,helperText:(I=x.username)==null?void 0:I.message,...E,fullWidth:!0,InputProps:{startAdornment:e.jsx(he,{position:"start",children:e.jsx(bs,{})})}})}}),e.jsx(ge,{name:"password",control:u,render:({field:E,fieldState:{error:T},formState:Je})=>{var I;return e.jsx(fe,{id:"password",label:"Password",variant:"filled",type:"password",error:!!x.password,helperText:(I=x.password)==null?void 0:I.message,...E,fullWidth:!0,InputProps:{startAdornment:e.jsx(he,{position:"start",children:e.jsx(vs,{})})}})}}),e.jsx(Ss,{type:"submit",variant:"contained",className:"btn",children:"Submit"}),e.jsx("div",{children:e.jsx("p",{style:{fontWeight:"bold"},children:(ie=(v=x.root)==null?void 0:v.serverError)==null?void 0:ie.message})})]})})})]})}function Ot(){return e.jsx("div",{className:"signup-page",children:e.jsx("div",{className:"form-wrapper",children:e.jsx(Mt,{})})})}function Bt(){var m,x;const[a,s]=c.useState([]),[t,r]=c.useState(""),n=C(),{isLoading:o,isFetching:d,isSuccess:f,isError:l,error:i}=He(n.username),u=Ve(n.username),p=S(u.selectAll);let h;(o||d)&&(h=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(w,{})})),l&&(h=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx("p",{className:"errmsg",children:`${(m=i==null?void 0:i.data)==null?void 0:m.message}`})})),l&&(i==null?void 0:i.status)===403&&(h=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(x=i==null?void 0:i.data)==null?void 0:x.message} - `,e.jsx(N,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}));const g=c.useCallback(W(y=>{r(y)}),[]);return c.useEffect(()=>{try{if(f){const y=p.filter(v=>t.toLowerCase()===""?v:v.username.toLowerCase().includes(t));s(y)}}catch(y){console.log(y)}},[t,p]),f&&(h=e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80},children:[e.jsx(_,{changeHandler:g,label:"Search by username"}),e.jsx(L,{cols:J,data:a})]})),h}function _t(){return c.useEffect(()=>{ze(document.querySelector("#gleam_competition"),Ge)},[]),e.jsx("div",{className:"task-page",children:e.jsx("div",{id:"gleam_competition"})})}function Wt(){var h,g;const[a,s]=c.useState([]),[t,r]=c.useState(""),{isLoading:n,isFetching:o,isSuccess:d,isError:f,error:l}=We(),i=S(Qe.selectAll);let u;(n||o)&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(w,{})})),f&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx("p",{className:"errmsg",children:`${(h=l==null?void 0:l.data)==null?void 0:h.message}`})})),f&&(l==null?void 0:l.status)===403&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(g=l==null?void 0:l.data)==null?void 0:g.message} - `,e.jsx(N,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}));const p=c.useCallback(W(m=>{r(m)}),[]);return c.useEffect(()=>{try{const m=i.filter(x=>t.toLowerCase()===""?x:x.username.toLowerCase().includes(t));s(m)}catch(m){console.log(m)}},[t,i]),d&&(u=e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80},children:[e.jsx(_,{changeHandler:p,label:"Search users"}),e.jsx(L,{cols:J,data:a})]})),u}const be={user:"user",manager:"manager",admin:"admin"},Ht=c.lazy(async()=>ve(()=>import("./SignupPage-6VLknjI7.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49]))),Qt=c.lazy(async()=>ve(()=>import("./LoginPage-D2wsvPct.js"),__vite__mapDeps([50,1,2,25,26,34,35,27,28,29,30,31,32,21,22,33,23,24,5,6,7,8,9,20,36,37,38,39,40,41,42,43,44,45,46,47,13,48,51]))),zt=ts(ws(e.jsxs(j,{path:"/",element:e.jsx(Ys,{}),errorElement:e.jsx(vt,{}),children:[e.jsx(j,{index:!0,element:e.jsx(Ot,{})}),e.jsx(j,{path:"signup",element:e.jsx(Ht,{})}),e.jsx(j,{path:"admin",element:e.jsx(Qt,{})}),e.jsxs(j,{element:e.jsx(Nt,{}),children:[e.jsx(j,{element:e.jsx(ye,{permitedRoles:[be.admin]}),children:e.jsxs(j,{path:"admindash",element:e.jsx(rt,{}),children:[e.jsx(j,{index:!0,element:e.jsx(ht,{})}),e.jsxs(j,{path:"users",children:[e.jsx(j,{index:!0,element:e.jsx(Wt,{})}),e.jsx(j,{path:"tasks",element:e.jsx(Tt,{})})]}),e.jsx(j,{path:"affiliates",children:e.jsx(j,{index:!0,element:e.jsx(Vs,{})})}),e.jsxs(j,{path:"domains",children:[e.jsx(j,{index:!0,element:e.jsx(bt,{})}),e.jsx(j,{path:":id",element:e.jsx(je,{})})]})]})}),e.jsx(j,{element:e.jsx(ye,{permitedRoles:[be.user]}),children:e.jsxs(j,{path:"dash",element:e.jsx(Lt,{}),children:[e.jsx(j,{index:!0,element:e.jsx(It,{})}),e.jsxs(j,{path:"users",children:[e.jsx(j,{index:!0,element:e.jsx(Bt,{})}),e.jsx(j,{path:"tasks",element:e.jsx(_t,{})})]}),e.jsxs(j,{path:"domains",children:[e.jsx(j,{index:!0,element:e.jsx(Pt,{})}),e.jsx(j,{path:":id",element:e.jsx(je,{})})]})]})})]})]}))),Ye=Cs({reducer:{[D.reducerPath]:D.reducer,auth:Ws},middleware:a=>a().concat(D.middleware),devTools:!0});ks(Ye.dispatch);Es();ss.createRoot(document.getElementById("root")).render(e.jsx(Xe.StrictMode,{children:e.jsx(es,{store:Ye,children:e.jsx(as,{router:zt})})}));export{et as a,ae as b,Ft as c,qt as l,Pa as s,La as u};
