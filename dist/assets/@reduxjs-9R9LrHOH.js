var bt=Object.defineProperty;var vt=(e,t,i)=>t in e?bt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var we=(e,t,i)=>(vt(e,typeof t!="symbol"?t+"":t,i),i);import{i as W,c as it,a as St,b as Mt,d as Te,e as Qe}from"./redux-DITMfSWq.js";import{i as ve,c as wt,p as re,a as ke,e as Rt,b as $e,d as st,o as Ot}from"./immer-BkdjC0q7.js";import{c as At,w as Ce,a as ot}from"./reselect-BEFkisvr.js";import{t as Et,w as jt}from"./redux-thunk-ClJT1hhx.js";import{r as D}from"./react-eX7k_oyb.js";import{b as Tt,u as Ct,a as It,c as Dt,s as ue}from"./react-redux-B2ydUXa7.js";var qt=(...e)=>{const t=At(...e),i=Object.assign((...s)=>{const u=t(...s),h=(g,...O)=>u(ve(g)?wt(g):g,...O);return Object.assign(h,u),h},{withTypes:()=>i});return i},Qt=qt(Ce),kt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Te:Te.apply(null,arguments)},_t=e=>e&&typeof e.match=="function";function U(e,t){function i(...s){if(t){let u=t(...s);if(!u)throw new Error(x(0));return{type:e,payload:u.payload,..."meta"in u&&{meta:u.meta},..."error"in u&&{error:u.error}}}return{type:e,payload:s[0]}}return i.toString=()=>`${e}`,i.type=e,i.match=s=>Qe(s)&&s.type===e,i}function Pt(e){return Qe(e)&&Object.keys(e).every(Ft)}function Ft(e){return["type","payload","error","meta"].indexOf(e)>-1}var ut=class oe extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,oe.prototype)}static get[Symbol.species](){return oe}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new oe(...t[0].concat(this)):new oe(...t.concat(this))}};function xe(e){return ke(e)?re(e,()=>{}):e}function ze(e,t,i){if(e.has(t)){let u=e.get(t);return i.update&&(u=i.update(u,t,e),e.set(t,u)),u}if(!i.insert)throw new Error(x(10));const s=i.insert(t,e);return e.set(t,s),s}function Lt(e){return typeof e=="boolean"}var $t=()=>function(t){const{thunk:i=!0,immutableCheck:s=!0,serializableCheck:u=!0,actionCreatorCheck:h=!0}=t??{};let g=new ut;return i&&(Lt(i)?g.push(Et):g.push(jt(i.extraArgument))),g},Z="RTK_autoBatch",ie=()=>e=>({payload:e,meta:{[Z]:!0}}),ct=e=>t=>{setTimeout(t,e)},xt=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ct(10),zt=(e={type:"raf"})=>t=>(...i)=>{const s=t(...i);let u=!0,h=!1,g=!1;const O=new Set,R=e.type==="tick"?queueMicrotask:e.type==="raf"?xt:e.type==="callback"?e.queueNotification:ct(e.timeout),v=()=>{g=!1,h&&(h=!1,O.forEach(w=>w()))};return Object.assign({},s,{subscribe(w){const m=()=>u&&w(),l=s.subscribe(m);return O.add(w),()=>{l(),O.delete(w)}},dispatch(w){var m;try{return u=!((m=w==null?void 0:w.meta)!=null&&m[Z]),h=!u,h&&(g||(g=!0,R(v))),s.dispatch(w)}finally{u=!0}}})},Nt=e=>function(i){const{autoBatch:s=!0}=i??{};let u=new ut(e);return s&&u.push(zt(typeof s=="object"?s:void 0)),u},Ut=!0;function cr(e){const t=$t(),{reducer:i=void 0,middleware:s,devTools:u=!0,preloadedState:h=void 0,enhancers:g=void 0}=e||{};let O;if(typeof i=="function")O=i;else if(W(i))O=it(i);else throw new Error(x(1));let R;typeof s=="function"?R=s(t):R=t();let v=Te;u&&(v=kt({trace:!Ut,...typeof u=="object"&&u}));const w=St(...R),m=Nt(w);let l=typeof g=="function"?g(m):m();const c=v(...l);return Mt(O,h,c)}function at(e){const t={},i=[];let s;const u={addCase(h,g){const O=typeof h=="string"?h:h.type;if(!O)throw new Error(x(28));if(O in t)throw new Error(x(29));return t[O]=g,u},addMatcher(h,g){return i.push({matcher:h,reducer:g}),u},addDefaultCase(h){return s=h,u}};return e(u),[t,i,s]}function Bt(e){return typeof e=="function"}function Vt(e,t){let[i,s,u]=at(t),h;if(Bt(e))h=()=>xe(e());else{const O=xe(e);h=()=>O}function g(O=h(),R){let v=[i[R.type],...s.filter(({matcher:w})=>w(R)).map(({reducer:w})=>w)];return v.filter(w=>!!w).length===0&&(v=[u]),v.reduce((w,m)=>{if(m)if(ve(w)){const c=m(w,R);return c===void 0?w:c}else{if(ke(w))return re(w,l=>m(l,R));{const l=m(w,R);if(l===void 0){if(w===null)return w;throw new Error(x(9))}return l}}return w},O)}return g.getInitialState=h,g}var Wt="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",_e=(e=21)=>{let t="",i=e;for(;i--;)t+=Wt[Math.random()*64|0];return t},lt=(e,t)=>_t(e)?e.match(t):e(t);function B(...e){return t=>e.some(i=>lt(i,t))}function ce(...e){return t=>e.every(i=>lt(i,t))}function Se(e,t){if(!e||!e.meta)return!1;const i=typeof e.meta.requestId=="string",s=t.indexOf(e.meta.requestStatus)>-1;return i&&s}function pe(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function Pe(...e){return e.length===0?t=>Se(t,["pending"]):pe(e)?t=>{const i=e.map(u=>u.pending);return B(...i)(t)}:Pe()(e[0])}function ne(...e){return e.length===0?t=>Se(t,["rejected"]):pe(e)?t=>{const i=e.map(u=>u.rejected);return B(...i)(t)}:ne()(e[0])}function Me(...e){const t=i=>i&&i.meta&&i.meta.rejectedWithValue;return e.length===0?i=>ce(ne(...e),t)(i):pe(e)?i=>ce(ne(...e),t)(i):Me()(e[0])}function H(...e){return e.length===0?t=>Se(t,["fulfilled"]):pe(e)?t=>{const i=e.map(u=>u.fulfilled);return B(...i)(t)}:H()(e[0])}function Ie(...e){return e.length===0?t=>Se(t,["pending","fulfilled","rejected"]):pe(e)?t=>{const i=[];for(const u of e)i.push(u.pending,u.rejected,u.fulfilled);return B(...i)(t)}:Ie()(e[0])}var Ht=["name","message","stack","code"],Re=class{constructor(e,t){we(this,"_type");this.payload=e,this.meta=t}},Ne=class{constructor(e,t){we(this,"_type");this.payload=e,this.meta=t}},Kt=e=>{if(typeof e=="object"&&e!==null){const t={};for(const i of Ht)typeof e[i]=="string"&&(t[i]=e[i]);return t}return{message:String(e)}},Ue=(()=>{function e(t,i,s){const u=U(t+"/fulfilled",(R,v,w,m)=>({payload:R,meta:{...m||{},arg:w,requestId:v,requestStatus:"fulfilled"}})),h=U(t+"/pending",(R,v,w)=>({payload:void 0,meta:{...w||{},arg:v,requestId:R,requestStatus:"pending"}})),g=U(t+"/rejected",(R,v,w,m,l)=>({payload:m,error:(s&&s.serializeError||Kt)(R||"Rejected"),meta:{...l||{},arg:w,requestId:v,rejectedWithValue:!!m,requestStatus:"rejected",aborted:(R==null?void 0:R.name)==="AbortError",condition:(R==null?void 0:R.name)==="ConditionError"}}));function O(R){return(v,w,m)=>{const l=s!=null&&s.idGenerator?s.idGenerator(R):_e(),c=new AbortController;let a,y;function f(o){y=o,c.abort()}const d=async function(){var r,p;let o;try{let S=(r=s==null?void 0:s.condition)==null?void 0:r.call(s,R,{getState:w,extra:m});if(Gt(S)&&(S=await S),S===!1||c.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const M=new Promise((b,A)=>{a=()=>{A({name:"AbortError",message:y||"Aborted"})},c.signal.addEventListener("abort",a)});v(h(l,R,(p=s==null?void 0:s.getPendingMeta)==null?void 0:p.call(s,{requestId:l,arg:R},{getState:w,extra:m}))),o=await Promise.race([M,Promise.resolve(i(R,{dispatch:v,getState:w,extra:m,requestId:l,signal:c.signal,abort:f,rejectWithValue:(b,A)=>new Re(b,A),fulfillWithValue:(b,A)=>new Ne(b,A)})).then(b=>{if(b instanceof Re)throw b;return b instanceof Ne?u(b.payload,l,R,b.meta):u(b,l,R)})])}catch(S){o=S instanceof Re?g(null,l,R,S.payload,S.meta):g(S,l,R)}finally{a&&c.signal.removeEventListener("abort",a)}return s&&!s.dispatchConditionRejection&&g.match(o)&&o.meta.condition||v(o),o}();return Object.assign(d,{abort:f,requestId:l,arg:R,unwrap(){return d.then(Jt)}})}}return Object.assign(O,{pending:h,rejected:g,fulfilled:u,settled:B(g,u),typePrefix:t})}return e.withTypes=()=>e,e})();function Jt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function Gt(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Xt=Symbol.for("rtk-slice-createasyncthunk");function Yt(e,t){return`${e}/${t}`}function Zt({creators:e}={}){var i;const t=(i=e==null?void 0:e.asyncThunk)==null?void 0:i[Xt];return function(u){const{name:h,reducerPath:g=h}=u;if(!h)throw new Error(x(11));typeof process<"u";const O=(typeof u.reducers=="function"?u.reducers(tn()):u.reducers)||{},R=Object.keys(O),v={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},w={addCase(n,r){const p=typeof n=="string"?n:n.type;if(!p)throw new Error(x(12));if(p in v.sliceCaseReducersByType)throw new Error(x(13));return v.sliceCaseReducersByType[p]=r,w},addMatcher(n,r){return v.sliceMatchers.push({matcher:n,reducer:r}),w},exposeAction(n,r){return v.actionCreators[n]=r,w},exposeCaseReducer(n,r){return v.sliceCaseReducersByName[n]=r,w}};R.forEach(n=>{const r=O[n],p={reducerName:n,type:Yt(h,n),createNotation:typeof u.reducers=="function"};rn(r)?on(p,r,w,t):nn(p,r,w)});function m(){const[n={},r=[],p=void 0]=typeof u.extraReducers=="function"?at(u.extraReducers):[u.extraReducers],S={...n,...v.sliceCaseReducersByType};return Vt(u.initialState,M=>{for(let b in S)M.addCase(b,S[b]);for(let b of v.sliceMatchers)M.addMatcher(b.matcher,b.reducer);for(let b of r)M.addMatcher(b.matcher,b.reducer);p&&M.addDefaultCase(p)})}const l=n=>n,c=new Map;let a;function y(n,r){return a||(a=m()),a(n,r)}function f(){return a||(a=m()),a.getInitialState()}function d(n,r=!1){function p(M){let b=M[n];return typeof b>"u"&&r&&(b=f()),b}function S(M=l){const b=ze(c,r,{insert:()=>new WeakMap});return ze(b,M,{insert:()=>{const A={};for(const[E,j]of Object.entries(u.selectors??{}))A[E]=en(j,M,f,r);return A}})}return{reducerPath:n,getSelectors:S,get selectors(){return S(p)},selectSlice:p}}const o={name:h,reducer:y,actions:v.actionCreators,caseReducers:v.sliceCaseReducersByName,getInitialState:f,...d(g),injectInto(n,{reducerPath:r,...p}={}){const S=r??g;return n.inject({reducerPath:S,reducer:y},p),{...o,...d(S,!0)}}};return o}}function en(e,t,i,s){function u(h,...g){let O=t(h);return typeof O>"u"&&s&&(O=i()),e(O,...g)}return u.unwrapped=e,u}var G=Zt();function tn(){function e(t,i){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...i}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...i){return t(...i)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,i){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:i}},asyncThunk:e}}function nn({type:e,reducerName:t,createNotation:i},s,u){let h,g;if("reducer"in s){if(i&&!sn(s))throw new Error(x(17));h=s.reducer,g=s.prepare}else h=s;u.addCase(e,h).exposeCaseReducer(t,h).exposeAction(t,g?U(e,g):U(e))}function rn(e){return e._reducerDefinitionType==="asyncThunk"}function sn(e){return e._reducerDefinitionType==="reducerWithPrepare"}function on({type:e,reducerName:t},i,s,u){if(!u)throw new Error(x(18));const{payloadCreator:h,fulfilled:g,pending:O,rejected:R,settled:v,options:w}=i,m=u(e,h,w);s.exposeAction(t,m),g&&s.addCase(m.fulfilled,g),O&&s.addCase(m.pending,O),R&&s.addCase(m.rejected,R),v&&s.addMatcher(m.settled,v),s.exposeCaseReducer(t,{fulfilled:g||ye,pending:O||ye,rejected:R||ye,settled:v||ye})}function ye(){}function un(){return{ids:[],entities:{}}}function cn(e){function t(i={},s){const u=Object.assign(un(),i);return s?e.setAll(u,s):u}return{getInitialState:t}}function an(){function e(t,i={}){const{createSelector:s=Qt}=i,u=m=>m.ids,h=m=>m.entities,g=s(u,h,(m,l)=>m.map(c=>l[c])),O=(m,l)=>l,R=(m,l)=>m[l],v=s(u,m=>m.length);if(!t)return{selectIds:u,selectEntities:h,selectAll:g,selectTotal:v,selectById:s(h,O,R)};const w=s(t,h);return{selectIds:s(t,u),selectEntities:w,selectAll:s(t,g),selectTotal:s(t,v),selectById:s(w,O,R)}}return{getSelectors:e}}var ln=ve;function dn(e){const t=L((i,s)=>e(s));return function(s){return t(s,void 0)}}function L(e){return function(i,s){function u(g){return Pt(g)}const h=g=>{u(s)?e(s.payload,g):e(s,g)};return ln(i)?(h(i),i):re(i,h)}}function ee(e,t){return t(e)}function J(e){return Array.isArray(e)||(e=Object.values(e)),e}function dt(e,t,i){e=J(e);const s=[],u=[];for(const h of e){const g=ee(h,t);g in i.entities?u.push({id:g,changes:h}):s.push(h)}return[s,u]}function ft(e){function t(a,y){const f=ee(a,e);f in y.entities||(y.ids.push(f),y.entities[f]=a)}function i(a,y){a=J(a);for(const f of a)t(f,y)}function s(a,y){const f=ee(a,e);f in y.entities||y.ids.push(f),y.entities[f]=a}function u(a,y){a=J(a);for(const f of a)s(f,y)}function h(a,y){a=J(a),y.ids=[],y.entities={},i(a,y)}function g(a,y){return O([a],y)}function O(a,y){let f=!1;a.forEach(d=>{d in y.entities&&(delete y.entities[d],f=!0)}),f&&(y.ids=y.ids.filter(d=>d in y.entities))}function R(a){Object.assign(a,{ids:[],entities:{}})}function v(a,y,f){const d=f.entities[y.id];if(d===void 0)return!1;const o=Object.assign({},d,y.changes),n=ee(o,e),r=n!==y.id;return r&&(a[y.id]=n,delete f.entities[y.id]),f.entities[n]=o,r}function w(a,y){return m([a],y)}function m(a,y){const f={},d={};a.forEach(n=>{n.id in y.entities&&(d[n.id]={id:n.id,changes:{...d[n.id]?d[n.id].changes:null,...n.changes}})}),a=Object.values(d),a.length>0&&a.filter(r=>v(f,r,y)).length>0&&(y.ids=Object.values(y.entities).map(r=>ee(r,e)))}function l(a,y){return c([a],y)}function c(a,y){const[f,d]=dt(a,e,y);m(d,y),i(f,y)}return{removeAll:dn(R),addOne:L(t),addMany:L(i),setOne:L(s),setMany:L(u),setAll:L(h),updateOne:L(w),updateMany:L(m),upsertOne:L(l),upsertMany:L(c),removeOne:L(g),removeMany:L(O)}}function fn(e,t){const{removeOne:i,removeMany:s,removeAll:u}=ft(e);function h(d,o){return g([d],o)}function g(d,o){d=J(d);const n=d.filter(r=>!(ee(r,e)in o.entities));n.length!==0&&y(n,o)}function O(d,o){return R([d],o)}function R(d,o){d=J(d),d.length!==0&&y(d,o)}function v(d,o){d=J(d),o.entities={},o.ids=[],g(d,o)}function w(d,o){return m([d],o)}function m(d,o){let n=!1;for(let r of d){const p=o.entities[r.id];if(!p)continue;n=!0,Object.assign(p,r.changes);const S=e(p);r.id!==S&&(delete o.entities[r.id],o.entities[S]=p)}n&&f(o)}function l(d,o){return c([d],o)}function c(d,o){const[n,r]=dt(d,e,o);m(r,o),g(n,o)}function a(d,o){if(d.length!==o.length)return!1;for(let n=0;n<d.length&&n<o.length;n++)if(d[n]!==o[n])return!1;return!0}function y(d,o){d.forEach(n=>{o.entities[e(n)]=n}),f(o)}function f(d){const o=Object.values(d.entities);o.sort(t);const n=o.map(e),{ids:r}=d;a(r,n)||(d.ids=n)}return{removeOne:i,removeMany:s,removeAll:u,addOne:L(h),updateOne:L(w),upsertOne:L(l),setOne:L(O),setMany:L(R),setAll:L(v),addMany:L(g),updateMany:L(m),upsertMany:L(c)}}function ar(e={}){const{selectId:t,sortComparer:i}={sortComparer:!1,selectId:g=>g.id,...e},s=i?fn(t,i):ft(t),u=cn(s),h=an();return{selectId:t,sortComparer:i,...u,...h,...s}}var pn=(e,t)=>{if(typeof e!="function")throw new Error(x(32))},Fe="listenerMiddleware",yn=e=>{let{type:t,actionCreator:i,matcher:s,predicate:u,effect:h}=e;if(t)u=U(t).match;else if(i)t=i.type,u=i.match;else if(s)u=s;else if(!u)throw new Error(x(21));return pn(h),{predicate:u,type:t,effect:h}},hn=Object.assign(e=>{const{type:t,predicate:i,effect:s}=yn(e);return{id:_e(),effect:s,type:t,predicate:i,pending:new Set,unsubscribe:()=>{throw new Error(x(22))}}},{withTypes:()=>hn}),gn=Object.assign(U(`${Fe}/add`),{withTypes:()=>gn});U(`${Fe}/removeAll`);var mn=Object.assign(U(`${Fe}/remove`),{withTypes:()=>mn});function x(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var pt=(e=>(e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected",e))(pt||{});function bn(e){return{status:e,isUninitialized:e==="uninitialized",isLoading:e==="pending",isSuccess:e==="fulfilled",isError:e==="rejected"}}function vn(e){return new RegExp("(^|:)//").test(e)}var Sn=e=>e.replace(/\/$/,""),Mn=e=>e.replace(/^\//,"");function wn(e,t){if(!e)return t;if(!t)return e;if(vn(t))return t;const i=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=Sn(e),t=Mn(t),`${e}${i}${t}`}var Be=e=>[].concat(...e);function Rn(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function On(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}var Ve=W;function yt(e,t){if(e===t||!(Ve(e)&&Ve(t)||Array.isArray(e)&&Array.isArray(t)))return t;const i=Object.keys(t),s=Object.keys(e);let u=i.length===s.length;const h=Array.isArray(t)?[]:{};for(const g of i)h[g]=yt(e[g],t[g]),u&&(u=e[g]===h[g]);return u?e:h}var We=(...e)=>fetch(...e),An=e=>e.status>=200&&e.status<=299,En=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function He(e){if(!W(e))return e;const t={...e};for(const[i,s]of Object.entries(t))s===void 0&&delete t[i];return t}function lr({baseUrl:e,prepareHeaders:t=m=>m,fetchFn:i=We,paramsSerializer:s,isJsonContentType:u=En,jsonContentType:h="application/json",jsonReplacer:g,timeout:O,responseHandler:R,validateStatus:v,...w}={}){return typeof fetch>"u"&&i===We&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(l,c)=>{const{signal:a,getState:y,extra:f,endpoint:d,forced:o,type:n}=c;let r,{url:p,headers:S=new Headers(w.headers),params:M=void 0,responseHandler:b=R??"json",validateStatus:A=v??An,timeout:E=O,...j}=typeof l=="string"?{url:l}:l,T={...w,signal:a,...j};S=new Headers(He(S)),T.headers=await t(S,{getState:y,extra:f,endpoint:d,forced:o,type:n})||S;const C=P=>typeof P=="object"&&(W(P)||Array.isArray(P)||typeof P.toJSON=="function");if(!T.headers.has("content-type")&&C(T.body)&&T.headers.set("content-type",h),C(T.body)&&u(T.headers)&&(T.body=JSON.stringify(T.body,g)),M){const P=~p.indexOf("?")?"&":"?",F=s?s(M):new URLSearchParams(He(M));p+=P+F}p=wn(e,p);const I=new Request(p,T);r={request:new Request(p,T)};let _,z=!1,k=E&&setTimeout(()=>{z=!0,c.abort()},E);try{_=await i(I)}catch(P){return{error:{status:z?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(P)},meta:r}}finally{k&&clearTimeout(k)}const $=_.clone();r.response=$;let q,N="";try{let P;if(await Promise.all([m(_,b).then(F=>q=F,F=>P=F),$.text().then(F=>N=F,()=>{})]),P)throw P}catch(P){return{error:{status:"PARSING_ERROR",originalStatus:_.status,data:N,error:String(P)},meta:r}}return A(_,q)?{data:q,meta:r}:{error:{status:_.status,data:q},meta:r}};async function m(l,c){if(typeof c=="function")return c(l);if(c==="content-type"&&(c=u(l.headers)?"json":"text"),c==="json"){const a=await l.text();return a.length?JSON.parse(a):null}return l.text()}}var Ke=class{constructor(e,t=void 0){this.value=e,this.meta=t}},ae=U("__rtkq/focused"),me=U("__rtkq/unfocused"),le=U("__rtkq/online"),be=U("__rtkq/offline"),Oe=!1;function dr(e,t){function i(){const s=()=>e(ae()),u=()=>e(me()),h=()=>e(le()),g=()=>e(be()),O=()=>{window.document.visibilityState==="visible"?s():u()};return Oe||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",O,!1),window.addEventListener("focus",s,!1),window.addEventListener("online",h,!1),window.addEventListener("offline",g,!1),Oe=!0),()=>{window.removeEventListener("focus",s),window.removeEventListener("visibilitychange",O),window.removeEventListener("online",h),window.removeEventListener("offline",g),Oe=!1}}return t?t(e,{onFocus:ae,onFocusLost:me,onOffline:be,onOnline:le}):i()}function ht(e){return e.type==="query"}function jn(e){return e.type==="mutation"}function Le(e,t,i,s,u,h){return Tn(e)?e(t,i,s,u).map(De).map(h):Array.isArray(e)?e.map(De).map(h):[]}function Tn(e){return typeof e=="function"}function De(e){return typeof e=="string"?{type:e}:e}function Je(e){return e!=null}function te(e){let t=0;for(const i in e)t++;return t}function Cn(e,t){return e.catch(t)}var de=Symbol("forceQueryFn"),qe=e=>typeof e[de]=="function";function In({serializeQueryArgs:e,queryThunk:t,mutationThunk:i,api:s,context:u}){const h=new Map,g=new Map,{unsubscribeQueryResult:O,removeMutationResult:R,updateSubscriptionOptions:v}=s.internalActions;return{buildInitiateQuery:a,buildInitiateMutation:y,getRunningQueryThunk:w,getRunningMutationThunk:m,getRunningQueriesThunk:l,getRunningMutationsThunk:c};function w(f,d){return o=>{var p;const n=u.endpointDefinitions[f],r=e({queryArgs:d,endpointDefinition:n,endpointName:f});return(p=h.get(o))==null?void 0:p[r]}}function m(f,d){return o=>{var n;return(n=g.get(o))==null?void 0:n[d]}}function l(){return f=>Object.values(h.get(f)||{}).filter(Je)}function c(){return f=>Object.values(g.get(f)||{}).filter(Je)}function a(f,d){const o=(n,{subscribe:r=!0,forceRefetch:p,subscriptionOptions:S,[de]:M,...b}={})=>(A,E)=>{var P;const j=e({queryArgs:n,endpointDefinition:d,endpointName:f}),T=t({...b,type:"query",subscribe:r,forceRefetch:p,subscriptionOptions:S,endpointName:f,originalArgs:n,queryCacheKey:j,[de]:M}),C=s.endpoints[f].select(n),I=A(T),Q=C(E()),{requestId:_,abort:z}=I,k=Q.requestId!==_,$=(P=h.get(A))==null?void 0:P[j],q=()=>C(E()),N=Object.assign(M?I.then(q):k&&!$?Promise.resolve(Q):Promise.all([$,I]).then(q),{arg:n,requestId:_,subscriptionOptions:S,queryCacheKey:j,abort:z,async unwrap(){const F=await N;if(F.isError)throw F.error;return F.data},refetch:()=>A(o(n,{subscribe:!1,forceRefetch:!0})),unsubscribe(){r&&A(O({queryCacheKey:j,requestId:_}))},updateSubscriptionOptions(F){N.subscriptionOptions=F,A(v({endpointName:f,requestId:_,queryCacheKey:j,options:F}))}});if(!$&&!k&&!M){const F=h.get(A)||{};F[j]=N,h.set(A,F),N.then(()=>{delete F[j],te(F)||h.delete(A)})}return N};return o}function y(f){return(d,{track:o=!0,fixedCacheKey:n}={})=>(r,p)=>{const S=i({type:"mutation",endpointName:f,originalArgs:d,track:o,fixedCacheKey:n}),M=r(S),{requestId:b,abort:A,unwrap:E}=M,j=Cn(M.unwrap().then(Q=>({data:Q})),Q=>({error:Q})),T=()=>{r(R({requestId:b,fixedCacheKey:n}))},C=Object.assign(j,{arg:M.arg,requestId:b,abort:A,unwrap:E,reset:T}),I=g.get(r)||{};return g.set(r,I),I[b]=C,C.then(()=>{delete I[b],te(I)||g.delete(r)}),n&&(I[n]=C,C.then(()=>{I[n]===C&&(delete I[n],te(I)||g.delete(r))})),C}}}function Ge(e){return e}function Dn({reducerPath:e,baseQuery:t,context:{endpointDefinitions:i},serializeQueryArgs:s,api:u,assertTagType:h}){const g=(o,n,r,p)=>(S,M)=>{const b=i[o],A=s({queryArgs:n,endpointDefinition:b,endpointName:o});if(S(u.internalActions.queryResultPatched({queryCacheKey:A,patches:r})),!p)return;const E=u.endpoints[o].select(n)(M()),j=Le(b.providesTags,E.data,void 0,n,{},h);S(u.internalActions.updateProvidedBy({queryCacheKey:A,providedTags:j}))},O=(o,n,r,p=!0)=>(S,M)=>{const A=u.endpoints[o].select(n)(M());let E={patches:[],inversePatches:[],undo:()=>S(u.util.patchQueryData(o,n,E.inversePatches,p))};if(A.status==="uninitialized")return E;let j;if("data"in A)if(ke(A.data)){const[T,C,I]=st(A.data,r);E.patches.push(...C),E.inversePatches.push(...I),j=T}else j=r(A.data),E.patches.push({op:"replace",path:[],value:j}),E.inversePatches.push({op:"replace",path:[],value:A.data});return E.patches.length===0||S(u.util.patchQueryData(o,n,E.patches,p)),E},R=(o,n,r)=>p=>p(u.endpoints[o].initiate(n,{subscribe:!1,forceRefetch:!0,[de]:()=>({data:r})})),v=async(o,{signal:n,abort:r,rejectWithValue:p,fulfillWithValue:S,dispatch:M,getState:b,extra:A})=>{const E=i[o.endpointName];try{let j=Ge,T;const C={signal:n,abort:r,dispatch:M,getState:b,extra:A,endpoint:o.endpointName,type:o.type,forced:o.type==="query"?w(o,b()):void 0},I=o.type==="query"?o[de]:void 0;if(I?T=I():E.query?(T=await t(E.query(o.originalArgs),C,E.extraOptions),E.transformResponse&&(j=E.transformResponse)):T=await E.queryFn(o.originalArgs,C,E.extraOptions,Q=>t(Q,C,E.extraOptions)),typeof process<"u",T.error)throw new Ke(T.error,T.meta);return S(await j(T.data,T.meta,o.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:T.meta,[Z]:!0})}catch(j){let T=j;if(T instanceof Ke){let C=Ge;E.query&&E.transformErrorResponse&&(C=E.transformErrorResponse);try{return p(await C(T.value,T.meta,o.originalArgs),{baseQueryMeta:T.meta,[Z]:!0})}catch(I){T=I}}throw typeof process<"u",console.error(T),T}};function w(o,n){var b,A,E;const r=(A=(b=n[e])==null?void 0:b.queries)==null?void 0:A[o.queryCacheKey],p=(E=n[e])==null?void 0:E.config.refetchOnMountOrArgChange,S=r==null?void 0:r.fulfilledTimeStamp,M=o.forceRefetch??(o.subscribe&&p);return M?M===!0||(Number(new Date)-Number(S))/1e3>=M:!1}const m=Ue(`${e}/executeQuery`,v,{getPendingMeta(){return{startedTimeStamp:Date.now(),[Z]:!0}},condition(o,{getState:n}){var E,j,T;const r=n(),p=(j=(E=r[e])==null?void 0:E.queries)==null?void 0:j[o.queryCacheKey],S=p==null?void 0:p.fulfilledTimeStamp,M=o.originalArgs,b=p==null?void 0:p.originalArgs,A=i[o.endpointName];return qe(o)?!0:(p==null?void 0:p.status)==="pending"?!1:w(o,r)||ht(A)&&((T=A==null?void 0:A.forceRefetch)!=null&&T.call(A,{currentArg:M,previousArg:b,endpointState:p,state:r}))?!0:!S},dispatchConditionRejection:!0}),l=Ue(`${e}/executeMutation`,v,{getPendingMeta(){return{startedTimeStamp:Date.now(),[Z]:!0}}}),c=o=>"force"in o,a=o=>"ifOlderThan"in o,y=(o,n,r)=>(p,S)=>{const M=c(r)&&r.force,b=a(r)&&r.ifOlderThan,A=(j=!0)=>{const T={forceRefetch:j,isPrefetch:!0};return u.endpoints[o].initiate(n,T)},E=u.endpoints[o].select(n)(S());if(M)p(A());else if(b){const j=E==null?void 0:E.fulfilledTimeStamp;if(!j){p(A());return}(Number(new Date)-Number(new Date(j)))/1e3>=b&&p(A())}else p(A(!1))};function f(o){return n=>{var r,p;return((p=(r=n==null?void 0:n.meta)==null?void 0:r.arg)==null?void 0:p.endpointName)===o}}function d(o,n){return{matchPending:ce(Pe(o),f(n)),matchFulfilled:ce(H(o),f(n)),matchRejected:ce(ne(o),f(n))}}return{queryThunk:m,mutationThunk:l,prefetch:y,updateQueryData:O,upsertQueryData:R,patchQueryData:g,buildMatchThunkActions:d}}function gt(e,t,i,s){return Le(i[e.meta.arg.endpointName][t],H(e)?e.payload:void 0,Me(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,s)}function he(e,t,i){const s=e[t];s&&i(s)}function fe(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function Xe(e,t,i){const s=e[fe(t)];s&&i(s)}var se={};function qn({reducerPath:e,queryThunk:t,mutationThunk:i,context:{endpointDefinitions:s,apiUid:u,extractRehydrationInfo:h,hasRehydrationInfo:g},assertTagType:O,config:R}){const v=U(`${e}/resetApiState`),w=G({name:`${e}/queries`,initialState:se,reducers:{removeQueryResult:{reducer(n,{payload:{queryCacheKey:r}}){delete n[r]},prepare:ie()},queryResultPatched:{reducer(n,{payload:{queryCacheKey:r,patches:p}}){he(n,r,S=>{S.data=$e(S.data,p.concat())})},prepare:ie()}},extraReducers(n){n.addCase(t.pending,(r,{meta:p,meta:{arg:S}})=>{var b;const M=qe(S);r[b=S.queryCacheKey]??(r[b]={status:"uninitialized",endpointName:S.endpointName}),he(r,S.queryCacheKey,A=>{A.status="pending",A.requestId=M&&A.requestId?A.requestId:p.requestId,S.originalArgs!==void 0&&(A.originalArgs=S.originalArgs),A.startedTimeStamp=p.startedTimeStamp})}).addCase(t.fulfilled,(r,{meta:p,payload:S})=>{he(r,p.arg.queryCacheKey,M=>{if(M.requestId!==p.requestId&&!qe(p.arg))return;const{merge:b}=s[p.arg.endpointName];if(M.status="fulfilled",b)if(M.data!==void 0){const{fulfilledTimeStamp:A,arg:E,baseQueryMeta:j,requestId:T}=p;let C=re(M.data,I=>b(I,S,{arg:E.originalArgs,baseQueryMeta:j,fulfilledTimeStamp:A,requestId:T}));M.data=C}else M.data=S;else M.data=s[p.arg.endpointName].structuralSharing??!0?yt(ve(M.data)?Ot(M.data):M.data,S):S;delete M.error,M.fulfilledTimeStamp=p.fulfilledTimeStamp})}).addCase(t.rejected,(r,{meta:{condition:p,arg:S,requestId:M},error:b,payload:A})=>{he(r,S.queryCacheKey,E=>{if(!p){if(E.requestId!==M)return;E.status="rejected",E.error=A??b}})}).addMatcher(g,(r,p)=>{const{queries:S}=h(p);for(const[M,b]of Object.entries(S))((b==null?void 0:b.status)==="fulfilled"||(b==null?void 0:b.status)==="rejected")&&(r[M]=b)})}}),m=G({name:`${e}/mutations`,initialState:se,reducers:{removeMutationResult:{reducer(n,{payload:r}){const p=fe(r);p in n&&delete n[p]},prepare:ie()}},extraReducers(n){n.addCase(i.pending,(r,{meta:p,meta:{requestId:S,arg:M,startedTimeStamp:b}})=>{M.track&&(r[fe(p)]={requestId:S,status:"pending",endpointName:M.endpointName,startedTimeStamp:b})}).addCase(i.fulfilled,(r,{payload:p,meta:S})=>{S.arg.track&&Xe(r,S,M=>{M.requestId===S.requestId&&(M.status="fulfilled",M.data=p,M.fulfilledTimeStamp=S.fulfilledTimeStamp)})}).addCase(i.rejected,(r,{payload:p,error:S,meta:M})=>{M.arg.track&&Xe(r,M,b=>{b.requestId===M.requestId&&(b.status="rejected",b.error=p??S)})}).addMatcher(g,(r,p)=>{const{mutations:S}=h(p);for(const[M,b]of Object.entries(S))((b==null?void 0:b.status)==="fulfilled"||(b==null?void 0:b.status)==="rejected")&&M!==(b==null?void 0:b.requestId)&&(r[M]=b)})}}),l=G({name:`${e}/invalidation`,initialState:se,reducers:{updateProvidedBy:{reducer(n,r){var M,b;const{queryCacheKey:p,providedTags:S}=r.payload;for(const A of Object.values(n))for(const E of Object.values(A)){const j=E.indexOf(p);j!==-1&&E.splice(j,1)}for(const{type:A,id:E}of S){const j=(M=n[A]??(n[A]={}))[b=E||"__internal_without_id"]??(M[b]=[]);j.includes(p)||j.push(p)}},prepare:ie()}},extraReducers(n){n.addCase(w.actions.removeQueryResult,(r,{payload:{queryCacheKey:p}})=>{for(const S of Object.values(r))for(const M of Object.values(S)){const b=M.indexOf(p);b!==-1&&M.splice(b,1)}}).addMatcher(g,(r,p)=>{var M,b;const{provided:S}=h(p);for(const[A,E]of Object.entries(S))for(const[j,T]of Object.entries(E)){const C=(M=r[A]??(r[A]={}))[b=j||"__internal_without_id"]??(M[b]=[]);for(const I of T)C.includes(I)||C.push(I)}}).addMatcher(B(H(t),Me(t)),(r,p)=>{const S=gt(p,"providesTags",s,O),{queryCacheKey:M}=p.meta.arg;l.caseReducers.updateProvidedBy(r,l.actions.updateProvidedBy({queryCacheKey:M,providedTags:S}))})}}),c=G({name:`${e}/subscriptions`,initialState:se,reducers:{updateSubscriptionOptions(n,r){},unsubscribeQueryResult(n,r){},internal_getRTKQSubscriptions(){}}}),a=G({name:`${e}/internalSubscriptions`,initialState:se,reducers:{subscriptionsUpdated:{reducer(n,r){return $e(n,r.payload)},prepare:ie()}}}),y=G({name:`${e}/config`,initialState:{online:Rn(),focused:On(),middlewareRegistered:!1,...R},reducers:{middlewareRegistered(n,{payload:r}){n.middlewareRegistered=n.middlewareRegistered==="conflict"||u!==r?"conflict":!0}},extraReducers:n=>{n.addCase(le,r=>{r.online=!0}).addCase(be,r=>{r.online=!1}).addCase(ae,r=>{r.focused=!0}).addCase(me,r=>{r.focused=!1}).addMatcher(g,r=>({...r}))}}),f=it({queries:w.reducer,mutations:m.reducer,provided:l.reducer,subscriptions:a.reducer,config:y.reducer}),d=(n,r)=>f(v.match(r)?void 0:n,r),o={...y.actions,...w.actions,...c.actions,...a.actions,...m.actions,...l.actions,resetApiState:v};return{reducer:d,actions:o}}var K=Symbol.for("RTKQ/skipToken"),mt={status:"uninitialized"},Ye=re(mt,()=>{}),Ze=re(mt,()=>{});function Qn({serializeQueryArgs:e,reducerPath:t,createSelector:i}){const s=m=>Ye,u=m=>Ze;return{buildQuerySelector:O,buildMutationSelector:R,selectInvalidatedBy:v,selectCachedArgsForQuery:w};function h(m){return{...m,...bn(m.status)}}function g(m){return m[t]}function O(m,l){return c=>{const a=e({queryArgs:c,endpointDefinition:l,endpointName:m});return i(c===K?s:d=>{var o,n;return((n=(o=g(d))==null?void 0:o.queries)==null?void 0:n[a])??Ye},h)}}function R(){return m=>{let l;return typeof m=="object"?l=fe(m)??K:l=m,i(l===K?u:y=>{var f,d;return((d=(f=g(y))==null?void 0:f.mutations)==null?void 0:d[l])??Ze},h)}}function v(m,l){const c=m[t],a=new Set;for(const y of l.map(De)){const f=c.provided[y.type];if(!f)continue;let d=(y.id!==void 0?f[y.id]:Be(Object.values(f)))??[];for(const o of d)a.add(o)}return Be(Array.from(a.values()).map(y=>{const f=c.queries[y];return f?[{queryCacheKey:y,endpointName:f.endpointName,originalArgs:f.originalArgs}]:[]}))}function w(m,l){return Object.values(m[t].queries).filter(c=>(c==null?void 0:c.endpointName)===l&&c.status!=="uninitialized").map(c=>c.originalArgs)}}var X=WeakMap?new WeakMap:void 0,et=({endpointName:e,queryArgs:t})=>{let i="";const s=X==null?void 0:X.get(t);if(typeof s=="string")i=s;else{const u=JSON.stringify(t,(h,g)=>W(g)?Object.keys(g).sort().reduce((O,R)=>(O[R]=g[R],O),{}):g);W(t)&&(X==null||X.set(t,u)),i=u}return`${e}(${i})`};function kn(...e){return function(i){const s=Ce(v=>{var w;return(w=i.extractRehydrationInfo)==null?void 0:w.call(i,v,{reducerPath:i.reducerPath??"api"})}),u={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...i,extractRehydrationInfo:s,serializeQueryArgs(v){let w=et;if("serializeQueryArgs"in v.endpointDefinition){const m=v.endpointDefinition.serializeQueryArgs;w=l=>{const c=m(l);return typeof c=="string"?c:et({...l,queryArgs:c})}}else i.serializeQueryArgs&&(w=i.serializeQueryArgs);return w(v)},tagTypes:[...i.tagTypes||[]]},h={endpointDefinitions:{},batch(v){v()},apiUid:_e(),extractRehydrationInfo:s,hasRehydrationInfo:Ce(v=>s(v)!=null)},g={injectEndpoints:R,enhanceEndpoints({addTagTypes:v,endpoints:w}){if(v)for(const m of v)u.tagTypes.includes(m)||u.tagTypes.push(m);if(w)for(const[m,l]of Object.entries(w))typeof l=="function"?l(h.endpointDefinitions[m]):Object.assign(h.endpointDefinitions[m]||{},l);return g}},O=e.map(v=>v.init(g,u,h));function R(v){const w=v.endpoints({query:m=>({...m,type:"query"}),mutation:m=>({...m,type:"mutation"})});for(const[m,l]of Object.entries(w)){if(v.overrideExisting!==!0&&m in h.endpointDefinitions){if(v.overrideExisting==="throw")throw new Error(x(39));typeof process<"u";continue}h.endpointDefinitions[m]=l;for(const c of O)c.injectEndpoint(m,l)}return g}return g.injectEndpoints({endpoints:i.endpoints})}}function _n(e){for(let t in e)return!1;return!0}var Pn=2147483647/1e3-1,Fn=({reducerPath:e,api:t,queryThunk:i,context:s,internalState:u})=>{const{removeQueryResult:h,unsubscribeQueryResult:g}=t.internalActions,O=B(g.match,i.fulfilled,i.rejected);function R(l){const c=u.currentSubscriptions[l];return!!c&&!_n(c)}const v={},w=(l,c,a)=>{var y;if(O(l)){const f=c.getState()[e],{queryCacheKey:d}=g.match(l)?l.payload:l.meta.arg;m(d,(y=f.queries[d])==null?void 0:y.endpointName,c,f.config)}if(t.util.resetApiState.match(l))for(const[f,d]of Object.entries(v))d&&clearTimeout(d),delete v[f];if(s.hasRehydrationInfo(l)){const f=c.getState()[e],{queries:d}=s.extractRehydrationInfo(l);for(const[o,n]of Object.entries(d))m(o,n==null?void 0:n.endpointName,c,f.config)}};function m(l,c,a,y){const f=s.endpointDefinitions[c],d=(f==null?void 0:f.keepUnusedDataFor)??y.keepUnusedDataFor;if(d===1/0)return;const o=Math.max(0,Math.min(d,Pn));if(!R(l)){const n=v[l];n&&clearTimeout(n),v[l]=setTimeout(()=>{R(l)||a.dispatch(h({queryCacheKey:l})),delete v[l]},o*1e3)}}return w},Ln=({reducerPath:e,context:t,context:{endpointDefinitions:i},mutationThunk:s,queryThunk:u,api:h,assertTagType:g,refetchQuery:O,internalState:R})=>{const{removeQueryResult:v}=h.internalActions,w=B(H(s),Me(s)),m=B(H(s,u),ne(s,u));let l=[];const c=(f,d)=>{w(f)?y(gt(f,"invalidatesTags",i,g),d):m(f)?y([],d):h.util.invalidateTags.match(f)&&y(Le(f.payload,void 0,void 0,void 0,void 0,g),d)};function a(f){var d,o;for(const n in f.queries)if(((d=f.queries[n])==null?void 0:d.status)==="pending")return!0;for(const n in f.mutations)if(((o=f.mutations[n])==null?void 0:o.status)==="pending")return!0;return!1}function y(f,d){const o=d.getState(),n=o[e];if(l.push(...f),n.config.invalidationBehavior==="delayed"&&a(n))return;const r=l;if(l=[],r.length===0)return;const p=h.util.selectInvalidatedBy(o,r);t.batch(()=>{const S=Array.from(p.values());for(const{queryCacheKey:M}of S){const b=n.queries[M],A=R.currentSubscriptions[M]??{};b&&(te(A)===0?d.dispatch(v({queryCacheKey:M})):b.status!=="uninitialized"&&d.dispatch(O(b,M)))}})}return c},$n=({reducerPath:e,queryThunk:t,api:i,refetchQuery:s,internalState:u})=>{const h={},g=(l,c)=>{(i.internalActions.updateSubscriptionOptions.match(l)||i.internalActions.unsubscribeQueryResult.match(l))&&R(l.payload,c),(t.pending.match(l)||t.rejected.match(l)&&l.meta.condition)&&R(l.meta.arg,c),(t.fulfilled.match(l)||t.rejected.match(l)&&!l.meta.condition)&&O(l.meta.arg,c),i.util.resetApiState.match(l)&&w()};function O({queryCacheKey:l},c){const a=c.getState()[e],y=a.queries[l],f=u.currentSubscriptions[l];if(!y||y.status==="uninitialized")return;const{lowestPollingInterval:d,skipPollingIfUnfocused:o}=m(f);if(!Number.isFinite(d))return;const n=h[l];n!=null&&n.timeout&&(clearTimeout(n.timeout),n.timeout=void 0);const r=Date.now()+d;h[l]={nextPollTimestamp:r,pollingInterval:d,timeout:setTimeout(()=>{(a.config.focused||!o)&&c.dispatch(s(y,l)),O({queryCacheKey:l},c)},d)}}function R({queryCacheKey:l},c){const y=c.getState()[e].queries[l],f=u.currentSubscriptions[l];if(!y||y.status==="uninitialized")return;const{lowestPollingInterval:d}=m(f);if(!Number.isFinite(d)){v(l);return}const o=h[l],n=Date.now()+d;(!o||n<o.nextPollTimestamp)&&O({queryCacheKey:l},c)}function v(l){const c=h[l];c!=null&&c.timeout&&clearTimeout(c.timeout),delete h[l]}function w(){for(const l of Object.keys(h))v(l)}function m(l={}){let c=!1,a=Number.POSITIVE_INFINITY;for(let y in l)l[y].pollingInterval&&(a=Math.min(l[y].pollingInterval,a),c=l[y].skipPollingIfUnfocused||c);return{lowestPollingInterval:a,skipPollingIfUnfocused:c}}return g},xn=({reducerPath:e,context:t,api:i,refetchQuery:s,internalState:u})=>{const{removeQueryResult:h}=i.internalActions,g=(R,v)=>{ae.match(R)&&O(v,"refetchOnFocus"),le.match(R)&&O(v,"refetchOnReconnect")};function O(R,v){const w=R.getState()[e],m=w.queries,l=u.currentSubscriptions;t.batch(()=>{for(const c of Object.keys(l)){const a=m[c],y=l[c];if(!y||!a)continue;(Object.values(y).some(d=>d[v]===!0)||Object.values(y).every(d=>d[v]===void 0)&&w.config[v])&&(te(y)===0?R.dispatch(h({queryCacheKey:c})):a.status!=="uninitialized"&&R.dispatch(s(a,c)))}})}return g},tt=new Error("Promise never resolved before cacheEntryRemoved."),zn=({api:e,reducerPath:t,context:i,queryThunk:s,mutationThunk:u,internalState:h})=>{const g=Ie(s),O=Ie(u),R=H(s,u),v={},w=(c,a,y)=>{const f=m(c);if(s.pending.match(c)){const d=y[t].queries[f],o=a.getState()[t].queries[f];!d&&o&&l(c.meta.arg.endpointName,c.meta.arg.originalArgs,f,a,c.meta.requestId)}else if(u.pending.match(c))a.getState()[t].mutations[f]&&l(c.meta.arg.endpointName,c.meta.arg.originalArgs,f,a,c.meta.requestId);else if(R(c)){const d=v[f];d!=null&&d.valueResolved&&(d.valueResolved({data:c.payload,meta:c.meta.baseQueryMeta}),delete d.valueResolved)}else if(e.internalActions.removeQueryResult.match(c)||e.internalActions.removeMutationResult.match(c)){const d=v[f];d&&(delete v[f],d.cacheEntryRemoved())}else if(e.util.resetApiState.match(c))for(const[d,o]of Object.entries(v))delete v[d],o.cacheEntryRemoved()};function m(c){return g(c)?c.meta.arg.queryCacheKey:O(c)?c.meta.arg.fixedCacheKey??c.meta.requestId:e.internalActions.removeQueryResult.match(c)?c.payload.queryCacheKey:e.internalActions.removeMutationResult.match(c)?fe(c.payload):""}function l(c,a,y,f,d){const o=i.endpointDefinitions[c],n=o==null?void 0:o.onCacheEntryAdded;if(!n)return;let r={};const p=new Promise(j=>{r.cacheEntryRemoved=j}),S=Promise.race([new Promise(j=>{r.valueResolved=j}),p.then(()=>{throw tt})]);S.catch(()=>{}),v[y]=r;const M=e.endpoints[c].select(o.type==="query"?a:y),b=f.dispatch((j,T,C)=>C),A={...f,getCacheEntry:()=>M(f.getState()),requestId:d,extra:b,updateCachedData:o.type==="query"?j=>f.dispatch(e.util.updateQueryData(c,a,j)):void 0,cacheDataLoaded:S,cacheEntryRemoved:p},E=n(a,A);Promise.resolve(E).catch(j=>{if(j!==tt)throw j})}return w},Nn=({api:e,context:t,queryThunk:i,mutationThunk:s})=>{const u=Pe(i,s),h=ne(i,s),g=H(i,s),O={};return(v,w)=>{var m,l;if(u(v)){const{requestId:c,arg:{endpointName:a,originalArgs:y}}=v.meta,f=t.endpointDefinitions[a],d=f==null?void 0:f.onQueryStarted;if(d){const o={},n=new Promise((M,b)=>{o.resolve=M,o.reject=b});n.catch(()=>{}),O[c]=o;const r=e.endpoints[a].select(f.type==="query"?y:c),p=w.dispatch((M,b,A)=>A),S={...w,getCacheEntry:()=>r(w.getState()),requestId:c,extra:p,updateCachedData:f.type==="query"?M=>w.dispatch(e.util.updateQueryData(a,y,M)):void 0,queryFulfilled:n};d(y,S)}}else if(g(v)){const{requestId:c,baseQueryMeta:a}=v.meta;(m=O[c])==null||m.resolve({data:v.payload,meta:a}),delete O[c]}else if(h(v)){const{requestId:c,rejectedWithValue:a,baseQueryMeta:y}=v.meta;(l=O[c])==null||l.reject({error:v.payload??v.error,isUnhandledError:!a,meta:y}),delete O[c]}}},Un=({api:e,context:{apiUid:t},reducerPath:i})=>(s,u)=>{e.util.resetApiState.match(s)&&u.dispatch(e.internalActions.middlewareRegistered(t)),typeof process<"u"},Bn=({api:e,queryThunk:t,internalState:i})=>{const s=`${e.reducerPath}/subscriptions`;let u=null,h=null;const{updateSubscriptionOptions:g,unsubscribeQueryResult:O}=e.internalActions,R=(c,a)=>{var f,d,o;if(g.match(a)){const{queryCacheKey:n,requestId:r,options:p}=a.payload;return(f=c==null?void 0:c[n])!=null&&f[r]&&(c[n][r]=p),!0}if(O.match(a)){const{queryCacheKey:n,requestId:r}=a.payload;return c[n]&&delete c[n][r],!0}if(e.internalActions.removeQueryResult.match(a))return delete c[a.payload.queryCacheKey],!0;if(t.pending.match(a)){const{meta:{arg:n,requestId:r}}=a,p=c[d=n.queryCacheKey]??(c[d]={});return p[`${r}_running`]={},n.subscribe&&(p[r]=n.subscriptionOptions??p[r]??{}),!0}let y=!1;if(t.fulfilled.match(a)||t.rejected.match(a)){const n=c[a.meta.arg.queryCacheKey]||{},r=`${a.meta.requestId}_running`;y||(y=!!n[r]),delete n[r]}if(t.rejected.match(a)){const{meta:{condition:n,arg:r,requestId:p}}=a;if(n&&r.subscribe){const S=c[o=r.queryCacheKey]??(c[o]={});S[p]=r.subscriptionOptions??S[p]??{},y=!0}}return y},v=()=>i.currentSubscriptions,l={getSubscriptions:v,getSubscriptionCount:c=>{const y=v()[c]??{};return te(y)},isRequestSubscribed:(c,a)=>{var f;const y=v();return!!((f=y==null?void 0:y[c])!=null&&f[a])}};return(c,a)=>{if(u||(u=JSON.parse(JSON.stringify(i.currentSubscriptions))),e.util.resetApiState.match(c))return u=i.currentSubscriptions={},h=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(c))return[!1,l];const y=R(i.currentSubscriptions,c);let f=!0;if(y){h||(h=setTimeout(()=>{const n=JSON.parse(JSON.stringify(i.currentSubscriptions)),[,r]=st(u,()=>n);a.next(e.internalActions.subscriptionsUpdated(r)),u=n,h=null},500));const d=typeof c.type=="string"&&!!c.type.startsWith(s),o=t.rejected.match(c)&&c.meta.condition&&!!c.meta.arg.subscribe;f=!d&&!o}return[f,!1]}};function Vn(e){const{reducerPath:t,queryThunk:i,api:s,context:u}=e,{apiUid:h}=u,g={invalidateTags:U(`${t}/invalidateTags`)},O=m=>m.type.startsWith(`${t}/`),R=[Un,Fn,Ln,$n,zn,Nn];return{middleware:m=>{let l=!1;const a={...e,internalState:{currentSubscriptions:{}},refetchQuery:w,isThisApiSliceAction:O},y=R.map(o=>o(a)),f=Bn(a),d=xn(a);return o=>n=>{if(!Qe(n))return o(n);l||(l=!0,m.dispatch(s.internalActions.middlewareRegistered(h)));const r={...m,next:o},p=m.getState(),[S,M]=f(n,r,p);let b;if(S?b=o(n):b=M,m.getState()[t]&&(d(n,r,p),O(n)||u.hasRehydrationInfo(n)))for(let A of y)A(n,r,p);return b}},actions:g};function w(m,l,c={}){return i({type:"query",endpointName:m.endpointName,originalArgs:m.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:l,...c})}}function V(e,...t){return Object.assign(e,...t)}var nt=Symbol(),Wn=({createSelector:e=ot}={})=>({name:nt,init(t,{baseQuery:i,tagTypes:s,reducerPath:u,serializeQueryArgs:h,keepUnusedDataFor:g,refetchOnMountOrArgChange:O,refetchOnFocus:R,refetchOnReconnect:v,invalidationBehavior:w},m){Rt();const l=k=>(typeof process<"u",k);Object.assign(t,{reducerPath:u,endpoints:{},internalActions:{onOnline:le,onOffline:be,onFocus:ae,onFocusLost:me},util:{}});const{queryThunk:c,mutationThunk:a,patchQueryData:y,updateQueryData:f,upsertQueryData:d,prefetch:o,buildMatchThunkActions:n}=Dn({baseQuery:i,reducerPath:u,context:m,api:t,serializeQueryArgs:h,assertTagType:l}),{reducer:r,actions:p}=qn({context:m,queryThunk:c,mutationThunk:a,reducerPath:u,assertTagType:l,config:{refetchOnFocus:R,refetchOnReconnect:v,refetchOnMountOrArgChange:O,keepUnusedDataFor:g,reducerPath:u,invalidationBehavior:w}});V(t.util,{patchQueryData:y,updateQueryData:f,upsertQueryData:d,prefetch:o,resetApiState:p.resetApiState}),V(t.internalActions,p);const{middleware:S,actions:M}=Vn({reducerPath:u,context:m,queryThunk:c,mutationThunk:a,api:t,assertTagType:l});V(t.util,M),V(t,{reducer:r,middleware:S});const{buildQuerySelector:b,buildMutationSelector:A,selectInvalidatedBy:E,selectCachedArgsForQuery:j}=Qn({serializeQueryArgs:h,reducerPath:u,createSelector:e});V(t.util,{selectInvalidatedBy:E,selectCachedArgsForQuery:j});const{buildInitiateQuery:T,buildInitiateMutation:C,getRunningMutationThunk:I,getRunningMutationsThunk:Q,getRunningQueriesThunk:_,getRunningQueryThunk:z}=In({queryThunk:c,mutationThunk:a,api:t,serializeQueryArgs:h,context:m});return V(t.util,{getRunningMutationThunk:I,getRunningMutationsThunk:Q,getRunningQueryThunk:z,getRunningQueriesThunk:_}),{name:nt,injectEndpoint(k,$){var N;const q=t;(N=q.endpoints)[k]??(N[k]={}),ht($)?V(q.endpoints[k],{name:k,select:b(k,$),initiate:T(k,$)},n(c,k)):jn($)&&V(q.endpoints[k],{name:k,select:A(),initiate:C(k)},n(a,k))}}}});function Hn(e){return e.type==="query"}function Kn(e){return e.type==="mutation"}function ge(e,...t){return Object.assign(e,...t)}function Ae(e){return e.replace(e[0],e[0].toUpperCase())}var Y=WeakMap?new WeakMap:void 0,Jn=({endpointName:e,queryArgs:t})=>{let i="";const s=Y==null?void 0:Y.get(t);if(typeof s=="string")i=s;else{const u=JSON.stringify(t,(h,g)=>W(g)?Object.keys(g).sort().reduce((O,R)=>(O[R]=g[R],O),{}):g);W(t)&&(Y==null||Y.set(t,u)),i=u}return`${e}(${i})`},Ee=Symbol();function rt(e,t,i,s){const u=D.useMemo(()=>({queryArgs:e,serialized:typeof e=="object"?t({queryArgs:e,endpointDefinition:i,endpointName:s}):e}),[e,t,i,s]),h=D.useRef(u);return D.useEffect(()=>{h.current.serialized!==u.serialized&&(h.current=u)},[u]),h.current.serialized===u.serialized?h.current.queryArgs:e}function je(e){const t=D.useRef(e);return D.useEffect(()=>{ue(t.current,e)||(t.current=e)},[e]),ue(t.current,e)?t.current:e}var Gn=typeof window<"u"&&window.document&&window.document.createElement?D.useLayoutEffect:D.useEffect,Xn=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:pt.pending}:e;function Yn({api:e,moduleOptions:{batch:t,hooks:{useDispatch:i,useSelector:s,useStore:u},unstable__sideEffectsInRender:h,createSelector:g},serializeQueryArgs:O,context:R}){const v=h?a=>a():D.useEffect;return{buildQueryHooks:l,buildMutationHook:c,usePrefetch:m};function w(a,y,f){if(y!=null&&y.endpointName&&a.isUninitialized){const{endpointName:S}=y,M=R.endpointDefinitions[S];O({queryArgs:y.originalArgs,endpointDefinition:M,endpointName:S})===O({queryArgs:f,endpointDefinition:M,endpointName:S})&&(y=void 0)}let d=a.isSuccess?a.data:y==null?void 0:y.data;d===void 0&&(d=a.data);const o=d!==void 0,n=a.isLoading,r=!o&&n,p=a.isSuccess||n&&o;return{...a,data:d,currentData:a.data,isFetching:n,isLoading:r,isSuccess:p}}function m(a,y){const f=i(),d=je(y);return D.useCallback((o,n)=>f(e.util.prefetch(a,o,{...d,...n})),[a,f,d])}function l(a){const y=(o,{refetchOnReconnect:n,refetchOnFocus:r,refetchOnMountOrArgChange:p,skip:S=!1,pollingInterval:M=0,skipPollingIfUnfocused:b=!1}={})=>{const{initiate:A}=e.endpoints[a],E=i(),j=D.useRef();if(!j.current){const q=E(e.internalActions.internal_getRTKQSubscriptions());j.current=q}const T=rt(S?K:o,Jn,R.endpointDefinitions[a],a),C=je({refetchOnReconnect:n,refetchOnFocus:r,pollingInterval:M,skipPollingIfUnfocused:b}),I=D.useRef(!1),Q=D.useRef();let{queryCacheKey:_,requestId:z}=Q.current||{},k=!1;_&&z&&(k=j.current.isRequestSubscribed(_,z));const $=!k&&I.current;return v(()=>{I.current=k}),v(()=>{$&&(Q.current=void 0)},[$]),v(()=>{var P;const q=Q.current;if(typeof process<"u",T===K){q==null||q.unsubscribe(),Q.current=void 0;return}const N=(P=Q.current)==null?void 0:P.subscriptionOptions;if(!q||q.arg!==T){q==null||q.unsubscribe();const F=E(A(T,{subscriptionOptions:C,forceRefetch:p}));Q.current=F}else C!==N&&q.updateSubscriptionOptions(C)},[E,A,p,T,C,$]),D.useEffect(()=>()=>{var q;(q=Q.current)==null||q.unsubscribe(),Q.current=void 0},[]),D.useMemo(()=>({refetch:()=>{var q;if(!Q.current)throw new Error(x(38));return(q=Q.current)==null?void 0:q.refetch()}}),[])},f=({refetchOnReconnect:o,refetchOnFocus:n,pollingInterval:r=0,skipPollingIfUnfocused:p=!1}={})=>{const{initiate:S}=e.endpoints[a],M=i(),[b,A]=D.useState(Ee),E=D.useRef(),j=je({refetchOnReconnect:o,refetchOnFocus:n,pollingInterval:r,skipPollingIfUnfocused:p});v(()=>{var Q,_;const I=(Q=E.current)==null?void 0:Q.subscriptionOptions;j!==I&&((_=E.current)==null||_.updateSubscriptionOptions(j))},[j]);const T=D.useRef(j);v(()=>{T.current=j},[j]);const C=D.useCallback(function(I,Q=!1){let _;return t(()=>{var z;(z=E.current)==null||z.unsubscribe(),E.current=_=M(S(I,{subscriptionOptions:T.current,forceRefetch:!Q})),A(I)}),_},[M,S]);return D.useEffect(()=>()=>{var I;(I=E==null?void 0:E.current)==null||I.unsubscribe()},[]),D.useEffect(()=>{b!==Ee&&!E.current&&C(b,!0)},[b,C]),D.useMemo(()=>[C,b],[C,b])},d=(o,{skip:n=!1,selectFromResult:r}={})=>{const{select:p}=e.endpoints[a],S=rt(n?K:o,O,R.endpointDefinitions[a],a),M=D.useRef(),b=D.useMemo(()=>g([p(S),(C,I)=>I,C=>S],w,{memoizeOptions:{resultEqualityCheck:ue}}),[p,S]),A=D.useMemo(()=>r?g([b],r,{devModeChecks:{identityFunctionCheck:"never"}}):b,[b,r]),E=s(C=>A(C,M.current),ue),j=u(),T=b(j.getState(),M.current);return Gn(()=>{M.current=T},[T]),E};return{useQueryState:d,useQuerySubscription:y,useLazyQuerySubscription:f,useLazyQuery(o){const[n,r]=f(o),p=d(r,{...o,skip:r===Ee}),S=D.useMemo(()=>({lastArg:r}),[r]);return D.useMemo(()=>[n,p,S],[n,p,S])},useQuery(o,n){const r=y(o,n),p=d(o,{selectFromResult:o===K||n!=null&&n.skip?void 0:Xn,...n}),{data:S,status:M,isLoading:b,isSuccess:A,isError:E,error:j}=p;return D.useDebugValue({data:S,status:M,isLoading:b,isSuccess:A,isError:E,error:j}),D.useMemo(()=>({...p,...r}),[p,r])}}}function c(a){return({selectFromResult:y,fixedCacheKey:f}={})=>{const{select:d,initiate:o}=e.endpoints[a],n=i(),[r,p]=D.useState();D.useEffect(()=>()=>{r!=null&&r.arg.fixedCacheKey||r==null||r.reset()},[r]);const S=D.useCallback(function(N){const P=n(o(N,{fixedCacheKey:f}));return p(P),P},[n,o,f]),{requestId:M}=r||{},b=D.useMemo(()=>d({fixedCacheKey:f,requestId:r==null?void 0:r.requestId}),[f,r,d]),A=D.useMemo(()=>y?g([b],y):b,[y,b]),E=s(A,ue),j=f==null?r==null?void 0:r.arg.originalArgs:void 0,T=D.useCallback(()=>{t(()=>{r&&p(void 0),f&&n(e.internalActions.removeMutationResult({requestId:M,fixedCacheKey:f}))})},[n,f,r,M]),{endpointName:C,data:I,status:Q,isLoading:_,isSuccess:z,isError:k,error:$}=E;D.useDebugValue({endpointName:C,data:I,status:Q,isLoading:_,isSuccess:z,isError:k,error:$});const q=D.useMemo(()=>({...E,originalArgs:j,reset:T}),[E,j,T]);return D.useMemo(()=>[S,q],[S,q])}}}var Zn=Symbol(),er=({batch:e=Tt,hooks:t={useDispatch:Ct,useSelector:It,useStore:Dt},createSelector:i=ot,unstable__sideEffectsInRender:s=!1,...u}={})=>({name:Zn,init(h,{serializeQueryArgs:g},O){const R=h,{buildQueryHooks:v,buildMutationHook:w,usePrefetch:m}=Yn({api:h,moduleOptions:{batch:e,hooks:t,unstable__sideEffectsInRender:s,createSelector:i},serializeQueryArgs:g,context:O});return ge(R,{usePrefetch:m}),ge(O,{batch:e}),{injectEndpoint(l,c){if(Hn(c)){const{useQuery:a,useLazyQuery:y,useLazyQuerySubscription:f,useQueryState:d,useQuerySubscription:o}=v(l);ge(R.endpoints[l],{useQuery:a,useLazyQuery:y,useLazyQuerySubscription:f,useQueryState:d,useQuerySubscription:o}),h[`use${Ae(l)}Query`]=a,h[`useLazy${Ae(l)}Query`]=y}else if(Kn(c)){const a=w(l);ge(R.endpoints[l],{useMutation:a}),h[`use${Ae(l)}Mutation`]=a}}}}}),fr=kn(Wn(),er());export{fr as a,ar as b,G as c,cr as d,lr as f,dr as s};
