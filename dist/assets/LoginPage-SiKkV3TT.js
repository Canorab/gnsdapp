import{r as i,j as r}from"./react-eX7k_oyb.js";import{u as E,C as u}from"./react-hook-form-BVuS_7ec.js";import{a as N,b as P,c as T,l as k}from"./index-DXekcc4w.js";import{t as C}from"./@hookform-B4uZ5eeB.js";import{u as B}from"./react-redux-B2ydUXa7.js";import{u as I,w as L,B as F,x,y as a,z as A,E as R,I as V,V as O,F as W,G as D}from"./@mui-X-K-t_pU.js";import{c as z}from"./react-router-zaz7yv4n.js";import"./@babel-BTUyE5mg.js";import"./react-dom-BE5TJDhq.js";import"./scheduler-CzFDRTuY.js";import"./@wagmi-Cwopbt2N.js";import"./zustand-BxVvYF66.js";import"./viem-DO_zHWKk.js";import"./eventemitter3-B2QLvKQr.js";import"./mipd-CIcDX0W7.js";import"./react-router-dom-DIdm3YiL.js";import"./@remix-run-CAT8zpu_.js";import"./@reduxjs-9R9LrHOH.js";import"./redux-DITMfSWq.js";import"./immer-BkdjC0q7.js";import"./reselect-BEFkisvr.js";import"./redux-thunk-ClJT1hhx.js";import"./react-copy-to-clipboard-CVAzxf6m.js";import"./copy-to-clipboard-BvYTofsP.js";import"./toggle-selection-BHUZwh74.js";import"./jwt-decode-VWaDGczM.js";import"./lucide-react-CUEWfaAn.js";import"./uuid-D8aEg3BZ.js";import"./boxicons-DYxgBJvX.js";import"./zod-dIKOytT1.js";import"./@fvilers-C36Jf4Wd.js";import"./use-sync-external-store-o46NS6CO.js";import"./clsx-B-dksMZM.js";import"./@emotion-CTR4nhAa.js";import"./hoist-non-react-statics-Buxaj0Kl.js";import"./react-is-8JwjhRSi.js";import"./stylis-NkKAe6Bn.js";import"./react-transition-group-BwIbI4gd.js";function G(){var d,c;const h=I(),n=z(),f=B(),[g,{isLoading:H,isSuccess:m,isError:M,error:U}]=N(),[l,j]=i.useState(!1),w=()=>{j(e=>!e)},{register:_,handleSubmit:b,control:p,reset:q,setError:S,formState:{isSubmitting:J,isSubmitSuccessful:K,errors:s}}=E({mode:"all",resolver:C(k),defaultValues:{username:"",password:""}});i.useEffect(()=>{m&&n("/admindash",{replace:!0})},[m,n]);const v=i.useCallback(async e=>{try{const{accessToken:t}=await g(e).unwrap();f(P({accessToken:t}))}catch(t){(t==null?void 0:t.status)==="FETCH_ERROR"&&S("root.serverError",{type:"server",message:"Network or internet Error"})}},[]);return r.jsxs("div",{children:[r.jsxs("div",{className:"title-wrapper w-full flex justify-between items-center mb-8 ",children:[r.jsx("img",{src:"/images/gtx-stream-logo1.png",className:"w-32",alt:""}),r.jsx("h2",{className:"text-2xl font-bold text-center text-gray-50",children:"Login"})]}),r.jsx(L,{theme:T(h),children:r.jsx("form",{onSubmit:b(v),children:r.jsxs(F,{component:"div",sx:{p:"2px 4px",display:"flex",flexDirection:"column",alignItems:"center",gap:2,width:350,boxShadow:0},children:[r.jsx(u,{name:"username",control:p,render:({field:e,fieldState:{error:t},formState:y})=>{var o;return r.jsx(x,{id:"username",label:"Username",variant:"filled",type:"text",error:!!s.username,helperText:(o=s.username)==null?void 0:o.message,...e,fullWidth:!0,InputProps:{startAdornment:r.jsx(a,{position:"start",children:r.jsx(A,{})})}})}}),r.jsx(u,{name:"password",control:p,render:({field:e,fieldState:{error:t},formState:y})=>{var o;return r.jsx(x,{id:"password",label:"Password",variant:"filled",type:l?"text":"password",error:!!s.password,helperText:(o=s.password)==null?void 0:o.message,...e,fullWidth:!0,InputProps:{startAdornment:r.jsx(a,{position:"start",children:r.jsx(R,{})}),endAdornment:r.jsx(a,{position:"end",children:r.jsx(V,{"aria-label":"toggle password visibility",onClick:w,edge:"end",children:l?r.jsx(O,{}):r.jsx(W,{})})})}})}}),r.jsx(D,{type:"submit",variant:"contained",className:"btn",children:"Submit"}),r.jsx("div",{children:r.jsx("p",{style:{fontWeight:"bold"},children:(c=(d=s.root)==null?void 0:d.serverError)==null?void 0:c.message})})]})})})]})}function Fr(){return r.jsx("div",{className:"signup-page",children:r.jsx("div",{className:"form-wrapper",children:r.jsx(G,{})})})}export{Fr as default};
