import{g as P}from"./@babel-BTUyE5mg.js";class O extends TypeError{constructor(n,t){let r;const{message:i,explanation:o,...c}=n,{path:f}=n,u=f.length===0?i:`At path: ${f.join(".")} -- ${i}`;super(o??u),o!=null&&(this.cause=u),Object.assign(this,c),this.name=this.constructor.name,this.failures=()=>r??(r=[n,...t()])}}function F(e){return l(e)&&typeof e[Symbol.iterator]=="function"}function l(e){return typeof e=="object"&&e!=null}function x(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const n=Object.getPrototypeOf(e);return n===null||n===Object.prototype}function a(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function J(e){const{done:n,value:t}=e.next();return n?void 0:t}function R(e,n,t,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:o}=n,{type:c}=t,{refinement:f,message:u=`Expected a value of type \`${c}\`${f?` with refinement \`${f}\``:""}, but received: \`${a(r)}\``}=e;return{value:r,type:c,refinement:f,key:i[i.length-1],path:i,branch:o,...e,message:u}}function*w(e,n,t,r){F(e)||(e=[e]);for(const i of e){const o=R(i,n,t,r);o&&(yield o)}}function*j(e,n,t={}){const{path:r=[],branch:i=[e],coerce:o=!1,mask:c=!1}=t,f={path:r,branch:i};if(o&&(e=n.coercer(e,f),c&&n.type!=="type"&&l(n.schema)&&l(e)&&!Array.isArray(e)))for(const s in e)n.schema[s]===void 0&&delete e[s];let u="valid";for(const s of n.validator(e,f))s.explanation=t.message,u="not_valid",yield[s,void 0];for(let[s,y,D]of n.entries(e,f)){const I=j(y,D,{path:s===void 0?r:[...r,s],branch:s===void 0?i:[...i,y],coerce:o,mask:c,message:t.message});for(const g of I)g[0]?(u=g[0].refinement!=null?"not_refined":"not_valid",yield[g[0],void 0]):o&&(y=g[1],s===void 0?e=y:e instanceof Map?e.set(s,y):e instanceof Set?e.add(y):l(e)&&(y!==void 0||s in e)&&(e[s]=y))}if(u!=="not_valid")for(const s of n.refiner(e,f))s.explanation=t.message,u="not_refined",yield[s,void 0];u==="valid"&&(yield[void 0,e])}class d{constructor(n){const{type:t,schema:r,validator:i,refiner:o,coercer:c=u=>u,entries:f=function*(){}}=n;this.type=t,this.schema=r,this.entries=f,this.coercer=c,i?this.validator=(u,s)=>{const y=i(u,s);return w(y,s,this,u)}:this.validator=()=>[],o?this.refiner=(u,s)=>{const y=o(u,s);return w(y,s,this,u)}:this.refiner=()=>[]}assert(n,t){return z(n,this,t)}create(n,t){return A(n,this,t)}is(n){return k(n,this)}mask(n,t){return N(n,this,t)}validate(n,t={}){return h(n,this,t)}}function z(e,n,t){const r=h(e,n,{message:t});if(r[0])throw r[0]}function A(e,n,t){const r=h(e,n,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function N(e,n,t){const r=h(e,n,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function k(e,n){return!h(e,n)[0]}function h(e,n,t={}){const r=j(e,n,t),i=J(r);return i[0]?[new O(i[0],function*(){for(const c of r)c[0]&&(yield c[0])}),void 0]:[void 0,i[1]]}function B(...e){const n=e[0].type==="type",t=e.map(i=>i.schema),r=Object.assign({},...t);return n?$(r):m(r)}function p(e,n){return new d({type:e,schema:null,validator:n})}function G(e,n){return new d({...e,refiner:(t,r)=>t===void 0||e.refiner(t,r),validator(t,r){return t===void 0?!0:(n(t,r),e.validator(t,r))}})}function H(e){return new d({type:"dynamic",schema:null,*entries(n,t){yield*e(n,t).entries(n,t)},validator(n,t){return e(n,t).validator(n,t)},coercer(n,t){return e(n,t).coercer(n,t)},refiner(n,t){return e(n,t).refiner(n,t)}})}function L(e){let n;return new d({type:"lazy",schema:null,*entries(t,r){n??(n=e()),yield*n.entries(t,r)},validator(t,r){return n??(n=e()),n.validator(t,r)},coercer(t,r){return n??(n=e()),n.coercer(t,r)},refiner(t,r){return n??(n=e()),n.refiner(t,r)}})}function Q(e,n){const{schema:t}=e,r={...t};for(const i of n)delete r[i];switch(e.type){case"type":return $(r);default:return m(r)}}function U(e){const n=e instanceof d,t=n?{...e.schema}:{...e};for(const r in t)t[r]=M(t[r]);return n&&e.type==="type"?$(t):m(t)}function W(e,n){const{schema:t}=e,r={};for(const i of n)r[i]=t[i];switch(e.type){case"type":return $(r);default:return m(r)}}function X(e,n){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),p(e,n)}function Y(){return p("any",()=>!0)}function Z(e){return new d({type:"array",schema:e,*entries(n){if(e&&Array.isArray(n))for(const[t,r]of n.entries())yield[t,r,e]},coercer(n){return Array.isArray(n)?n.slice():n},validator(n){return Array.isArray(n)||`Expected an array value, but received: ${a(n)}`}})}function C(){return p("bigint",e=>typeof e=="bigint")}function K(){return p("boolean",e=>typeof e=="boolean")}function V(){return p("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${a(e)}`)}function v(e){const n={},t=e.map(r=>a(r)).join();for(const r of e)n[r]=r;return new d({type:"enums",schema:n,validator(r){return e.includes(r)||`Expected one of \`${t}\`, but received: ${a(r)}`}})}function ee(){return p("func",e=>typeof e=="function"||`Expected a function, but received: ${a(e)}`)}function ne(e){return p("instance",n=>n instanceof e||`Expected a \`${e.name}\` instance, but received: ${a(n)}`)}function te(){return p("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${a(e)}`)}function re(e){return new d({type:"intersection",schema:null,*entries(n,t){for(const r of e)yield*r.entries(n,t)},*validator(n,t){for(const r of e)yield*r.validator(n,t)},*refiner(n,t){for(const r of e)yield*r.refiner(n,t)}})}function ie(e){const n=a(e),t=typeof e;return new d({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?e:null,validator(r){return r===e||`Expected the literal \`${n}\`, but received: ${a(r)}`}})}function oe(e,n){return new d({type:"map",schema:null,*entries(t){if(e&&n&&t instanceof Map)for(const[r,i]of t.entries())yield[r,r,e],yield[r,i,n]},coercer(t){return t instanceof Map?new Map(t):t},validator(t){return t instanceof Map||`Expected a \`Map\` object, but received: ${a(t)}`}})}function E(){return p("never",()=>!1)}function ce(e){return new d({...e,validator:(n,t)=>n===null||e.validator(n,t),refiner:(n,t)=>n===null||e.refiner(n,t)})}function se(){return p("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${a(e)}`)}function m(e){const n=e?Object.keys(e):[],t=E();return new d({type:"object",schema:e||null,*entries(r){if(e&&l(r)){const i=new Set(Object.keys(r));for(const o of n)i.delete(o),yield[o,r[o],e[o]];for(const o of i)yield[o,r[o],t]}},validator(r){return l(r)||`Expected an object, but received: ${a(r)}`},coercer(r){return l(r)?{...r}:r}})}function M(e){return new d({...e,validator:(n,t)=>n===void 0||e.validator(n,t),refiner:(n,t)=>n===void 0||e.refiner(n,t)})}function fe(e,n){return new d({type:"record",schema:null,*entries(t){if(l(t))for(const r in t){const i=t[r];yield[r,r,e],yield[r,i,n]}},validator(t){return l(t)||`Expected an object, but received: ${a(t)}`}})}function ue(){return p("regexp",e=>e instanceof RegExp)}function de(e){return new d({type:"set",schema:null,*entries(n){if(e&&n instanceof Set)for(const t of n)yield[t,t,e]},coercer(n){return n instanceof Set?new Set(n):n},validator(n){return n instanceof Set||`Expected a \`Set\` object, but received: ${a(n)}`}})}function _(){return p("string",e=>typeof e=="string"||`Expected a string, but received: ${a(e)}`)}function ae(e){const n=E();return new d({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(e.length,t.length);for(let i=0;i<r;i++)yield[i,t[i],e[i]||n]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${a(t)}`}})}function $(e){const n=Object.keys(e);return new d({type:"type",schema:e,*entries(t){if(l(t))for(const r of n)yield[r,t[r],e[r]]},validator(t){return l(t)||`Expected an object, but received: ${a(t)}`},coercer(t){return l(t)?{...t}:t}})}function pe(e){const n=e.map(t=>t.type).join(" | ");return new d({type:"union",schema:null,coercer(t){for(const r of e){const[i,o]=r.validate(t,{coerce:!0});if(!i)return o}return t},validator(t,r){const i=[];for(const o of e){const[...c]=j(t,o,r),[f]=c;if(f[0])for(const[u]of c)u&&i.push(u);else return[]}return[`Expected the value to satisfy a union of \`${n}\`, but received: ${a(t)}`,...i]}})}function T(){return p("unknown",()=>!0)}function S(e,n,t){return new d({...e,coercer:(r,i)=>k(r,n)?e.coercer(t(r,i),i):e.coercer(r,i)})}function ye(e,n,t={}){return S(e,T(),r=>{const i=typeof n=="function"?n():n;if(r===void 0)return i;if(!t.strict&&x(r)&&x(i)){const o={...r};let c=!1;for(const f in i)o[f]===void 0&&(o[f]=i[f],c=!0);if(c)return o}return r})}function le(e){return S(e,_(),n=>n.trim())}function be(e){return b(e,"empty",n=>{const t=q(n);return t===0||`Expected an empty ${e.type} but received one with a size of \`${t}\``})}function q(e){return e instanceof Map||e instanceof Set?e.size:e.length}function he(e,n,t={}){const{exclusive:r}=t;return b(e,"max",i=>r?i<n:i<=n||`Expected a ${e.type} less than ${r?"":"or equal to "}${n} but received \`${i}\``)}function me(e,n,t={}){const{exclusive:r}=t;return b(e,"min",i=>r?i>n:i>=n||`Expected a ${e.type} greater than ${r?"":"or equal to "}${n} but received \`${i}\``)}function $e(e){return b(e,"nonempty",n=>q(n)>0||`Expected a nonempty ${e.type} but received an empty one`)}function ge(e,n){return b(e,"pattern",t=>n.test(t)||`Expected a ${e.type} matching \`/${n.source}/\` but received "${t}"`)}function we(e,n,t=n){const r=`Expected a ${e.type}`,i=n===t?`of \`${n}\``:`between \`${n}\` and \`${t}\``;return b(e,"size",o=>{if(typeof o=="number"||o instanceof Date)return n<=o&&o<=t||`${r} ${i} but received \`${o}\``;if(o instanceof Map||o instanceof Set){const{size:c}=o;return n<=c&&c<=t||`${r} with a size ${i} but received one with a size of \`${c}\``}else{const{length:c}=o;return n<=c&&c<=t||`${r} with a length ${i} but received one with a length of \`${c}\``}})}function b(e,n,t){return new d({...e,*refiner(r,i){yield*e.refiner(r,i);const o=t(r,i),c=w(o,i,e,r);for(const f of c)yield{...f,refinement:n}}})}const je=Object.freeze(Object.defineProperty({__proto__:null,Struct:d,StructError:O,any:Y,array:Z,assert:z,assign:B,bigint:C,boolean:K,coerce:S,create:A,date:V,defaulted:ye,define:p,deprecated:G,dynamic:H,empty:be,enums:v,func:ee,instance:ne,integer:te,intersection:re,is:k,lazy:L,literal:ie,map:oe,mask:N,max:he,min:me,never:E,nonempty:$e,nullable:ce,number:se,object:m,omit:Q,optional:M,partial:U,pattern:ge,pick:W,record:fe,refine:b,regexp:ue,set:de,size:we,string:_,struct:X,trimmed:le,tuple:ae,type:$,union:pe,unknown:T,validate:h},Symbol.toStringTag,{value:"Module"})),Ee=P(je);export{Ee as r};
