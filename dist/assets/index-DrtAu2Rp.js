function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/SignupPage-m7zmK-40.js","assets/react-eX7k_oyb.js","assets/@babel-BTUyE5mg.js","assets/@web3modal-DeBZGKxy.js","assets/bignumber.js-DOH-f-tm.js","assets/@wagmi-BaiSEwY6.js","assets/zustand-DpAk_q0W.js","assets/viem-QjkCSC18.js","assets/eventemitter3-B2QLvKQr.js","assets/mipd-CIcDX0W7.js","assets/buffer-EBb79ogF.js","assets/base64-js-D0UyVEDn.js","assets/ieee754-DSYfm7We.js","assets/zod-dIKOytT1.js","assets/valtio-CwCRFTPS.js","assets/proxy-compare-DDw08AJZ.js","assets/dayjs-D3dD73DO.js","assets/qrcode-CGiDONbL.js","assets/encode-utf8-Cn5aGd7v.js","assets/dijkstrajs-D_NXgYpA.js","assets/react-router-dom-DIdm3YiL.js","assets/react-dom-BE5TJDhq.js","assets/scheduler-CzFDRTuY.js","assets/react-router-zaz7yv4n.js","assets/@remix-run-CAT8zpu_.js","assets/react-hook-form-BVuS_7ec.js","assets/@hookform-B4uZ5eeB.js","assets/@mui-lUZ81DNL.js","assets/clsx-B-dksMZM.js","assets/@emotion-CTR4nhAa.js","assets/hoist-non-react-statics-Buxaj0Kl.js","assets/react-is-8JwjhRSi.js","assets/stylis-NkKAe6Bn.js","assets/react-transition-group-BwIbI4gd.js","assets/react-redux-B2ydUXa7.js","assets/use-sync-external-store-o46NS6CO.js","assets/@reduxjs-9R9LrHOH.js","assets/redux-DITMfSWq.js","assets/immer-BkdjC0q7.js","assets/reselect-BEFkisvr.js","assets/redux-thunk-ClJT1hhx.js","assets/react-copy-to-clipboard-CVAzxf6m.js","assets/copy-to-clipboard-BvYTofsP.js","assets/toggle-selection-BHUZwh74.js","assets/jwt-decode-VWaDGczM.js","assets/lucide-react-DofsI3O2.js","assets/uuid-D8aEg3BZ.js","assets/boxicons-DYxgBJvX.js","assets/@fvilers-C36Jf4Wd.js","assets/SignupPage-vVReXN0Y.css","assets/LoginPage-bpnDjdJg.js","assets/LoginPage-BoRWdJUY.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{j as e,r as i,a as Je}from"./react-eX7k_oyb.js";import{a as v,u as Xe,P as Ze}from"./react-redux-B2ydUXa7.js";import{c as es}from"./react-dom-BE5TJDhq.js";import{_ as be}from"./@wagmi-BaiSEwY6.js";import{L as S,c as ss,R as ts}from"./react-router-dom-DIdm3YiL.js";import{T as as,a as H,b as $,c as rs,u as ve,B as X,I as L,d as oe,e as ie,f as le,g as ce,h as ns,P as Se,i as os,j as is,k as ls,l as cs,m as ds,D as us,S as ms,C as k,n as hs,o as xs,L as Ne,A as fs,p as Te,R as De,q as Ce,r as ps,s as gs,t as I,v as de,w as js,x as ue,y as me,z as he,E as ys}from"./@mui-lUZ81DNL.js";import{c as bs,f as vs,a as Ss,b as K,d as Ns,s as Ts}from"./@reduxjs-9R9LrHOH.js";import{a as w}from"./reselect-BEFkisvr.js";import{O as C,c as Z,b as ee,f as xe,g as Ds,h as j}from"./react-router-zaz7yv4n.js";import{C as Cs}from"./react-copy-to-clipboard-CVAzxf6m.js";import{j as ks}from"./jwt-decode-VWaDGczM.js";import{C as ke,a as we,H as Re,U as Ae}from"./lucide-react-DofsI3O2.js";import{v as fe}from"./uuid-D8aEg3BZ.js";import"./boxicons-DYxgBJvX.js";import{u as ws,C as pe}from"./react-hook-form-BVuS_7ec.js";import{z as y}from"./zod-dIKOytT1.js";import{t as Rs}from"./@hookform-B4uZ5eeB.js";import{d as As}from"./@fvilers-C36Jf4Wd.js";import"./@babel-BTUyE5mg.js";import"./use-sync-external-store-o46NS6CO.js";import"./scheduler-CzFDRTuY.js";import"./zustand-DpAk_q0W.js";import"./viem-QjkCSC18.js";import"./eventemitter3-B2QLvKQr.js";import"./mipd-CIcDX0W7.js";import"./@remix-run-CAT8zpu_.js";import"./clsx-B-dksMZM.js";import"./@emotion-CTR4nhAa.js";import"./hoist-non-react-statics-Buxaj0Kl.js";import"./react-is-8JwjhRSi.js";import"./stylis-NkKAe6Bn.js";import"./react-transition-group-BwIbI4gd.js";import"./redux-DITMfSWq.js";import"./immer-BkdjC0q7.js";import"./redux-thunk-ClJT1hhx.js";import"./copy-to-clipboard-BvYTofsP.js";import"./toggle-selection-BHUZwh74.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();function Ls({cols:t,sortHandler:s,sortDirection:a}){return e.jsx(as,{sx:{"& th":{fontWeight:"bold",fontSize:"0.9rem",background:"rgba(255, 255, 255, 0.3)",color:"#272833"}},children:e.jsx(H,{children:t.map(r=>r.accessorkey==="createdDate"?e.jsx($,{onClick:()=>{s()},children:e.jsx(rs,{active:!0,direction:a,children:r.header})},r.accessorkey):e.jsx($,{align:r.accessorkey==="index"?void 0:"right",children:r.header},r.accessorkey))})})}function Us({count:t,page:s,rowsPerPage:a,onPageChange:r}){const n=ve(),o=c=>{r(c,0)},l=c=>{r(c,s-1)},x=c=>{r(c,s+1)},u=c=>{r(c,Math.max(0,Math.ceil(t/a)-1))};return e.jsxs(X,{sx:{flexShrink:0,ml:2.5},children:[e.jsx(L,{onClick:o,disabled:s===0,"aria-label":"first page",children:n.direction==="rtl"?e.jsx(oe,{}):e.jsx(ie,{})}),e.jsx(L,{onClick:l,disabled:s===0,"aria-label":"previous page",children:n.direction==="rtl"?e.jsx(le,{}):e.jsx(ce,{})}),e.jsx(L,{onClick:x,disabled:s>=Math.ceil(t/a)-1,"aria-label":"next page",children:n.direction==="rtl"?e.jsx(ce,{}):e.jsx(le,{})}),e.jsx(L,{onClick:u,disabled:s>=Math.ceil(t/a)-1,"aria-label":"last page",children:n.direction==="rtl"?e.jsx(ie,{}):e.jsx(oe,{})})]})}function Es(t,s){const a=[];for(let r=0;r<t.length;r++){const n=t[r];s.includes(n)&&a.push(n)}return a}const W=t=>new Date(t),Is=t=>new Date(t).toLocaleString("default",{dateStyle:"medium"});function Ps({data:t,cols:s,index:a}){const r=Is(t.createdAt),n={index:a,createdDate:r,...t},o=[],l=Object.keys(n),x=s.map(c=>c.accessorkey);return Es(x,l).map((c,d)=>(o.push(e.jsx($,{align:c==="index"||c==="createdDate"?"left":"right",className:c==="domainsCount"||c==="referrerUsername"||c==="name"?"highlightedcell":"",children:n[c]},d)),c)),e.jsx(H,{sx:{"&:last-child td, &:last-child th":{border:0},"& td":{fontSize:"1rem"},"& td.highlightedcell.css-177gid-MuiTableCell-root":{color:" #121213",fontWeight:"bold"}},children:o},t.id)}function $s({data:t,cols:s,page:a,rowsPerPage:r}){const n=a>0?Math.max(0,(1+a)*r-t.length):0;return e.jsxs(ns,{children:[t.length===0&&e.jsx(H,{children:e.jsx($,{component:"td",scope:"row",colSpan:8,children:"No record found"})}),(r>0?t.slice(a*r,a*r+r):t).map((o,l)=>e.jsx(Ps,{data:o,cols:s,index:l+1},o.id)),n>0&&e.jsx(H,{style:{height:53*n},children:e.jsx($,{colSpan:6})})]})}function R({cols:t,data:s}){const[a,r]=i.useState(0),[n,o]=i.useState(10),l=(h,g)=>{r(g)},x=h=>{o(parseInt(h.target.value,10)),r(0)},[u,c]=i.useState(s),[d,f]=i.useState("asc");i.useEffect(()=>{c(s)},[s]);const m=(h,g)=>{switch(g){case"desc":return h.sort((b,A)=>W(b.createdAt)<W(A.createdAt)?-1:1);case"asc":default:return h.sort((b,A)=>W(b.createdAt)>W(A.createdAt)?-1:1)}},p=()=>{c(m(s,d)),f(d==="asc"?"desc":"asc")};return e.jsxs(Se,{sx:{height:"100%",background:"rgba(255, 255, 255, 0.3)"},children:[e.jsx(os,{sx:{maxHeight:500},children:e.jsxs(is,{sx:{minWidth:650,"& th":{background:"rgba(255, 255, 255, 0.3)"}},"aria-label":"Table",stickyHeader:!0,children:[e.jsx(Ls,{cols:t,sortHandler:p,sortDirection:d}),e.jsx($s,{data:u,cols:t,page:a,rowsPerPage:n})]})}),e.jsx(ls,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],component:"div",count:s.length,rowsPerPage:n,page:a,slotProps:{select:{inputProps:{"aria-label":"rows per page"},native:!0}},onPageChange:l,onRowsPerPageChange:x,ActionsComponent:Us})]})}function M({changeHandler:t,label:s}){return e.jsxs(Se,{component:"form",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"80%",justifySelf:"center",alignSelf:"center"},children:[e.jsx(L,{sx:{p:"10px"},"aria-label":"menu",children:e.jsx(cs,{})}),e.jsx(ds,{sx:{ml:1,flex:1},placeholder:s,inputProps:{"aria-label":`${s}`},onChange:a=>{t(a.target.value)}}),e.jsx(us,{sx:{height:28,m:.5},orientation:"vertical"}),e.jsx(L,{type:"button",sx:{p:"10px"},"aria-label":"search",children:e.jsx(ms,{})})]})}const V=[{header:"SN",accessorkey:"index",footer:"SN"},{header:"Date",accessorkey:"createdDate",footer:"Date"},{header:"Username",accessorkey:"username",footer:"Username"},{header:"First Name",accessorkey:"firstName",footer:"First Name"},{header:"Last Name",accessorkey:"lastName",footer:"Last Name"},{header:"Domains",accessorkey:"domainsCount",footer:"Domains"},{header:"Wallet",accessorkey:"wallet",footer:"Wallet"},{header:"Referrer",accessorkey:"referrerUsername",footer:"Referrer"}],Le=[{header:"SN",accessorkey:"index",footer:"SN"},{header:"Date",accessorkey:"createdDate",footer:"Date"},{header:"Domain",accessorkey:"name",footer:"Domain"},{header:"Username",accessorkey:"username",footer:"Username"},{header:"First Name",accessorkey:"firstName",footer:"First Name"},{header:"Last Name",accessorkey:"lastName",footer:"Last Name"}],qs=[{header:"SN",accessorkey:"index",footer:"SN"},{header:"Date",accessorkey:"createdDate",footer:"Date"},{header:"Username",accessorkey:"username",footer:"Username"},{header:"First Name",accessorkey:"firstName",footer:"First Name"},{header:"Last Name",accessorkey:"lastName",footer:"Last Name"},{header:"Wallet",accessorkey:"wallet",footer:"Wallet"},{header:"Total Referrals",accessorkey:"totalReferralsCount",footer:"Total Referrals"},{header:"Today Referrals",accessorkey:"todayReferralsCount",footer:"Today Referrals"},{header:"Total Domains",accessorkey:"totalDomainsCount",footer:"Total Domains"},{header:"Today Domains",accessorkey:"todayDomainsCount",footer:"Today Domains"}];function O(t,s=1e3){let a;return(...r)=>{clearTimeout(a),a=setTimeout(()=>{t(...r)},s)}}const Fs={token:""},Ue=bs({name:"auth",initialState:Fs,reducers:{setCredentials(t,s){t.token=s.payload.accessToken},logOut(t,s){t.token=""}}}),{setCredentials:se,logOut:Bs}=Ue.actions,Ms=Ue.reducer,Ee=t=>t.auth.token,J=vs({baseUrl:"https://gnsserv1.onrender.com/api/",credentials:"include",prepareHeaders(t,{getState:s}){const{token:a}=s().auth;return a&&t.set("authorization",`Bearer ${a}`),t}}),Os=async(t,s,a)=>{var n,o;let r=await J(t,s,a);if(((n=r==null?void 0:r.error)==null?void 0:n.status)===403){const l=await J("auth/refresh",s,a);if(l!=null&&l.data)s.dispatch(se({...l.data})),r=await J(t,s,a);else return((o=l==null?void 0:l.error)==null?void 0:o.status)===403&&(l.error.data.message="Your login has expired "),l}return r},N=Ss({reducerPath:"gnsApi",baseQuery:Os,tagTypes:["User","Domain"],refetchOnMountOrArgChange:!0,refetchOnReconnect:!0,endpoints:t=>({})}),te=K({}),Ie=te.getInitialState(),Pe=N.injectEndpoints({endpoints:t=>({getUsersWithStats:t.query({query:()=>({url:"users/affiliates",validateStatus:(s,a)=>s.status===200&&!a.isError}),transformResponse(s,a,r){const n=s.map(o=>(o.id=o._id,o.totalReferralsCount=o.referrals.length,o.todayReferralsCount=o.todayReferrals.length,o.totalDomainsCount=o.referralsDomains.length,o.todayDomainsCount=o.todayReferralsDomains.length,o));return te.setAll(Ie,n)},providesTags(s,a,r){return s!=null&&s.ids?[{type:"User",id:"LIST"},...s.ids.map(n=>({type:"User",id:n}))]:[{type:"User",id:"LIST"}]},forceRefetch({currentArg:s,previousArg:a}){return s!==a}})})}),{useGetUsersWithStatsQuery:Ws}=Pe,_s=Pe.endpoints.getUsersWithStats.select(),Hs=w(_s,t=>t.data),Qs=te.getSelectors(t=>Hs(t)??Ie);function zs(){var p;const[t,s]=i.useState([]),[a,r]=i.useState(""),{isLoading:n,isFetching:o,isSuccess:l,isError:x,error:u}=Ws(),d=v(Qs.selectAll);let f;(n||o)&&(f=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(k,{})})),x&&(f=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(p=u==null?void 0:u.data)==null?void 0:p.message} - `,e.jsx(S,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}));const m=i.useCallback(O(h=>{r(h)}),[]);return i.useEffect(()=>{try{if(l){const h=d.filter(g=>a.toLowerCase()===""?g:g.username.toLowerCase().includes(a));s(h)}}catch(h){console.log(h)}},[a,d]),l&&(f=e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80},children:[e.jsx(M,{changeHandler:m,label:"Search users"}),e.jsx(R,{cols:qs,data:t})]})),f}function Gs(){return e.jsx(C,{})}function $e({initials:t,borderRadius:s=60,width:a=60,height:r=60}){return e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",background:"#141441",borderRadius:s,width:a,height:r},children:e.jsxs("h4",{className:"text-white font-bold",children:[" ",t," "]})})}function qe(t){var a;const s=(a=t.username)==null?void 0:a.substring(0,2).toLocaleUpperCase();return e.jsxs("div",{className:"profile-info",children:[e.jsx($e,{initials:s}),e.jsx("h4",{className:"username text-lg font-semibold overflow-hidden",children:t.username})]})}function Fe({username:t,dashTip:s}){return e.jsxs("div",{className:"welcome-block",children:[e.jsxs("h2",{className:"greeting font-bold text-lg",children:["Welcome, ",t]}),e.jsx("h3",{className:"dash-tip",children:s})]})}function Be({username:t}){const s=`http://localhost:5173/signup?ref=${t}`,[a,r]=i.useState(""),[n,o]=i.useState(!1);i.useEffect(()=>{r(s)},[]);const l=()=>{o(!0),setTimeout(()=>{o(!1)},2e3)};return e.jsxs("div",{style:{display:"flex",borderWidth:1,borderColor:"#b9b9b9"},className:"ref-link",children:[e.jsx("h2",{className:"text-gray-300 text-xl overflow-hidden aff-link",children:a}),e.jsx(Cs,{text:a,onCopy:l,children:n?e.jsx(hs,{className:"text-green-400 cursor-pointer"}):e.jsx(xs,{className:"text-gray-700 cursor-pointer"})})]})}const T=()=>{const t=v(Ee);let s=!1,a="user";if(t){const r=ks(t),{username:n,roles:o,wallet:l,email:x}=r.userInfo;return s=o.includes("admin"),s&&(a="admin"),{username:n,roles:o,wallet:l,email:x,isAdmin:s,status:a}}return{username:"",roles:[],wallet:"",email:"",isAdmin:s,status:a}};function Ks(){const s={...T(),dashTip:"Admin Dashboard"};return e.jsxs("div",{className:"profile-header",children:[e.jsx(Fe,{username:s.username,dashTip:s.dashTip}),e.jsx(Be,{username:s.username}),e.jsx(qe,{username:s.username})]})}function Vs(){return e.jsxs("div",{className:"content-container",children:[e.jsx(Ks,{}),e.jsx("div",{className:"outlet-wrapper",children:e.jsx(C,{})})]})}const Ys=N.injectEndpoints({endpoints:t=>({addNewUser:t.mutation({query:s=>({url:"auth/signup",method:"POST",body:s}),invalidatesTags:[{type:"User",id:"LIST"}]}),login:t.mutation({query:s=>({url:"auth",method:"POST",body:s})}),sendLogout:t.mutation({query:()=>({url:"auth/logout",method:"POST"}),async onQueryStarted(s,a){try{await a.queryFulfilled,a.dispatch(Bs({})),setTimeout(()=>{a.dispatch(N.util.resetApiState())},1e3)}catch(r){console.error(r)}}}),refresh:t.mutation({query:()=>({url:"auth/refresh",method:"GET"}),async onQueryStarted(s,{dispatch:a,queryFulfilled:r}){try{const{data:n}=await r,{accessToken:o}=n;a(se({accessToken:o}))}catch(n){console.error(n)}}})})}),{useAddNewUserMutation:ka,useLoginMutation:Js,useRefreshMutation:Xs,useSendLogoutMutation:Me}=Ys,Oe=i.createContext(void 0);function Zs({children:t}){const{username:s,email:a}=T(),[r,n]=i.useState(!0),[o]=Me(),l=Z(),x=s==null?void 0:s.substring(0,2).toLocaleUpperCase();return e.jsx("aside",{className:"h-screen",children:e.jsxs("nav",{className:"h-full flex flex-col border-r shadow-sm",children:[e.jsxs("div",{className:"p-4 pb-2 flex justify-between items-center",children:[e.jsx("img",{src:"/images/gtx-stream-logo1.png",className:`overflow-hidden transition-all ${r?"w-32":"w-0"}`,alt:""}),e.jsx("button",{onClick:()=>{n(u=>!u)},className:"p-1.5 rounded-lg bg-gray-50 hover:bg-gray-100",children:r?e.jsx(ke,{color:"black"}):e.jsx(we,{color:"#000"})})]}),e.jsx(Oe.Provider,{value:{expanded:r},children:e.jsx("ul",{className:"flex-1 px-3",children:t})}),e.jsxs("div",{className:"border-t flex p-3 sidebar-userinfo",children:[e.jsx($e,{initials:x,borderRadius:8,width:50,height:50}),e.jsxs("div",{className:`
              flex justify-between items-center
              overflow-hidden transition-all ${r?"w-52 ml-3":"w-0"}
          `,children:[e.jsxs("div",{className:"leading-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-600",children:[" ",s," "]}),e.jsxs("span",{className:"text-xs text-gray-600",children:[" ",a," "]})]}),e.jsx(Ne,{className:"text-gray-900 cursor-pointer",onClick:async u=>{await o(null),l("/admin")}})]})]})]})})}function P({icon:t,label:s,active:a,alert:r,link:n}){const{expanded:o}=i.useContext(Oe);return e.jsx(S,{to:n,children:e.jsxs("li",{className:`
		  relative flex items-center py-2 px-3 my-1
		  font-medium rounded-md cursor-pointer
		  transition-colors group
		  ${a?"bg-gradient-to-tr from-sky-200 to-sky-100 text-sky-700":"hover:bg-indigo-50 text-gray-900"}
	  `,children:[t,e.jsx("span",{className:`overflow-hidden transition-all ${o?"w-52 ml-3":"w-0"}`,children:s}),r&&e.jsx("div",{className:`absolute right-2 w-2 h-2 rounded bg-sky-400 ${o?"":"top-2"}`}),!o&&e.jsx("div",{className:`
			absolute left-full rounded-md px-2 py-1 ml-6
			bg-sky-100 text-sky-800 text-sm
			invisible opacity-20 -translate-x-3 transition-all
			group-hover:visible group-hover:opacity-100 group-hover:translate-x-0
		`,children:s})]})})}function et(){const t=ee();return e.jsx("div",{className:"sidebar",children:e.jsxs(Zs,{children:[e.jsx(P,{icon:e.jsx(Re,{}),label:"Dashboard",active:t.pathname==="/admindash",link:"/admindash"}),e.jsx(P,{icon:e.jsx(Ae,{}),label:"Users",active:t.pathname==="/admindash/users",link:"/admindash/users"}),e.jsx(P,{icon:e.jsx(fs,{}),label:"Affiliates",active:t.pathname==="/admindash/affiliates",link:"/admindash/affiliates"}),e.jsx(P,{icon:e.jsx(Te,{}),label:"Domains",active:t.pathname==="/admindash/domains",link:"/admindash/domains"}),e.jsx(P,{icon:e.jsx(De,{}),label:"Airdrop",active:t.pathname==="/admindash/users/tasks",link:"/admindash/users/tasks"})]})})}function st(){return e.jsxs("div",{className:"page dash-layout",children:[e.jsx(et,{}),e.jsx(Vs,{})]})}const q=K({}),Q=q.getInitialState(),ae=N.injectEndpoints({endpoints:t=>({getAdminStats:t.query({query:()=>({url:"stats/admin",validateStatus:(s,a)=>s.status===200&&!a.isError}),transformResponse(s,a,r){const n=s.map(o=>(o.id=fe(),o));return q.setAll(Q,n)},forceRefetch({currentArg:s,previousArg:a}){return s!==a}}),getUserStats:t.query({query:s=>({url:`stats/${s}`,validateStatus:(a,r)=>a.status===200&&!r.isError}),transformResponse(s,a,r){const n=s.map(o=>(o.id=fe(),o));return q.setAll(Q,n)},forceRefetch({currentArg:s,previousArg:a}){return s!==a}})})}),{useGetAdminStatsQuery:tt,useGetUserStatsQuery:at}=ae,rt=ae.endpoints.getAdminStats.select(),nt=w(rt,t=>t.data),ot=q.getSelectors(t=>nt(t)??Q);function it({data:t}){return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"text-block",children:[e.jsx("h3",{className:"font-bold text-xl",children:t.label}),e.jsxs("h2",{className:"font-bold text-2xl",children:[" ",t.value," "]})]}),e.jsx("div",{className:"icon-block",children:e.jsx("box-icon",{size:"lg",type:t.icon==="globe"?"regular":"solid",name:t.icon,color:"rgba(44, 41, 65, 0.5)"})})]})}function lt(){const{isSuccess:t}=tt(),s=v(ot.selectAll);let a=[];return t&&(a=[{id:1,label:"Total Signups",value:s[0].totalusers,iconType:"user",icon:"group"},{id:2,label:"Total Domains",value:s[0].totalDomains,iconType:"domain",icon:"diamond"},{id:3,label:"Signups Today",value:s[0].todayUsers,iconType:"user",icon:"group"},{id:4,label:"Domains Today",value:s[0].todayDomains,iconType:"domain",icon:"diamond"}]),e.jsx("div",{className:"stat-block",children:a.map((r,n)=>e.jsx(it,{data:r},r.id))})}const F=K({}),z=F.getInitialState(),Y=N.injectEndpoints({endpoints:t=>({getUsers:t.query({query:()=>({url:"users",validateStatus:(s,a)=>s.status===200&&!a.isError}),transformResponse(s,a,r){const n=s.map(o=>(o.id=o._id,o));return F.setAll(z,n)},providesTags(s,a,r){return s!=null&&s.ids?[{type:"User",id:"LIST"},...s.ids.map(n=>({type:"User",id:n}))]:[{type:"User",id:"LIST"}]},forceRefetch({currentArg:s,previousArg:a}){return s!==a}}),getUserReferrals:t.query({query:s=>({url:`users/referrals/${s}`,validateStatus:(a,r)=>a.status===200&&!r.isError}),transformResponse(s,a,r){const n=s.map(o=>(o.id=o._id,o));return F.setAll(z,n)},providesTags(s,a,r){return s!=null&&s.ids?[{type:"User",id:"LIST"},...s.ids.map(n=>({type:"User",id:n}))]:[{type:"User",id:"LIST"}]},forceRefetch({currentArg:s,previousArg:a}){return s!==a}}),addNewUser:t.mutation({query:s=>({url:"users",method:"POST",body:s}),invalidatesTags:[{type:"User",id:"LIST"}]}),updateUser:t.mutation({query:({id:s,data:a})=>({url:`users/${s}`,method:"PATCH",body:a}),invalidatesTags:(s,a,r)=>[{type:"User",id:r.id}]}),deleteUser:t.mutation({query:({id:s})=>({url:`/users/${s}`,method:"DELETE",body:s}),invalidatesTags:(s,a,r)=>[{type:"User",id:r.id}]})})}),{useGetUsersQuery:We,useGetUserReferralsQuery:_e,useAddNewUserMutation:wa,useUpdateUserMutation:Ra,useDeleteUserMutation:Aa,usePrefetch:La}=Y,ct=Y.endpoints.getUsers.select(),dt=w(ct,t=>t.data);Y.endpoints.getUserReferrals.select("id");const He=F.getSelectors(t=>dt(t)??z);function ut(){var f;const[t,s]=i.useState([]),[a,r]=i.useState(""),{isLoading:n,isFetching:o,isSuccess:l,isError:x,error:u}=We(),c=v(He.selectAll);let d;return(n||o)&&(d=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(k,{})})),x&&(d=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(f=u==null?void 0:u.data)==null?void 0:f.message} - `,e.jsx(S,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})})),i.useCallback(O(m=>{r(m)}),[]),i.useEffect(()=>{try{const m=c.filter(p=>a.toLowerCase()===""?p:p.username.toLowerCase().includes(a));s(m)}catch(m){console.log(m)}},[a,c]),l&&(d=e.jsxs("div",{className:"dashboard-page",children:[e.jsx(lt,{}),e.jsx(R,{cols:V,data:t})]})),d}const B=K({}),G=B.getInitialState(),re=N.injectEndpoints({endpoints:t=>({getDomains:t.query({query:()=>({url:"domains",validateStatus:(s,a)=>s.status===200&&!a.isError}),transformResponse(s,a,r){const n=s.map(o=>(o.id=o._id,o));return B.setAll(G,n)},providesTags(s,a,r){return s!=null&&s.ids?[{type:"Domain",id:"LIST"},...s.ids.map(n=>({type:"Domain",id:n}))]:[{type:"Domain",id:"LIST"}]},forceRefetch({currentArg:s,previousArg:a}){return s!==a}}),getUserDomains:t.query({query:s=>({url:`domains/${s}`,validateStatus:(a,r)=>a.status===200&&!r.isError}),transformResponse(s,a,r){const n=s.map(o=>(o.id=o._id,o));return B.setAll(G,n)},providesTags(s,a,r){return s!=null&&s.ids?[{type:"Domain",id:"LIST"},...s.ids.map(n=>({type:"Domain",id:n}))]:[{type:"Domain",id:"LIST"}]},forceRefetch({currentArg:s,previousArg:a}){return s!==a}})})}),{useGetDomainsQuery:mt,useGetUserDomainsQuery:ht}=re,xt=re.endpoints.getDomains.select(),ft=w(xt,t=>t.data),pt=B.getSelectors(t=>ft(t)??G);function gt(){var m;const[t,s]=i.useState([]),[a,r]=i.useState(""),{isLoading:n,isFetching:o,isSuccess:l,isError:x,error:u}=mt(),c=v(pt.selectAll);let d;(n||o)&&(d=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(k,{})})),x&&(d=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(m=u==null?void 0:u.data)==null?void 0:m.message} - `,e.jsx(S,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}));const f=i.useCallback(Ce(p=>{r(p)}),[]);return i.useEffect(()=>{try{const p=c.filter(h=>a.toLowerCase()===""?h:h.username.toLowerCase().includes(a));s(p)}catch(p){console.log(p)}},[a,c]),l&&(d=e.jsxs("div",{className:"domainslist-page",style:{display:"flex",flexDirection:"column",gap:50,marginTop:80},children:[e.jsx(M,{changeHandler:f,label:"Search domains by owner"}),e.jsx(R,{cols:Le,data:t})]})),d}function ge(){return e.jsx("div",{children:"EditDomain"})}const jt=()=>e.jsxs("div",{children:[e.jsx("h3",{children:"Error 404 - Page Not Found"}),e.jsx("p",{children:"The page you are trying to access does not exist."}),e.jsx("p",{className:"errmsg",children:e.jsx(S,{style:{fontWeight:"bold",textAlign:"right"},to:"/",children:"You can login here"})})]});function yt(t,s,a){const[r,n]=i.useState(()=>{const o=localStorage.getItem(s);if(o===null)return t;try{const l=JSON.parse(o);return a?a(l):l}catch{return console.error("error parsing saved state from useStickyState"),t}});return i.useEffect(()=>{localStorage.setItem(s,JSON.stringify(r))},[s,r]),[r,n]}function bt(){var m;const[t]=yt("true","persit"),s=v(Ee),a=i.useRef(!1),[r,n]=i.useState(!1),[o,{isUninitialized:l,isLoading:x,isSuccess:u,isError:c,error:d}]=Xs();i.useEffect(()=>(a.current&&!s&&t&&(async()=>{try{await o(),n(!0)}catch{}})().then(h=>{console.log(h)}).catch(h=>{console.log(h)}),()=>{a.current=!0}),[]);let f;return t?x?f=e.jsxs("div",{className:"loading-state",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsx("p",{children:"Contacting backend"}),e.jsx(X,{sx:{width:"100%"},children:e.jsx(ps,{})})]}):c?f=e.jsx("div",{className:"err-cta",children:e.jsxs("p",{className:"errmsg",children:[`${(m=d==null?void 0:d.data)==null?void 0:m.message} - `,e.jsx(S,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}):u&&r?f=e.jsx(C,{}):s&&l&&(f=e.jsx(C,{})):f=e.jsx(C,{}),f}function je({permitedRoles:t}){const s=ee(),{username:a,roles:r}=T();let n;return a||(n=e.jsx(xe,{to:"/",state:{from:s},replace:!0})),(r==null?void 0:r.some(l=>t.includes(l)))?n=e.jsx(C,{}):n=e.jsx(xe,{to:"/",state:{from:s},replace:!0}),n}function Qe(t,s){t.innerHTML=s,Array.from(t.querySelectorAll("script")).forEach(a=>{const r=document.createElement("script");Array.from(a.attributes).forEach(n=>{r.setAttribute(n.name,n.value)}),r.appendChild(document.createTextNode(a.innerHTML)),a.parentNode.replaceChild(r,a)})}const ze='<a class="e-widget no-button" href="https://gleam.io/S7oyH/gravityx-airdrop" rel="nofollow">GravityX Airdrop</a><script type="text/javascript" src="https://widget.gleamjs.io/e.js" async="true"><\/script>';function vt(){return i.useEffect(()=>{Qe(document.querySelector("#gleam_competition"),ze)},[]),e.jsx("div",{className:"task-page",children:e.jsx("div",{id:"gleam_competition"})})}function St(){const s={...T(),dashTip:"Explore your Dashboard"};return e.jsxs("div",{className:"profile-header",children:[e.jsx(Fe,{username:s.username,dashTip:s.dashTip}),e.jsx(Be,{username:s.username}),e.jsx(qe,{username:s.username})]})}function Nt(){return e.jsxs("div",{className:"content-container",children:[e.jsx(St,{}),e.jsx("div",{className:"outlet-wrapper",children:e.jsx(C,{})})]})}function Tt({initials:t,borderRadius:s=60,width:a=60,height:r=60}){return e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",background:"#141441",borderRadius:s,width:a,height:r},children:e.jsxs("h4",{className:"text-white font-bold",children:[" ",t," "]})})}const Ge=i.createContext(void 0);function Dt({children:t}){const[s,a]=i.useState(!0),{username:r,email:n}=T(),[o]=Me(),l=Z(),x=r==null?void 0:r.substring(0,2).toLocaleUpperCase();return e.jsx("aside",{className:"h-screen",children:e.jsxs("nav",{className:"h-full flex flex-col  border-r shadow-sm sidebar-style",children:[e.jsxs("div",{className:"p-4 pb-2 flex justify-between items-center",children:[e.jsx("img",{src:"/images/gtx-stream-logo1.png",className:`overflow-hidden transition-all ${s?"w-32":"w-0"}`,alt:""}),e.jsx("button",{onClick:()=>{a(u=>!u)},className:"p-1.5 rounded-lg bg-gray-50 hover:bg-gray-100",children:s?e.jsx(ke,{color:"black"}):e.jsx(we,{color:"#000"})})]}),e.jsx(Ge.Provider,{value:{expanded:s},children:e.jsx("ul",{className:"flex-1 px-3",children:t})}),e.jsxs("div",{className:"border-t border-b flex p-3 sidebar-userinfo",children:[e.jsx(Tt,{initials:x,borderRadius:8,width:50,height:50}),e.jsxs("div",{className:`
              flex justify-between items-center
              overflow-hidden transition-all ${s?"w-52 ml-3":"w-0"}
          `,children:[e.jsxs("div",{className:"leading-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-600",children:[" ",r," "]}),e.jsxs("span",{className:"text-xs text-gray-600",children:[" ",n," "]})]}),e.jsx(Ne,{className:"text-gray-900 cursor-pointer",onClick:async u=>{await o(null),l("/")}})]})]})]})})}function _({icon:t,label:s,active:a,alert:r,link:n}){const{expanded:o}=i.useContext(Ge);return e.jsx(S,{to:n,children:e.jsxs("li",{className:`
		  relative flex items-center py-2 px-3 my-1
		  font-medium rounded-md cursor-pointer
		  transition-colors group
		  ${a?"bg-gradient-to-tr from-sky-200 to-sky-100 text-sky-700":"hover:bg-indigo-50 text-gray-900"}
	  `,children:[t,e.jsx("span",{className:`overflow-hidden transition-all ${o?"w-52 ml-3":"w-0"}`,children:s}),r&&e.jsx("div",{className:`absolute right-2 w-2 h-2 rounded bg-sky-400 ${o?"":"top-2"}`}),!o&&e.jsx("div",{className:`
			absolute left-full rounded-md px-2 py-1 ml-6
			bg-sky-100 text-sky-800 text-sm
			invisible opacity-20 -translate-x-3 transition-all
			group-hover:visible group-hover:opacity-100 group-hover:translate-x-0
		`,children:s})]})})}function Ct(){const t=ee();return e.jsx("div",{className:"sidebar",children:e.jsxs(Dt,{children:[e.jsx(_,{icon:e.jsx(Re,{}),label:"Dashboard",active:t.pathname==="/dash",link:"/dash"}),e.jsx(_,{icon:e.jsx(Ae,{}),label:"Referrals",active:t.pathname==="/dash/users",link:"/dash/users"}),e.jsx(_,{icon:e.jsx(Te,{}),label:"Domains",active:t.pathname==="/dash/domains",link:"/dash/domains"}),e.jsx(_,{icon:e.jsx(De,{}),label:"Airdrop",active:t.pathname==="/dash/users/tasks",link:"/dash/users/tasks"})]})})}function kt(){return e.jsxs("div",{className:"page dash-layout",children:[e.jsx(Ct,{}),e.jsx(Nt,{})]})}function wt({data:t}){return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"text-block",children:[e.jsx("h3",{className:"font-bold text-xl",children:t.label}),e.jsxs("h2",{className:"font-bold text-2xl",children:[" ",t.value," "]})]}),e.jsx("div",{className:"icon-block",children:e.jsx("box-icon",{size:"lg",type:t.icon==="globe"?"regular":"solid",name:t.icon,color:"rgba(44, 41, 65, 0.5)"})})]})}function Rt(t){return i.useMemo(()=>{const s=ae.endpoints.getUserStats.select(t),a=w([s],r=>r.data);return q.getSelectors(r=>a(r)??Q)},[t])}function At(){const t=T(),{isSuccess:s}=at(t.username),a=Rt(t.username),r=v(a.selectAll);let n=[];return s&&(n=[{id:1,label:"Total Signups",value:r[0].totalusers,iconType:"user",icon:"group"},{id:2,label:"Total Points",value:r[0].totalusers,iconType:"user",icon:"award"},{id:3,label:"Total Domains",value:r[0].totalDomains,iconType:"domain",icon:"diamond"},{id:4,label:"Signups Today",value:r[0].todayUsers,iconType:"user",icon:"group"},{id:5,label:"Domains Today",value:r[0].todayDomains,iconType:"domain",icon:"diamond"}]),e.jsx("div",{className:"stat-block",children:n.map((o,l)=>e.jsx(wt,{data:o},o.id))})}function Ke(t){return i.useMemo(()=>{const s=Y.endpoints.getUserReferrals.select(t),a=w([s],r=>r.data);return F.getSelectors(r=>a(r)??z)},[t])}function Lt(){var p;const[t,s]=i.useState([]),[a,r]=i.useState(""),n=T(),{isLoading:o,isFetching:l,isSuccess:x,isError:u,error:c}=_e(n.username),d=Ke(n.username),f=v(d.selectAll);let m;return(o||l)&&(m=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(k,{})})),u&&(m=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(p=c==null?void 0:c.data)==null?void 0:p.message} - `,e.jsx(S,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})})),i.useCallback(O(h=>{r(h)}),[]),i.useEffect(()=>{try{if(x){const h=f.filter(g=>a.toLowerCase()===""?g:g.username.toLowerCase().includes(a));s(h)}}catch(h){console.log(h)}},[a,f]),x&&(m=e.jsxs("div",{className:"dashboard-page",children:[e.jsx(At,{}),e.jsx(R,{cols:V,data:t})]})),m}function Ut(t){return i.useMemo(()=>{const s=re.endpoints.getUserDomains.select(t),a=w([s],r=>r.data);return B.getSelectors(r=>a(r)??G)},[t])}function Et(){var h;const[t,s]=i.useState([]),[a,r]=i.useState(""),n=T(),{isLoading:o,isFetching:l,isSuccess:x,isError:u,error:c}=ht(n.username),d=Ut(n.username),f=v(d.selectAll);let m;(o||l)&&(m=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(k,{})})),u&&(m=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(h=c==null?void 0:c.data)==null?void 0:h.message} - `,e.jsx(S,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}));const p=i.useCallback(Ce(g=>{r(g)}),[]);return i.useEffect(()=>{try{const g=f.filter(b=>a.toLowerCase()===""?b:b.name.toLowerCase().includes(a));s(g)}catch(g){console.log(g)}},[a,f]),x&&(m=e.jsxs("div",{className:"domainslist-page",style:{display:"flex",flexDirection:"column",gap:50,marginTop:80},children:[e.jsx(M,{changeHandler:p,label:"Search domains by name"}),e.jsx(R,{cols:Le,data:t})]})),m}const Ua=y.object({firstName:y.string().min(2,{message:"Requires atleast 2 characters"}),lastName:y.string().min(2,{message:"Requires atleast 2 characters 1"}),username:y.string().min(3,{message:"Requires atleast 3 characters"}),password:y.string().min(8,{message:"Requires at least 8 characters"}),email:y.string().email({message:"Invalid email addreess"}),wallet:y.string().regex(/^0x/,"Invalid Wallet address - use a polygon chain address").min(10,{message:"A valid wallet address is required"}).optional(),referrerUsername:y.string().min(3,{message:"Referrer username is Required"}),terms:y.boolean()}).superRefine(({terms:t},s)=>{t||s.addIssue({code:y.ZodIssueCode.custom,message:"You must accept the terms to proceed",path:["terms"]})}),It=y.object({username:y.string().min(3,{message:"Requires atleast 3 characters"}),password:y.string().min(8,{message:"Requires at least 8 characters"})});y.object({referrerUsername:y.string().min(3,{message:"A valid referral username is required !"}),wallet:y.string().min(8,{message:"A valid wallet address is required !"}).optional()});const Pt=t=>gs({palette:{mode:t.palette.mode},components:{MuiTextField:{styleOverrides:{root:{"--TextField-brandBorderColor":"#E0E3E7","--TextField-brandBorderHoverColor":"#B2BAC2","--TextField-brandBorderFocusedColor":"#6F7E8C","& label.Mui-focused":{color:I[500]}}}},MuiOutlinedInput:{styleOverrides:{notchedOutline:{borderColor:I[100]},root:{[`&:hover .${de.notchedOutline}`]:{borderColor:I[300]},[`&.Mui-focused .${de.notchedOutline}`]:{borderColor:I[200]}}}},MuiFilledInput:{styleOverrides:{root:{"&::before, &::after":{borderBottom:`2px solid ${I[500]}`},"&:hover:not(.Mui-disabled, .Mui-error):before":{borderBottom:"2px solid var(--TextField-brandBorderHoverColor)"},"&.Mui-focused:after":{borderBottom:"2px solid var(--TextField-brandBorderFocusedColor)"},"&.MuiFilledInput-root":{background:"#fff"}}}}}});function $t(){var A,ne;const t=ve(),s=Z(),a=Xe(),[r,{isLoading:n,isSuccess:o,isError:l,error:x}]=Js(),{register:u,handleSubmit:c,control:d,reset:f,setError:m,formState:{isSubmitting:p,isSubmitSuccessful:h,errors:g}}=ws({mode:"all",resolver:Rs(It),defaultValues:{username:"",password:""}});i.useEffect(()=>{o&&s("/dash",{replace:!0})},[o,s]);const b=i.useCallback(async U=>{try{const{accessToken:D}=await r(U).unwrap();a(se({accessToken:D}))}catch(D){(D==null?void 0:D.status)==="FETCH_ERROR"&&m("root.serverError",{type:"server",message:"Network or internet Error"})}},[]);return e.jsxs("div",{children:[e.jsxs("div",{className:"title-wrapper w-full flex justify-between items-center mb-8 ",children:[e.jsx("img",{src:"/images/gtx-stream-logo1.png",className:"w-32",alt:""}),e.jsx("h2",{className:"text-2xl font-bold text-center",children:"Login"})]}),e.jsx(js,{theme:Pt(t),children:e.jsx("form",{onSubmit:c(b),children:e.jsxs(X,{component:"div",sx:{p:"2px 4px",display:"flex",flexDirection:"column",alignItems:"center",gap:2,width:350,boxShadow:0},children:[e.jsx(pe,{name:"username",control:d,render:({field:U,fieldState:{error:D},formState:Ye})=>{var E;return e.jsx(ue,{id:"username",label:"Username",variant:"filled",type:"text",error:!!g.username,helperText:(E=g.username)==null?void 0:E.message,...U,fullWidth:!0,InputProps:{startAdornment:e.jsx(me,{position:"start",children:e.jsx(he,{})})}})}}),e.jsx(pe,{name:"password",control:d,render:({field:U,fieldState:{error:D},formState:Ye})=>{var E;return e.jsx(ue,{id:"password",label:"Password",variant:"filled",type:"text",error:!!g.password,helperText:(E=g.password)==null?void 0:E.message,...U,fullWidth:!0,InputProps:{startAdornment:e.jsx(me,{position:"start",children:e.jsx(he,{})})}})}}),e.jsx(ys,{type:"submit",variant:"contained",className:"btn",children:"Submit"}),e.jsx("div",{children:e.jsx("p",{style:{fontWeight:"bold"},children:(ne=(A=g.root)==null?void 0:A.serverError)==null?void 0:ne.message})})]})})})]})}function qt(){return e.jsx("div",{className:"signup-page",children:e.jsx("div",{className:"form-wrapper",children:e.jsx($t,{})})})}function Ft(){var h;const[t,s]=i.useState([]),[a,r]=i.useState(""),n=T(),{isLoading:o,isFetching:l,isSuccess:x,isError:u,error:c}=_e(n.username),d=Ke(n.username),f=v(d.selectAll);let m;(o||l)&&(m=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(k,{})})),u&&(m=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(h=c==null?void 0:c.data)==null?void 0:h.message} - `,e.jsx(S,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}));const p=i.useCallback(O(g=>{r(g)}),[]);return i.useEffect(()=>{try{if(x){const g=f.filter(b=>a.toLowerCase()===""?b:b.username.toLowerCase().includes(a));s(g)}}catch(g){console.log(g)}},[a,f]),x&&(m=e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80},children:[e.jsx(M,{changeHandler:p,label:"Search by username"}),e.jsx(R,{cols:V,data:t})]})),m}function Bt(){return i.useEffect(()=>{Qe(document.querySelector("#gleam_competition"),ze)},[]),e.jsx("div",{className:"task-page",children:e.jsx("div",{id:"gleam_competition"})})}function Mt(){var m;const[t,s]=i.useState([]),[a,r]=i.useState(""),{isLoading:n,isFetching:o,isSuccess:l,isError:x,error:u}=We(),c=v(He.selectAll);let d;(n||o)&&(d=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(k,{})})),x&&(d=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(m=u==null?void 0:u.data)==null?void 0:m.message} - `,e.jsx(S,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}));const f=i.useCallback(O(p=>{r(p)}),[]);return i.useEffect(()=>{try{const p=c.filter(h=>a.toLowerCase()===""?h:h.username.toLowerCase().includes(a));s(p)}catch(p){console.log(p)}},[a,c]),l&&(d=e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80},children:[e.jsx(M,{changeHandler:f,label:"Search users"}),e.jsx(R,{cols:V,data:t})]})),d}const ye={user:"user",manager:"manager",admin:"admin"},Ot=i.lazy(async()=>be(()=>import("./SignupPage-m7zmK-40.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49]))),Wt=i.lazy(async()=>be(()=>import("./LoginPage-bpnDjdJg.js"),__vite__mapDeps([50,1,2,25,26,34,35,27,28,29,30,31,32,21,22,33,23,24,5,6,7,8,9,20,36,37,38,39,40,41,42,43,44,45,46,47,13,48,51]))),_t=ss(Ds(e.jsxs(j,{path:"/",element:e.jsx(Gs,{}),errorElement:e.jsx(jt,{}),children:[e.jsx(j,{index:!0,element:e.jsx(qt,{})}),e.jsx(j,{path:"signup",element:e.jsx(Ot,{})}),e.jsx(j,{path:"admin",element:e.jsx(Wt,{})}),e.jsxs(j,{element:e.jsx(bt,{}),children:[e.jsx(j,{element:e.jsx(je,{permitedRoles:[ye.admin]}),children:e.jsxs(j,{path:"admindash",element:e.jsx(st,{}),children:[e.jsx(j,{index:!0,element:e.jsx(ut,{})}),e.jsxs(j,{path:"users",children:[e.jsx(j,{index:!0,element:e.jsx(Mt,{})}),e.jsx(j,{path:"tasks",element:e.jsx(vt,{})})]}),e.jsx(j,{path:"affiliates",children:e.jsx(j,{index:!0,element:e.jsx(zs,{})})}),e.jsxs(j,{path:"domains",children:[e.jsx(j,{index:!0,element:e.jsx(gt,{})}),e.jsx(j,{path:":id",element:e.jsx(ge,{})})]})]})}),e.jsx(j,{element:e.jsx(je,{permitedRoles:[ye.user]}),children:e.jsxs(j,{path:"dash",element:e.jsx(kt,{}),children:[e.jsx(j,{index:!0,element:e.jsx(Lt,{})}),e.jsxs(j,{path:"users",children:[e.jsx(j,{index:!0,element:e.jsx(Ft,{})}),e.jsx(j,{path:"tasks",element:e.jsx(Bt,{})})]}),e.jsxs(j,{path:"domains",children:[e.jsx(j,{index:!0,element:e.jsx(Et,{})}),e.jsx(j,{path:":id",element:e.jsx(ge,{})})]})]})})]})]}))),Ve=Ns({reducer:{[N.reducerPath]:N.reducer,auth:Ms},middleware:t=>t().concat(N.middleware),devTools:!0});Ts(Ve.dispatch);As();es.createRoot(document.getElementById("root")).render(e.jsx(Je.StrictMode,{children:e.jsx(Ze,{store:Ve,children:e.jsx(ts,{router:_t})})}));export{Js as a,se as b,Pt as c,It as l,Ua as s,ka as u};
