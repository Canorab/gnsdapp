import{r as l,j as r}from"./react-eX7k_oyb.js";import{u as S,C as c}from"./react-hook-form-BVuS_7ec.js";import{a as E,b as y,c as N,l as T}from"./index-DrtAu2Rp.js";import{t as B}from"./@hookform-B4uZ5eeB.js";import{u as C}from"./react-redux-B2ydUXa7.js";import{u as L,w as P,B as k,x as d,y as u,z as x,E as F}from"./@mui-lUZ81DNL.js";import{c as I}from"./react-router-zaz7yv4n.js";import"./@babel-BTUyE5mg.js";import"./react-dom-BE5TJDhq.js";import"./scheduler-CzFDRTuY.js";import"./@wagmi-BaiSEwY6.js";import"./zustand-DpAk_q0W.js";import"./viem-QjkCSC18.js";import"./eventemitter3-B2QLvKQr.js";import"./mipd-CIcDX0W7.js";import"./react-router-dom-DIdm3YiL.js";import"./@remix-run-CAT8zpu_.js";import"./@reduxjs-9R9LrHOH.js";import"./redux-DITMfSWq.js";import"./immer-BkdjC0q7.js";import"./reselect-BEFkisvr.js";import"./redux-thunk-ClJT1hhx.js";import"./react-copy-to-clipboard-CVAzxf6m.js";import"./copy-to-clipboard-BvYTofsP.js";import"./toggle-selection-BHUZwh74.js";import"./jwt-decode-VWaDGczM.js";import"./lucide-react-DofsI3O2.js";import"./uuid-D8aEg3BZ.js";import"./boxicons-DYxgBJvX.js";import"./zod-dIKOytT1.js";import"./@fvilers-C36Jf4Wd.js";import"./use-sync-external-store-o46NS6CO.js";import"./clsx-B-dksMZM.js";import"./@emotion-CTR4nhAa.js";import"./hoist-non-react-statics-Buxaj0Kl.js";import"./react-is-8JwjhRSi.js";import"./stylis-NkKAe6Bn.js";import"./react-transition-group-BwIbI4gd.js";function R(){var n,p;const f=L(),i=I(),h=C(),[g,{isLoading:A,isSuccess:a,isError:W,error:D}]=E(),{register:O,handleSubmit:j,control:m,reset:z,setError:b,formState:{isSubmitting:H,isSubmitSuccessful:M,errors:t}}=S({mode:"all",resolver:B(T),defaultValues:{username:"",password:""}});l.useEffect(()=>{a&&i("/admindash",{replace:!0})},[a,i]);const w=l.useCallback(async s=>{try{const{accessToken:e}=await g(s).unwrap();h(y({accessToken:e}))}catch(e){(e==null?void 0:e.status)==="FETCH_ERROR"&&b("root.serverError",{type:"server",message:"Network or internet Error"})}},[]);return r.jsxs("div",{children:[r.jsxs("div",{className:"title-wrapper w-full flex justify-between items-center mb-8 ",children:[r.jsx("img",{src:"/images/gtx-stream-logo1.png",className:"w-32",alt:""}),r.jsx("h2",{className:"text-2xl font-bold text-center",children:"Login"})]}),r.jsx(P,{theme:N(f),children:r.jsx("form",{onSubmit:j(w),children:r.jsxs(k,{component:"div",sx:{p:"2px 4px",display:"flex",flexDirection:"column",alignItems:"center",gap:2,width:350,boxShadow:0},children:[r.jsx(c,{name:"username",control:m,render:({field:s,fieldState:{error:e},formState:v})=>{var o;return r.jsx(d,{id:"username",label:"Username",variant:"filled",type:"text",error:!!t.username,helperText:(o=t.username)==null?void 0:o.message,...s,fullWidth:!0,InputProps:{startAdornment:r.jsx(u,{position:"start",children:r.jsx(x,{})})}})}}),r.jsx(c,{name:"password",control:m,render:({field:s,fieldState:{error:e},formState:v})=>{var o;return r.jsx(d,{id:"password",label:"Password",variant:"filled",type:"text",error:!!t.password,helperText:(o=t.password)==null?void 0:o.message,...s,fullWidth:!0,InputProps:{startAdornment:r.jsx(u,{position:"start",children:r.jsx(x,{})})}})}}),r.jsx(F,{type:"submit",variant:"contained",className:"btn",children:"Submit"}),r.jsx("div",{children:r.jsx("p",{style:{fontWeight:"bold"},children:(p=(n=t.root)==null?void 0:n.serverError)==null?void 0:p.message})})]})})})]})}function Tr(){return r.jsx("div",{className:"signup-page",children:r.jsx("div",{className:"form-wrapper",children:r.jsx(R,{})})})}export{Tr as default};
