function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/SignupPage-DzvM9ccX.js","assets/react-eX7k_oyb.js","assets/@babel-BTUyE5mg.js","assets/@web3modal-BnXlkWgH.js","assets/bignumber.js-DOH-f-tm.js","assets/@wagmi-Cwopbt2N.js","assets/zustand-BxVvYF66.js","assets/viem-DO_zHWKk.js","assets/eventemitter3-B2QLvKQr.js","assets/mipd-CIcDX0W7.js","assets/buffer-EBb79ogF.js","assets/base64-js-D0UyVEDn.js","assets/ieee754-DSYfm7We.js","assets/zod-dIKOytT1.js","assets/valtio-D-UtsqsE.js","assets/proxy-compare-DDw08AJZ.js","assets/dayjs-D3dD73DO.js","assets/qrcode-CGiDONbL.js","assets/encode-utf8-Cn5aGd7v.js","assets/dijkstrajs-D_NXgYpA.js","assets/react-router-dom-DIdm3YiL.js","assets/react-dom-BE5TJDhq.js","assets/scheduler-CzFDRTuY.js","assets/react-router-zaz7yv4n.js","assets/@remix-run-CAT8zpu_.js","assets/react-hook-form-BVuS_7ec.js","assets/@hookform-B4uZ5eeB.js","assets/@mui-B-lH2raD.js","assets/clsx-B-dksMZM.js","assets/@emotion-CTR4nhAa.js","assets/hoist-non-react-statics-Buxaj0Kl.js","assets/react-is-8JwjhRSi.js","assets/stylis-NkKAe6Bn.js","assets/react-transition-group-BwIbI4gd.js","assets/react-redux-B2ydUXa7.js","assets/use-sync-external-store-o46NS6CO.js","assets/@reduxjs-9R9LrHOH.js","assets/redux-DITMfSWq.js","assets/immer-BkdjC0q7.js","assets/reselect-BEFkisvr.js","assets/redux-thunk-ClJT1hhx.js","assets/react-copy-to-clipboard-CVAzxf6m.js","assets/copy-to-clipboard-BvYTofsP.js","assets/toggle-selection-BHUZwh74.js","assets/jwt-decode-VWaDGczM.js","assets/lucide-react-DofsI3O2.js","assets/uuid-D8aEg3BZ.js","assets/boxicons-DYxgBJvX.js","assets/@fvilers-C36Jf4Wd.js","assets/SignupPage-vVReXN0Y.css","assets/LoginPage-B-rzPg-x.js","assets/LoginPage-BoRWdJUY.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{j as e,r as c,a as Ye}from"./react-eX7k_oyb.js";import{a as S,u as Je,P as Xe}from"./react-redux-B2ydUXa7.js";import{c as Ze}from"./react-dom-BE5TJDhq.js";import{_ as ye}from"./@wagmi-Cwopbt2N.js";import{L as T,c as es,R as ss}from"./react-router-dom-DIdm3YiL.js";import{T as ts,a as Q,b as F,c as as,u as be,B as X,I as A,d as ie,e as oe,f as le,g as ce,h as rs,P as ve,i as ns,j as is,k as os,l as ls,m as cs,D as ds,S as us,C as w,n as ms,o as hs,L as Se,A as fs,p as Te,R as De,q as Ne,r as xs,s as ps,t as $,v as de,w as gs,x as ue,y as me,z as js,E as ys,F as bs}from"./@mui-B-lH2raD.js";import{c as vs,f as Ss,a as Ts,b as K,d as Ds,s as Ns}from"./@reduxjs-9R9LrHOH.js";import{a as R}from"./reselect-BEFkisvr.js";import{O as k,c as Z,b as ee,f as he,g as Cs,h as j}from"./react-router-zaz7yv4n.js";import{C as ks}from"./react-copy-to-clipboard-CVAzxf6m.js";import{j as ws}from"./jwt-decode-VWaDGczM.js";import{C as Ce,a as ke,H as we,U as Re}from"./lucide-react-DofsI3O2.js";import{v as fe}from"./uuid-D8aEg3BZ.js";import"./boxicons-DYxgBJvX.js";import{u as Rs,C as xe}from"./react-hook-form-BVuS_7ec.js";import{z as b}from"./zod-dIKOytT1.js";import{t as Ls}from"./@hookform-B4uZ5eeB.js";import{d as As}from"./@fvilers-C36Jf4Wd.js";import"./@babel-BTUyE5mg.js";import"./use-sync-external-store-o46NS6CO.js";import"./scheduler-CzFDRTuY.js";import"./zustand-BxVvYF66.js";import"./viem-DO_zHWKk.js";import"./eventemitter3-B2QLvKQr.js";import"./mipd-CIcDX0W7.js";import"./@remix-run-CAT8zpu_.js";import"./clsx-B-dksMZM.js";import"./@emotion-CTR4nhAa.js";import"./hoist-non-react-statics-Buxaj0Kl.js";import"./react-is-8JwjhRSi.js";import"./stylis-NkKAe6Bn.js";import"./react-transition-group-BwIbI4gd.js";import"./redux-DITMfSWq.js";import"./immer-BkdjC0q7.js";import"./redux-thunk-ClJT1hhx.js";import"./copy-to-clipboard-BvYTofsP.js";import"./toggle-selection-BHUZwh74.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();function Us({cols:t,sortHandler:s,sortDirection:a}){return e.jsx(ts,{sx:{"& th":{fontWeight:"bold",fontSize:"0.9rem",background:"rgba(255, 255, 255, 0.3)",color:"#272833"}},children:e.jsx(Q,{children:t.map(r=>r.accessorkey==="createdDate"?e.jsx(F,{onClick:()=>{s()},children:e.jsx(as,{active:!0,direction:a,children:r.header})},r.accessorkey):e.jsx(F,{align:r.accessorkey==="index"?void 0:"right",children:r.header},r.accessorkey))})})}function Es({count:t,page:s,rowsPerPage:a,onPageChange:r}){const n=be(),i=o=>{r(o,0)},d=o=>{r(o,s-1)},f=o=>{r(o,s+1)},l=o=>{r(o,Math.max(0,Math.ceil(t/a)-1))};return e.jsxs(X,{sx:{flexShrink:0,ml:2.5},children:[e.jsx(A,{onClick:i,disabled:s===0,"aria-label":"first page",children:n.direction==="rtl"?e.jsx(ie,{}):e.jsx(oe,{})}),e.jsx(A,{onClick:d,disabled:s===0,"aria-label":"previous page",children:n.direction==="rtl"?e.jsx(le,{}):e.jsx(ce,{})}),e.jsx(A,{onClick:f,disabled:s>=Math.ceil(t/a)-1,"aria-label":"next page",children:n.direction==="rtl"?e.jsx(ce,{}):e.jsx(le,{})}),e.jsx(A,{onClick:l,disabled:s>=Math.ceil(t/a)-1,"aria-label":"last page",children:n.direction==="rtl"?e.jsx(oe,{}):e.jsx(ie,{})})]})}function Is(t,s){const a=[];for(let r=0;r<t.length;r++){const n=t[r];s.includes(n)&&a.push(n)}return a}const W=t=>new Date(t),$s=t=>new Date(t).toLocaleString("default",{dateStyle:"medium"});function Ps({data:t,cols:s,index:a}){const r=$s(t.createdAt),n={index:a,createdDate:r,...t},i=[],d=Object.keys(n),f=s.map(o=>o.accessorkey);return Is(f,d).map((o,u)=>(i.push(e.jsx(F,{align:o==="index"||o==="createdDate"?"left":"right",className:o==="domainsCount"||o==="referrerUsername"||o==="name"?"highlightedcell":"",children:n[o]},u)),o)),e.jsx(Q,{sx:{"&:last-child td, &:last-child th":{border:0},"& td":{fontSize:"1rem"},"& td.highlightedcell.css-177gid-MuiTableCell-root":{color:" #121213",fontWeight:"bold"}},children:i},t.id)}function qs({data:t,cols:s,page:a,rowsPerPage:r}){const n=a>0?Math.max(0,(1+a)*r-t.length):0;return e.jsxs(rs,{children:[t.length===0&&e.jsx(Q,{children:e.jsx(F,{component:"td",scope:"row",colSpan:8,children:"No record found"})}),(r>0?t.slice(a*r,a*r+r):t).map((i,d)=>e.jsx(Ps,{data:i,cols:s,index:d+1},i.id)),n>0&&e.jsx(Q,{style:{height:53*n},children:e.jsx(F,{colSpan:6})})]})}function L({cols:t,data:s}){const[a,r]=c.useState(0),[n,i]=c.useState(10),d=(m,x)=>{r(x)},f=m=>{i(parseInt(m.target.value,10)),r(0)},[l,o]=c.useState(s),[u,p]=c.useState("asc");c.useEffect(()=>{o(s)},[s]);const h=(m,x)=>{switch(x){case"desc":return m.sort((y,v)=>W(y.createdAt)<W(v.createdAt)?-1:1);case"asc":default:return m.sort((y,v)=>W(y.createdAt)>W(v.createdAt)?-1:1)}},g=()=>{o(h(s,u)),p(u==="asc"?"desc":"asc")};return e.jsxs(ve,{sx:{height:"100%",background:"rgba(255, 255, 255, 0.3)"},children:[e.jsx(ns,{sx:{maxHeight:500},children:e.jsxs(is,{sx:{minWidth:650,"& th":{background:"rgba(255, 255, 255, 0.3)"}},"aria-label":"Table",stickyHeader:!0,children:[e.jsx(Us,{cols:t,sortHandler:g,sortDirection:u}),e.jsx(qs,{data:l,cols:t,page:a,rowsPerPage:n})]})}),e.jsx(os,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],component:"div",count:s.length,rowsPerPage:n,page:a,slotProps:{select:{inputProps:{"aria-label":"rows per page"},native:!0}},onPageChange:d,onRowsPerPageChange:f,ActionsComponent:Es})]})}function O({changeHandler:t,label:s}){return e.jsxs(ve,{component:"form",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"80%",justifySelf:"center",alignSelf:"center"},children:[e.jsx(A,{sx:{p:"10px"},"aria-label":"menu",children:e.jsx(ls,{})}),e.jsx(cs,{sx:{ml:1,flex:1},placeholder:s,inputProps:{"aria-label":`${s}`},onChange:a=>{t(a.target.value)}}),e.jsx(ds,{sx:{height:28,m:.5},orientation:"vertical"}),e.jsx(A,{type:"button",sx:{p:"10px"},"aria-label":"search",children:e.jsx(us,{})})]})}const V=[{header:"SN",accessorkey:"index",footer:"SN"},{header:"Date",accessorkey:"createdDate",footer:"Date"},{header:"Username",accessorkey:"username",footer:"Username"},{header:"First Name",accessorkey:"firstName",footer:"First Name"},{header:"Last Name",accessorkey:"lastName",footer:"Last Name"},{header:"Domains",accessorkey:"domainsCount",footer:"Domains"},{header:"Wallet",accessorkey:"wallet",footer:"Wallet"},{header:"Referrer",accessorkey:"referrerUsername",footer:"Referrer"}],Le=[{header:"SN",accessorkey:"index",footer:"SN"},{header:"Date",accessorkey:"createdDate",footer:"Date"},{header:"Domain",accessorkey:"name",footer:"Domain"},{header:"Username",accessorkey:"username",footer:"Username"},{header:"First Name",accessorkey:"firstName",footer:"First Name"},{header:"Last Name",accessorkey:"lastName",footer:"Last Name"}],Fs=[{header:"SN",accessorkey:"index",footer:"SN"},{header:"Date",accessorkey:"createdDate",footer:"Date"},{header:"Username",accessorkey:"username",footer:"Username"},{header:"First Name",accessorkey:"firstName",footer:"First Name"},{header:"Last Name",accessorkey:"lastName",footer:"Last Name"},{header:"Wallet",accessorkey:"wallet",footer:"Wallet"},{header:"Total Referrals",accessorkey:"totalReferralsCount",footer:"Total Referrals"},{header:"Today Referrals",accessorkey:"todayReferralsCount",footer:"Today Referrals"},{header:"Total Domains",accessorkey:"totalDomainsCount",footer:"Total Domains"},{header:"Today Domains",accessorkey:"todayDomainsCount",footer:"Today Domains"}];function _(t,s=1e3){let a;return(...r)=>{clearTimeout(a),a=setTimeout(()=>{t(...r)},s)}}const Ms={token:""},Ae=vs({name:"auth",initialState:Ms,reducers:{setCredentials(t,s){t.token=s.payload.accessToken},logOut(t,s){t.token=""}}}),{setCredentials:se,logOut:Bs}=Ae.actions,Os=Ae.reducer,Ue=t=>t.auth.token,J=Ss({baseUrl:"https://gnsserv1.onrender.com/api/",credentials:"include",prepareHeaders(t,{getState:s}){const{token:a}=s().auth;return a&&t.set("authorization",`Bearer ${a}`),t}}),_s=async(t,s,a)=>{var n,i;let r=await J(t,s,a);if(((n=r==null?void 0:r.error)==null?void 0:n.status)===403){const d=await J("auth/refresh",s,a);if(d!=null&&d.data)s.dispatch(se({...d.data})),r=await J(t,s,a);else return((i=d==null?void 0:d.error)==null?void 0:i.status)===403&&(d.error.data.message="Your login has expired "),d}return r},N=Ts({reducerPath:"gnsApi",baseQuery:_s,tagTypes:["User","Domain"],refetchOnMountOrArgChange:!0,refetchOnReconnect:!0,endpoints:t=>({})}),te=K({}),Ee=te.getInitialState(),Ie=N.injectEndpoints({endpoints:t=>({getUsersWithStats:t.query({query:()=>({url:"users/affiliates",validateStatus:(s,a)=>s.status===200&&!a.isError}),transformResponse(s,a,r){const n=s.map(i=>(i.id=i._id,i.totalReferralsCount=i.referrals.length,i.todayReferralsCount=i.todayReferrals.length,i.totalDomainsCount=i.referralsDomains.length,i.todayDomainsCount=i.todayReferralsDomains.length,i));return te.setAll(Ee,n)},providesTags(s,a,r){return s!=null&&s.ids?[{type:"User",id:"LIST"},...s.ids.map(n=>({type:"User",id:n}))]:[{type:"User",id:"LIST"}]},forceRefetch({currentArg:s,previousArg:a}){return s!==a}})})}),{useGetUsersWithStatsQuery:Ws}=Ie,Hs=Ie.endpoints.getUsersWithStats.select(),Qs=R(Hs,t=>t.data),Gs=te.getSelectors(t=>Qs(t)??Ee);function zs(){var g,m;const[t,s]=c.useState([]),[a,r]=c.useState(""),{isLoading:n,isFetching:i,isSuccess:d,isError:f,error:l}=Ws(),u=S(Gs.selectAll);let p;(n||i)&&(p=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(w,{})})),f&&(p=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx("p",{className:"errmsg",children:`${(g=l==null?void 0:l.data)==null?void 0:g.message}`})})),f&&(l==null?void 0:l.status)===403&&(p=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(m=l==null?void 0:l.data)==null?void 0:m.message} - `,e.jsx(T,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}));const h=c.useCallback(_(x=>{r(x)}),[]);return c.useEffect(()=>{try{if(d){const x=u.filter(y=>a.toLowerCase()===""?y:y.username.toLowerCase().includes(a));s(x)}}catch(x){console.log(x)}},[a,u]),d&&(p=e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80},children:[e.jsx(O,{changeHandler:h,label:"Search users"}),e.jsx(L,{cols:Fs,data:t})]})),p}function Ks(){return e.jsx(k,{})}function $e({initials:t,borderRadius:s=60,width:a=60,height:r=60}){return e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",background:"#141441",borderRadius:s,width:a,height:r},children:e.jsxs("h4",{className:"text-white font-bold",children:[" ",t," "]})})}function Pe(t){var a;const s=(a=t.username)==null?void 0:a.substring(0,2).toLocaleUpperCase();return e.jsxs("div",{className:"profile-info",children:[e.jsx($e,{initials:s}),e.jsx("h4",{className:"username text-lg font-semibold overflow-hidden",children:t.username})]})}function qe({username:t,dashTip:s}){return e.jsxs("div",{className:"welcome-block",children:[e.jsxs("h2",{className:"greeting font-bold text-lg",children:["Welcome, ",t]}),e.jsx("h3",{className:"dash-tip",children:s})]})}function Fe({username:t}){const s=`https://app.gtxstream.com/signup?ref=${t}`,[a,r]=c.useState(""),[n,i]=c.useState(!1);c.useEffect(()=>{r(s)},[]);const d=()=>{i(!0),setTimeout(()=>{i(!1)},2e3)};return e.jsxs("div",{style:{display:"flex",borderWidth:1,borderColor:"#b9b9b9"},className:"ref-link",children:[e.jsx("h2",{className:"text-gray-300 text-xl overflow-hidden aff-link mr-1",children:a}),e.jsx(ks,{text:a,onCopy:d,children:n?e.jsx(ms,{className:"text-green-400 cursor-pointer"}):e.jsx(hs,{className:"text-yellow-400 cursor-pointer"})})]})}const C=()=>{const t=S(Ue);let s=!1,a="user";if(t){const r=ws(t),{username:n,roles:i,wallet:d,email:f}=r.userInfo;return s=i.includes("admin"),s&&(a="admin"),{username:n,roles:i,wallet:d,email:f,isAdmin:s,status:a}}return{username:"",roles:[],wallet:"",email:"",isAdmin:s,status:a}};function Vs(){const s={...C(),dashTip:"Admin Dashboard"};return e.jsxs("div",{className:"profile-header",children:[e.jsx(qe,{username:s.username,dashTip:s.dashTip}),e.jsx(Fe,{username:s.username}),e.jsx(Pe,{username:s.username})]})}function Ys(){return e.jsxs("div",{className:"content-container",children:[e.jsx(Vs,{}),e.jsx("div",{className:"outlet-wrapper",children:e.jsx(k,{})})]})}const Js=N.injectEndpoints({endpoints:t=>({addNewUser:t.mutation({query:s=>({url:"auth/signup",method:"POST",body:s}),invalidatesTags:[{type:"User",id:"LIST"}]}),login:t.mutation({query:s=>({url:"auth",method:"POST",body:s})}),sendLogout:t.mutation({query:()=>({url:"auth/logout",method:"POST"}),async onQueryStarted(s,a){try{await a.queryFulfilled,a.dispatch(Bs({})),setTimeout(()=>{a.dispatch(N.util.resetApiState())},1e3)}catch(r){console.error(r)}}}),refresh:t.mutation({query:()=>({url:"auth/refresh",method:"GET"}),async onQueryStarted(s,{dispatch:a,queryFulfilled:r}){try{const{data:n}=await r,{accessToken:i}=n;a(se({accessToken:i}))}catch(n){console.error(n)}}})})}),{useAddNewUserMutation:wa,useLoginMutation:Xs,useRefreshMutation:Zs,useSendLogoutMutation:Me}=Js,Be=c.createContext(void 0);function et({children:t}){const{username:s,email:a}=C(),[r,n]=c.useState(!0),[i]=Me(),d=Z(),f=s==null?void 0:s.substring(0,2).toLocaleUpperCase();return e.jsx("aside",{className:"h-screen",children:e.jsxs("nav",{className:"h-full flex flex-col border-r shadow-sm",children:[e.jsxs("div",{className:"p-4 pb-2 flex justify-between items-center",children:[e.jsx("img",{src:"/images/gtx-stream-logo1.png",className:`overflow-hidden transition-all ${r?"w-32":"w-0"}`,alt:""}),e.jsx("button",{onClick:()=>{n(l=>!l)},className:"p-1.5 rounded-lg bg-gray-50 hover:bg-gray-100",children:r?e.jsx(Ce,{color:"black"}):e.jsx(ke,{color:"#000"})})]}),e.jsx(Be.Provider,{value:{expanded:r},children:e.jsx("ul",{className:"flex-1 px-3",children:t})}),e.jsxs("div",{className:"border-t flex p-3 sidebar-userinfo",children:[e.jsx($e,{initials:f,borderRadius:8,width:50,height:50}),e.jsxs("div",{className:`
              flex justify-between items-center
              overflow-hidden transition-all ${r?"w-52 ml-3":"w-0"}
          `,children:[e.jsxs("div",{className:"leading-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-600",children:[" ",s," "]}),e.jsxs("span",{className:"text-xs text-gray-600",children:[" ",a," "]})]}),e.jsx(Se,{className:"text-gray-900 cursor-pointer",onClick:async l=>{await i(null),d("/admin")}})]})]})]})})}function P({icon:t,label:s,active:a,alert:r,link:n}){const{expanded:i}=c.useContext(Be);return e.jsx(T,{to:n,children:e.jsxs("li",{className:`
		  relative flex items-center py-2 px-3 my-1
		  font-medium rounded-md cursor-pointer
		  transition-colors group
		  ${a?"bg-gradient-to-tr from-sky-200 to-sky-100 text-sky-700":"hover:bg-indigo-50 text-gray-900"}
	  `,children:[t,e.jsx("span",{className:`overflow-hidden transition-all ${i?"w-52 ml-3":"w-0"}`,children:s}),r&&e.jsx("div",{className:`absolute right-2 w-2 h-2 rounded bg-sky-400 ${i?"":"top-2"}`}),!i&&e.jsx("div",{className:`
			absolute left-full rounded-md px-2 py-1 ml-6
			bg-sky-100 text-sky-800 text-sm
			invisible opacity-20 -translate-x-3 transition-all
			group-hover:visible group-hover:opacity-100 group-hover:translate-x-0
		`,children:s})]})})}function st(){const t=ee();return e.jsx("div",{className:"sidebar",children:e.jsxs(et,{children:[e.jsx(P,{icon:e.jsx(we,{}),label:"Dashboard",active:t.pathname==="/admindash",link:"/admindash"}),e.jsx(P,{icon:e.jsx(Re,{}),label:"Users",active:t.pathname==="/admindash/users",link:"/admindash/users"}),e.jsx(P,{icon:e.jsx(fs,{}),label:"Affiliates",active:t.pathname==="/admindash/affiliates",link:"/admindash/affiliates"}),e.jsx(P,{icon:e.jsx(Te,{}),label:"Domains",active:t.pathname==="/admindash/domains",link:"/admindash/domains"}),e.jsx(P,{icon:e.jsx(De,{}),label:"Airdrop",active:t.pathname==="/admindash/users/tasks",link:"/admindash/users/tasks"})]})})}function tt(){return e.jsxs("div",{className:"page dash-layout",children:[e.jsx(st,{}),e.jsx(Ys,{})]})}const M=K({}),G=M.getInitialState(),ae=N.injectEndpoints({endpoints:t=>({getAdminStats:t.query({query:()=>({url:"stats/admin",validateStatus:(s,a)=>s.status===200&&!a.isError}),transformResponse(s,a,r){const n=s.map(i=>(i.id=fe(),i));return M.setAll(G,n)},forceRefetch({currentArg:s,previousArg:a}){return s!==a}}),getUserStats:t.query({query:s=>({url:`stats/${s}`,validateStatus:(a,r)=>a.status===200&&!r.isError}),transformResponse(s,a,r){const n=s.map(i=>(i.id=fe(),i));return M.setAll(G,n)},forceRefetch({currentArg:s,previousArg:a}){return s!==a}})})}),{useGetAdminStatsQuery:at,useGetUserStatsQuery:rt}=ae,nt=ae.endpoints.getAdminStats.select(),it=R(nt,t=>t.data),ot=M.getSelectors(t=>it(t)??G);function lt({data:t}){return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"text-block",children:[e.jsx("h3",{className:"font-bold text-xl",children:t.label}),e.jsxs("h2",{className:"font-bold text-2xl",children:[" ",t.value," "]})]}),e.jsx("div",{className:"icon-block",children:e.jsx("box-icon",{size:"lg",type:t.icon==="globe"?"regular":"solid",name:t.icon,color:"rgba(44, 41, 65, 0.5)"})})]})}function ct(){const{isSuccess:t}=at(),s=S(ot.selectAll);let a=[];return t&&(a=[{id:1,label:"Total Signups",value:s[0].totalusers,iconType:"user",icon:"group"},{id:2,label:"Total Domains",value:s[0].totalDomains,iconType:"domain",icon:"diamond"},{id:3,label:"Signups Today",value:s[0].todayUsers,iconType:"user",icon:"group"},{id:4,label:"Domains Today",value:s[0].todayDomains,iconType:"domain",icon:"diamond"}]),e.jsx("div",{className:"stat-block",children:a.map((r,n)=>e.jsx(lt,{data:r},r.id))})}const B=K({}),z=B.getInitialState(),Y=N.injectEndpoints({endpoints:t=>({getUsers:t.query({query:()=>({url:"users",validateStatus:(s,a)=>s.status===200&&!a.isError}),transformResponse(s,a,r){const n=s.map(i=>(i.id=i._id,i));return B.setAll(z,n)},providesTags(s,a,r){return s!=null&&s.ids?[{type:"User",id:"LIST"},...s.ids.map(n=>({type:"User",id:n}))]:[{type:"User",id:"LIST"}]},forceRefetch({currentArg:s,previousArg:a}){return s!==a}}),getUserReferrals:t.query({query:s=>({url:`users/referrals/${s}`,validateStatus:(a,r)=>a.status===200&&!r.isError}),transformResponse(s,a,r){const n=s.map(i=>(i.id=i._id,i));return B.setAll(z,n)},providesTags(s,a,r){return s!=null&&s.ids?[{type:"User",id:"LIST"},...s.ids.map(n=>({type:"User",id:n}))]:[{type:"User",id:"LIST"}]},forceRefetch({currentArg:s,previousArg:a}){return s!==a}}),addNewUser:t.mutation({query:s=>({url:"users",method:"POST",body:s}),invalidatesTags:[{type:"User",id:"LIST"}]}),updateUser:t.mutation({query:({id:s,data:a})=>({url:`users/${s}`,method:"PATCH",body:a}),invalidatesTags:(s,a,r)=>[{type:"User",id:r.id}]}),deleteUser:t.mutation({query:({id:s})=>({url:`/users/${s}`,method:"DELETE",body:s}),invalidatesTags:(s,a,r)=>[{type:"User",id:r.id}]})})}),{useGetUsersQuery:Oe,useGetUserReferralsQuery:_e,useAddNewUserMutation:Ra,useUpdateUserMutation:La,useDeleteUserMutation:Aa,usePrefetch:Ua}=Y,dt=Y.endpoints.getUsers.select(),ut=R(dt,t=>t.data);Y.endpoints.getUserReferrals.select("id");const We=B.getSelectors(t=>ut(t)??z);function mt(){var p,h;const[t,s]=c.useState([]),[a,r]=c.useState(""),{isLoading:n,isFetching:i,isSuccess:d,isError:f,error:l}=Oe(),o=S(We.selectAll);let u;return(n||i)&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(w,{})})),f&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx("p",{className:"errmsg",children:`${(p=l==null?void 0:l.data)==null?void 0:p.message}`})})),f&&(l==null?void 0:l.status)===403&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(h=l==null?void 0:l.data)==null?void 0:h.message} - `,e.jsx(T,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})})),c.useCallback(_(g=>{r(g)}),[]),c.useEffect(()=>{try{const g=o.filter(m=>a.toLowerCase()===""?m:m.username.toLowerCase().includes(a));s(g)}catch(g){console.log(g)}},[a,o]),d&&(u=e.jsxs("div",{className:"dashboard-page",children:[e.jsx(ct,{}),e.jsx(L,{cols:V,data:t})]})),u}const U=K({}),q=U.getInitialState(),re=N.injectEndpoints({endpoints:t=>({getDomains:t.query({query:()=>({url:"domains",validateStatus:(s,a)=>s.status===200&&!a.isError}),transformResponse(s,a,r){const n=s.map(i=>(i.id=i._id,i));return U.setAll(q,n)},providesTags(s,a,r){return s!=null&&s.ids?[{type:"Domain",id:"LIST"},...s.ids.map(n=>({type:"Domain",id:n}))]:[{type:"Domain",id:"LIST"}]},forceRefetch({currentArg:s,previousArg:a}){return s!==a}}),getUserDomains:t.query({query:s=>({url:`domains/${s}`,validateStatus:(a,r)=>a.status===200&&!r.isError}),transformResponse(s,a,r){const n=s.map(i=>(i.id=i._id,i));return U.setAll(q,n)},providesTags(s,a,r){return s!=null&&s.ids?[{type:"Domain",id:"LIST"},...s.ids.map(n=>({type:"Domain",id:n}))]:[{type:"Domain",id:"LIST"}]},forceRefetch({currentArg:s,previousArg:a}){return s!==a}}),getUserReferralsDomains:t.query({query:s=>({url:`users/referrals/domains/${s}`,validateStatus:(a,r)=>a.status===200&&!r.isError}),transformResponse(s,a,r){const n=s.map(i=>(i.id=i._id,i));return U.setAll(q,n)},providesTags(s,a,r){return s!=null&&s.ids?[{type:"Domain",id:"LIST"},...s.ids.map(n=>({type:"Domain",id:n}))]:[{type:"Domain",id:"LIST"}]},forceRefetch({currentArg:s,previousArg:a}){return s!==a}})})}),{useGetDomainsQuery:ht,useGetUserDomainsQuery:Ea,useGetUserReferralsDomainsQuery:ft}=re,xt=re.endpoints.getDomains.select(),pt=R(xt,t=>t.data),gt=U.getSelectors(t=>pt(t)??q);function jt(){var h,g;const[t,s]=c.useState([]),[a,r]=c.useState(""),{isLoading:n,isFetching:i,isSuccess:d,isError:f,error:l}=ht(),o=S(gt.selectAll);let u;(n||i)&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(w,{})})),f&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx("p",{className:"errmsg",children:`${(h=l==null?void 0:l.data)==null?void 0:h.message}`})})),f&&(l==null?void 0:l.status)===403&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(g=l==null?void 0:l.data)==null?void 0:g.message} - `,e.jsx(T,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}));const p=c.useCallback(Ne(m=>{r(m)}),[]);return c.useEffect(()=>{try{const m=o.filter(x=>a.toLowerCase()===""?x:x.username.toLowerCase().includes(a));s(m)}catch(m){console.log(m)}},[a,o]),d&&(u=e.jsxs("div",{className:"domainslist-page",style:{display:"flex",flexDirection:"column",gap:50,marginTop:80},children:[e.jsx(O,{changeHandler:p,label:"Search domains by owner"}),e.jsx(L,{cols:Le,data:t})]})),u}function pe(){return e.jsx("div",{children:"EditDomain"})}const yt=()=>e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold",children:"Error 404 - Page Not Found"}),e.jsx("p",{children:"The page you are trying to access does not exist."}),e.jsx("p",{className:"errmsg",children:e.jsx(T,{style:{fontWeight:"bold",textAlign:"right"},to:"/",children:"You can login here"})})]});function bt(t,s,a){const[r,n]=c.useState(()=>{const i=localStorage.getItem(s);if(i===null)return t;try{const d=JSON.parse(i);return a?a(d):d}catch{return console.error("error parsing saved state from useStickyState"),t}});return c.useEffect(()=>{localStorage.setItem(s,JSON.stringify(r))},[s,r]),[r,n]}function vt(){var h;const[t]=bt("true","persit"),s=S(Ue),a=c.useRef(!1),[r,n]=c.useState(!1),[i,{isUninitialized:d,isLoading:f,isSuccess:l,isError:o,error:u}]=Zs();c.useEffect(()=>(a.current,!s&&t&&(async()=>{try{await i(),n(!0)}catch{}})().then(m=>{console.log(m)}).catch(m=>{console.log(m)}),()=>{a.current=!0}),[]);let p;return t?f?p=e.jsxs("div",{className:"loading-state",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsx("p",{children:"Contacting backend"}),e.jsx(X,{sx:{width:"100%"},children:e.jsx(xs,{})})]}):o?p=e.jsx("div",{className:"err-cta",children:e.jsxs("p",{className:"errmsg",children:[`${(h=u==null?void 0:u.data)==null?void 0:h.message} - `,e.jsx(T,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}):l&&r?p=e.jsx(k,{}):s&&d&&(p=e.jsx(k,{})):p=e.jsx(k,{}),p}function ge({permitedRoles:t}){const s=ee(),{username:a,roles:r}=C();let n;return a||(n=e.jsx(he,{to:"/",state:{from:s},replace:!0})),(r==null?void 0:r.some(d=>t.includes(d)))?n=e.jsx(k,{}):n=e.jsx(he,{to:"/",state:{from:s},replace:!0}),n}function He(t,s){t.innerHTML=s,Array.from(t.querySelectorAll("script")).forEach(a=>{const r=document.createElement("script");Array.from(a.attributes).forEach(n=>{r.setAttribute(n.name,n.value)}),r.appendChild(document.createTextNode(a.innerHTML)),a.parentNode.replaceChild(r,a)})}const Qe='<a class="e-widget no-button" href="https://gleam.io/S7oyH/gravityx-airdrop" rel="nofollow">GravityX Airdrop</a><script type="text/javascript" src="https://widget.gleamjs.io/e.js" async="true"><\/script>';function St(){return c.useEffect(()=>{He(document.querySelector("#gleam_competition"),Qe)},[]),e.jsx("div",{className:"task-page",children:e.jsx("div",{id:"gleam_competition"})})}function Tt(){const s={...C(),dashTip:"Explore your Dashboard"};return e.jsxs("div",{className:"profile-header",children:[e.jsx(qe,{username:s.username,dashTip:s.dashTip}),e.jsx(Fe,{username:s.username}),e.jsx(Pe,{username:s.username})]})}function Dt(){return e.jsxs("div",{className:"content-container",children:[e.jsx(Tt,{}),e.jsx("div",{className:"outlet-wrapper",children:e.jsx(k,{})})]})}function Nt({initials:t,borderRadius:s=60,width:a=60,height:r=60}){return e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",background:"#141441",borderRadius:s,width:a,height:r},children:e.jsxs("h4",{className:"text-white font-bold",children:[" ",t," "]})})}const Ge=c.createContext(void 0);function Ct({children:t}){const[s,a]=c.useState(!0),{username:r,email:n}=C(),[i]=Me(),d=Z(),f=r==null?void 0:r.substring(0,2).toLocaleUpperCase();return e.jsx("aside",{className:"h-screen",children:e.jsxs("nav",{className:"h-full flex flex-col  border-r shadow-sm sidebar-style",children:[e.jsxs("div",{className:"p-4 pb-2 flex justify-between items-center",children:[e.jsx("img",{src:"/images/gtx-stream-logo1.png",className:`overflow-hidden transition-all ${s?"w-32":"w-0"}`,alt:""}),e.jsx("button",{onClick:()=>{a(l=>!l)},className:"p-1.5 rounded-lg bg-gray-50 hover:bg-gray-100",children:s?e.jsx(Ce,{color:"black"}):e.jsx(ke,{color:"#000"})})]}),e.jsx(Ge.Provider,{value:{expanded:s},children:e.jsx("ul",{className:"flex-1 px-3",children:t})}),e.jsxs("div",{className:"border-t border-b flex p-3 sidebar-userinfo",children:[e.jsx(Nt,{initials:f,borderRadius:8,width:50,height:50}),e.jsxs("div",{className:`
              flex justify-between items-center
              overflow-hidden transition-all ${s?"w-52 ml-3":"w-0"}
          `,children:[e.jsxs("div",{className:"leading-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-600",children:[" ",r," "]}),e.jsxs("span",{className:"text-xs text-gray-600",children:[" ",n," "]})]}),e.jsx(Se,{className:"text-gray-900 cursor-pointer",onClick:async l=>{await i(null),d("/")}})]})]})]})})}function H({icon:t,label:s,active:a,alert:r,link:n}){const{expanded:i}=c.useContext(Ge);return e.jsx(T,{to:n,children:e.jsxs("li",{className:`
		  relative flex items-center py-2 px-3 my-1
		  font-medium rounded-md cursor-pointer
		  transition-colors group
		  ${a?"bg-gradient-to-tr from-sky-200 to-sky-100 text-sky-700":"hover:bg-indigo-50 text-gray-900"}
	  `,children:[t,e.jsx("span",{className:`overflow-hidden transition-all ${i?"w-52 ml-3":"w-0"}`,children:s}),r&&e.jsx("div",{className:`absolute right-2 w-2 h-2 rounded bg-sky-400 ${i?"":"top-2"}`}),!i&&e.jsx("div",{className:`
			absolute left-full rounded-md px-2 py-1 ml-6
			bg-sky-100 text-sky-800 text-sm
			invisible opacity-20 -translate-x-3 transition-all
			group-hover:visible group-hover:opacity-100 group-hover:translate-x-0
		`,children:s})]})})}function kt(){const t=ee();return e.jsx("div",{className:"sidebar",children:e.jsxs(Ct,{children:[e.jsx(H,{icon:e.jsx(we,{}),label:"Dashboard",active:t.pathname==="/dash",link:"/dash"}),e.jsx(H,{icon:e.jsx(Re,{}),label:"Referrals",active:t.pathname==="/dash/users",link:"/dash/users"}),e.jsx(H,{icon:e.jsx(Te,{}),label:"Domains",active:t.pathname==="/dash/domains",link:"/dash/domains"}),e.jsx(H,{icon:e.jsx(De,{}),label:"Airdrop",active:t.pathname==="/dash/users/tasks",link:"/dash/users/tasks"})]})})}function wt(){return e.jsxs("div",{className:"page dash-layout",children:[e.jsx(kt,{}),e.jsx(Dt,{})]})}function Rt({data:t}){return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"text-block",children:[e.jsx("h3",{className:"font-bold text-xl",children:t.label}),e.jsxs("h2",{className:"font-bold text-2xl",children:[" ",t.value," "]})]}),e.jsx("div",{className:"icon-block",children:e.jsx("box-icon",{size:"lg",type:t.icon==="globe"?"regular":"solid",name:t.icon,color:"rgba(44, 41, 65, 0.5)"})})]})}function Lt(t){return c.useMemo(()=>{const s=ae.endpoints.getUserStats.select(t),a=R([s],r=>r.data);return M.getSelectors(r=>a(r)??G)},[t])}function At(){const t=C(),{isSuccess:s}=rt(t.username),a=Lt(t.username),r=S(a.selectAll);let n=[];return s&&(n=[{id:1,label:"Total Signups",value:r[0].totalusers,iconType:"user",icon:"group"},{id:2,label:"Total Points",value:r[0].totalusers,iconType:"user",icon:"award"},{id:3,label:"Total Domains",value:r[0].totalDomains,iconType:"domain",icon:"diamond"},{id:4,label:"Signups Today",value:r[0].todayUsers,iconType:"user",icon:"group"},{id:5,label:"Domains Today",value:r[0].todayDomains,iconType:"domain",icon:"diamond"}]),e.jsx("div",{className:"stat-block",children:n.map((i,d)=>e.jsx(Rt,{data:i},i.id))})}function ze(t){return c.useMemo(()=>{const s=Y.endpoints.getUserReferrals.select(t),a=R([s],r=>r.data);return B.getSelectors(r=>a(r)??z)},[t])}function Ut(){var g,m;const[t,s]=c.useState([]),[a,r]=c.useState(""),n=C(),{isLoading:i,isFetching:d,isSuccess:f,isError:l,error:o}=_e(n.username),u=ze(n.username),p=S(u.selectAll);let h;return(i||d)&&(h=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(w,{})})),l&&(h=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx("p",{className:"errmsg",children:`${(g=o==null?void 0:o.data)==null?void 0:g.message}`})})),l&&(o==null?void 0:o.status)===403&&(h=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(m=o==null?void 0:o.data)==null?void 0:m.message} - `,e.jsx(T,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})})),c.useCallback(_(x=>{r(x)}),[]),c.useEffect(()=>{try{if(f){const x=p.filter(y=>a.toLowerCase()===""?y:y.username.toLowerCase().includes(a));s(x)}}catch(x){console.log(x)}},[a,p]),f&&(h=e.jsxs("div",{className:"dashboard-page",children:[e.jsx(At,{}),e.jsx(L,{cols:V,data:t})]})),h}function Et(t){return c.useMemo(()=>{const s=re.endpoints.getUserReferralsDomains.select(t),a=R([s],r=>r.data);return U.getSelectors(r=>a(r)??q)},[t])}function It(){var m,x;const[t,s]=c.useState([]),[a,r]=c.useState(""),n=C(),{isLoading:i,isFetching:d,isSuccess:f,isError:l,error:o}=ft(n.username),u=Et(n.username),p=S(u.selectAll);let h;(i||d)&&(h=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(w,{})})),l&&(h=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx("p",{className:"errmsg",children:`${(m=o==null?void 0:o.data)==null?void 0:m.message}`})})),l&&(o==null?void 0:o.status)===403&&(h=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(x=o==null?void 0:o.data)==null?void 0:x.message} - `,e.jsx(T,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}));const g=c.useCallback(Ne(y=>{r(y)}),[]);return c.useEffect(()=>{try{const y=p.filter(v=>a.toLowerCase()===""?v:v.name.toLowerCase().includes(a));s(y)}catch(y){console.log(y)}},[a,p]),f&&(h=e.jsxs("div",{className:"domainslist-page",style:{display:"flex",flexDirection:"column",gap:50,marginTop:80},children:[e.jsx(O,{changeHandler:g,label:"Search domains by name"}),e.jsx(L,{cols:Le,data:t})]})),h}const Ia=b.object({firstName:b.string().min(2,{message:"Requires at least 2 characters"}),lastName:b.string().min(2,{message:"Requires at least 2 characters"}),username:b.string().min(3,{message:"Requires at least 3 characters"}),password:b.string().min(8,{message:"Requires at least 8 characters"}),email:b.string().email({message:"Invalid email addreess"}),wallet:b.string().regex(/^0x/,"Invalid Wallet address - use a polygon chain address").min(10,{message:"A valid wallet address is required"}).optional(),referrerUsername:b.string().min(3,{message:"Referrer username is Required"}),terms:b.boolean()}).superRefine(({terms:t},s)=>{t||s.addIssue({code:b.ZodIssueCode.custom,message:"You must accept the terms to proceed",path:["terms"]})}),$t=b.object({username:b.string().min(3,{message:"Requires at least 3 characters"}),password:b.string().min(8,{message:"Requires at least 8 characters"})});b.object({referrerUsername:b.string().min(3,{message:"A valid referral username is required !"}),wallet:b.string().min(8,{message:"A valid wallet address is required !"}).optional()});const Pt=t=>ps({palette:{mode:t.palette.mode},components:{MuiCheckbox:{styleOverrides:{root:{"&.MuiFormHelperText-root,.Mui-error":{color:"#ffa7a7 !important"}}}},MuiTextField:{styleOverrides:{root:{"--TextField-brandBorderColor":"#E0E3E7","--TextField-brandBorderHoverColor":"#B2BAC2","--TextField-brandBorderFocusedColor":"#6F7E8C","& label.Mui-focused":{color:$[500]},"&.MuiFormHelperText-root,.Mui-error":{color:"#ffa7a7 !important"}}}},MuiOutlinedInput:{styleOverrides:{notchedOutline:{borderColor:$[100]},root:{[`&:hover .${de.notchedOutline}`]:{borderColor:$[300]},[`&.Mui-focused .${de.notchedOutline}`]:{borderColor:$[200]}}}},MuiFilledInput:{styleOverrides:{root:{"&::before, &::after":{borderBottom:`2px solid ${$[500]}`},"&:hover:not(.Mui-disabled, .Mui-error):before":{borderBottom:"2px solid var(--TextField-brandBorderHoverColor)"},"&.Mui-focused:after":{borderBottom:"2px solid var(--TextField-brandBorderFocusedColor)"},"&.MuiFilledInput-root":{background:"#fff"}}}}}});function qt(){var v,ne;const t=be(),s=Z(),a=Je(),[r,{isLoading:n,isSuccess:i,isError:d,error:f}]=Xs(),{register:l,handleSubmit:o,control:u,reset:p,setError:h,formState:{isSubmitting:g,isSubmitSuccessful:m,errors:x}}=Rs({mode:"all",resolver:Ls($t),defaultValues:{username:"",password:""}});c.useEffect(()=>{i&&s("/dash",{replace:!0})},[i,s]);const y=c.useCallback(async E=>{try{const{accessToken:D}=await r(E).unwrap();a(se({accessToken:D}))}catch(D){(D==null?void 0:D.status)==="FETCH_ERROR"&&h("root.serverError",{type:"server",message:"Network or internet Error"}),(D==null?void 0:D.status)===404&&h("root.serverError",{type:"server",message:"Invalid Login Credentials"})}},[]);return e.jsxs("div",{children:[e.jsxs("div",{className:"title-wrapper w-full flex justify-between items-center mb-8 ",children:[e.jsx("img",{src:"/images/gtx-stream-logo1.png",className:"w-32",alt:""}),e.jsx("h2",{className:"text-2xl font-bold text-center",children:"Login"})]}),e.jsx(gs,{theme:Pt(t),children:e.jsx("form",{onSubmit:o(y),children:e.jsxs(X,{component:"div",sx:{p:"2px 4px",display:"flex",flexDirection:"column",alignItems:"center",gap:2,width:350,boxShadow:0},children:[e.jsx(xe,{name:"username",control:u,render:({field:E,fieldState:{error:D},formState:Ve})=>{var I;return e.jsx(ue,{id:"username",label:"Username",variant:"filled",type:"text",error:!!x.username,helperText:(I=x.username)==null?void 0:I.message,...E,fullWidth:!0,InputProps:{startAdornment:e.jsx(me,{position:"start",children:e.jsx(js,{})})}})}}),e.jsx(xe,{name:"password",control:u,render:({field:E,fieldState:{error:D},formState:Ve})=>{var I;return e.jsx(ue,{id:"password",label:"Password",variant:"filled",type:"password",error:!!x.password,helperText:(I=x.password)==null?void 0:I.message,...E,fullWidth:!0,InputProps:{startAdornment:e.jsx(me,{position:"start",children:e.jsx(ys,{})})}})}}),e.jsx(bs,{type:"submit",variant:"contained",className:"btn",children:"Submit"}),e.jsx("div",{children:e.jsx("p",{style:{fontWeight:"bold"},children:(ne=(v=x.root)==null?void 0:v.serverError)==null?void 0:ne.message})})]})})})]})}function Ft(){return e.jsx("div",{className:"signup-page",children:e.jsx("div",{className:"form-wrapper",children:e.jsx(qt,{})})})}function Mt(){var m,x;const[t,s]=c.useState([]),[a,r]=c.useState(""),n=C(),{isLoading:i,isFetching:d,isSuccess:f,isError:l,error:o}=_e(n.username),u=ze(n.username),p=S(u.selectAll);let h;(i||d)&&(h=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(w,{})})),l&&(h=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx("p",{className:"errmsg",children:`${(m=o==null?void 0:o.data)==null?void 0:m.message}`})})),l&&(o==null?void 0:o.status)===403&&(h=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(x=o==null?void 0:o.data)==null?void 0:x.message} - `,e.jsx(T,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}));const g=c.useCallback(_(y=>{r(y)}),[]);return c.useEffect(()=>{try{if(f){const y=p.filter(v=>a.toLowerCase()===""?v:v.username.toLowerCase().includes(a));s(y)}}catch(y){console.log(y)}},[a,p]),f&&(h=e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80},children:[e.jsx(O,{changeHandler:g,label:"Search by username"}),e.jsx(L,{cols:V,data:t})]})),h}function Bt(){return c.useEffect(()=>{He(document.querySelector("#gleam_competition"),Qe)},[]),e.jsx("div",{className:"task-page",children:e.jsx("div",{id:"gleam_competition"})})}function Ot(){var h,g;const[t,s]=c.useState([]),[a,r]=c.useState(""),{isLoading:n,isFetching:i,isSuccess:d,isError:f,error:l}=Oe(),o=S(We.selectAll);let u;(n||i)&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(w,{})})),f&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx("p",{className:"errmsg",children:`${(h=l==null?void 0:l.data)==null?void 0:h.message}`})})),f&&(l==null?void 0:l.status)===403&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(g=l==null?void 0:l.data)==null?void 0:g.message} - `,e.jsx(T,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}));const p=c.useCallback(_(m=>{r(m)}),[]);return c.useEffect(()=>{try{const m=o.filter(x=>a.toLowerCase()===""?x:x.username.toLowerCase().includes(a));s(m)}catch(m){console.log(m)}},[a,o]),d&&(u=e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80},children:[e.jsx(O,{changeHandler:p,label:"Search users"}),e.jsx(L,{cols:V,data:t})]})),u}const je={user:"user",manager:"manager",admin:"admin"},_t=c.lazy(async()=>ye(()=>import("./SignupPage-DzvM9ccX.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49]))),Wt=c.lazy(async()=>ye(()=>import("./LoginPage-B-rzPg-x.js"),__vite__mapDeps([50,1,2,25,26,34,35,27,28,29,30,31,32,21,22,33,23,24,5,6,7,8,9,20,36,37,38,39,40,41,42,43,44,45,46,47,13,48,51]))),Ht=es(Cs(e.jsxs(j,{path:"/",element:e.jsx(Ks,{}),errorElement:e.jsx(yt,{}),children:[e.jsx(j,{index:!0,element:e.jsx(Ft,{})}),e.jsx(j,{path:"signup",element:e.jsx(_t,{})}),e.jsx(j,{path:"admin",element:e.jsx(Wt,{})}),e.jsxs(j,{element:e.jsx(vt,{}),children:[e.jsx(j,{element:e.jsx(ge,{permitedRoles:[je.admin]}),children:e.jsxs(j,{path:"admindash",element:e.jsx(tt,{}),children:[e.jsx(j,{index:!0,element:e.jsx(mt,{})}),e.jsxs(j,{path:"users",children:[e.jsx(j,{index:!0,element:e.jsx(Ot,{})}),e.jsx(j,{path:"tasks",element:e.jsx(St,{})})]}),e.jsx(j,{path:"affiliates",children:e.jsx(j,{index:!0,element:e.jsx(zs,{})})}),e.jsxs(j,{path:"domains",children:[e.jsx(j,{index:!0,element:e.jsx(jt,{})}),e.jsx(j,{path:":id",element:e.jsx(pe,{})})]})]})}),e.jsx(j,{element:e.jsx(ge,{permitedRoles:[je.user]}),children:e.jsxs(j,{path:"dash",element:e.jsx(wt,{}),children:[e.jsx(j,{index:!0,element:e.jsx(Ut,{})}),e.jsxs(j,{path:"users",children:[e.jsx(j,{index:!0,element:e.jsx(Mt,{})}),e.jsx(j,{path:"tasks",element:e.jsx(Bt,{})})]}),e.jsxs(j,{path:"domains",children:[e.jsx(j,{index:!0,element:e.jsx(It,{})}),e.jsx(j,{path:":id",element:e.jsx(pe,{})})]})]})})]})]}))),Ke=Ds({reducer:{[N.reducerPath]:N.reducer,auth:Os},middleware:t=>t().concat(N.middleware),devTools:!0});Ns(Ke.dispatch);As();Ze.createRoot(document.getElementById("root")).render(e.jsx(Ye.StrictMode,{children:e.jsx(Xe,{store:Ke,children:e.jsx(ss,{router:Ht})})}));export{Xs as a,se as b,Pt as c,$t as l,Ia as s,wa as u};
