function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/SignupPage-BIMsHMBC.js","assets/react-eX7k_oyb.js","assets/@babel-BTUyE5mg.js","assets/@web3modal-BnXlkWgH.js","assets/bignumber.js-DOH-f-tm.js","assets/@wagmi-Cwopbt2N.js","assets/zustand-BxVvYF66.js","assets/viem-DO_zHWKk.js","assets/eventemitter3-B2QLvKQr.js","assets/mipd-CIcDX0W7.js","assets/buffer-EBb79ogF.js","assets/base64-js-D0UyVEDn.js","assets/ieee754-DSYfm7We.js","assets/zod-dIKOytT1.js","assets/valtio-D-UtsqsE.js","assets/proxy-compare-DDw08AJZ.js","assets/dayjs-D3dD73DO.js","assets/qrcode-CGiDONbL.js","assets/encode-utf8-Cn5aGd7v.js","assets/dijkstrajs-D_NXgYpA.js","assets/react-router-dom-DIdm3YiL.js","assets/react-dom-BE5TJDhq.js","assets/scheduler-CzFDRTuY.js","assets/react-router-zaz7yv4n.js","assets/@remix-run-CAT8zpu_.js","assets/react-hook-form-BVuS_7ec.js","assets/@hookform-B4uZ5eeB.js","assets/@mui-B-lH2raD.js","assets/clsx-B-dksMZM.js","assets/@emotion-CTR4nhAa.js","assets/hoist-non-react-statics-Buxaj0Kl.js","assets/react-is-8JwjhRSi.js","assets/stylis-NkKAe6Bn.js","assets/react-transition-group-BwIbI4gd.js","assets/react-redux-B2ydUXa7.js","assets/use-sync-external-store-o46NS6CO.js","assets/@reduxjs-9R9LrHOH.js","assets/redux-DITMfSWq.js","assets/immer-BkdjC0q7.js","assets/reselect-BEFkisvr.js","assets/redux-thunk-ClJT1hhx.js","assets/react-copy-to-clipboard-CVAzxf6m.js","assets/copy-to-clipboard-BvYTofsP.js","assets/toggle-selection-BHUZwh74.js","assets/jwt-decode-VWaDGczM.js","assets/lucide-react-DofsI3O2.js","assets/uuid-D8aEg3BZ.js","assets/boxicons-DYxgBJvX.js","assets/@fvilers-C36Jf4Wd.js","assets/SignupPage-vVReXN0Y.css","assets/LoginPage-CEthTOrI.js","assets/LoginPage-BoRWdJUY.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{j as e,r as i,a as Ye}from"./react-eX7k_oyb.js";import{a as v,u as Je,P as Xe}from"./react-redux-B2ydUXa7.js";import{c as Ze}from"./react-dom-BE5TJDhq.js";import{_ as ye}from"./@wagmi-Cwopbt2N.js";import{L as S,c as es,R as ss}from"./react-router-dom-DIdm3YiL.js";import{T as ts,a as H,b as $,c as as,u as be,B as X,I as A,d as oe,e as ie,f as le,g as ce,h as rs,P as ve,i as ns,j as os,k as is,l as ls,m as cs,D as ds,S as us,C as k,n as ms,o as hs,L as Se,A as xs,p as Ne,R as Te,q as Ce,r as fs,s as ps,t as I,v as de,w as gs,x as ue,y as me,z as js,E as ys,F as bs}from"./@mui-B-lH2raD.js";import{c as vs,f as Ss,a as Ns,b as K,d as Ts,s as Cs}from"./@reduxjs-9R9LrHOH.js";import{a as w}from"./reselect-BEFkisvr.js";import{O as D,c as Z,b as ee,f as he,g as Ds,h as j}from"./react-router-zaz7yv4n.js";import{C as ks}from"./react-copy-to-clipboard-CVAzxf6m.js";import{j as ws}from"./jwt-decode-VWaDGczM.js";import{C as De,a as ke,H as we,U as Re}from"./lucide-react-DofsI3O2.js";import{v as xe}from"./uuid-D8aEg3BZ.js";import"./boxicons-DYxgBJvX.js";import{u as Rs,C as fe}from"./react-hook-form-BVuS_7ec.js";import{z as y}from"./zod-dIKOytT1.js";import{t as Ls}from"./@hookform-B4uZ5eeB.js";import{d as As}from"./@fvilers-C36Jf4Wd.js";import"./@babel-BTUyE5mg.js";import"./use-sync-external-store-o46NS6CO.js";import"./scheduler-CzFDRTuY.js";import"./zustand-BxVvYF66.js";import"./viem-DO_zHWKk.js";import"./eventemitter3-B2QLvKQr.js";import"./mipd-CIcDX0W7.js";import"./@remix-run-CAT8zpu_.js";import"./clsx-B-dksMZM.js";import"./@emotion-CTR4nhAa.js";import"./hoist-non-react-statics-Buxaj0Kl.js";import"./react-is-8JwjhRSi.js";import"./stylis-NkKAe6Bn.js";import"./react-transition-group-BwIbI4gd.js";import"./redux-DITMfSWq.js";import"./immer-BkdjC0q7.js";import"./redux-thunk-ClJT1hhx.js";import"./copy-to-clipboard-BvYTofsP.js";import"./toggle-selection-BHUZwh74.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();function Us({cols:t,sortHandler:s,sortDirection:a}){return e.jsx(ts,{sx:{"& th":{fontWeight:"bold",fontSize:"0.9rem",background:"rgba(255, 255, 255, 0.3)",color:"#272833"}},children:e.jsx(H,{children:t.map(r=>r.accessorkey==="createdDate"?e.jsx($,{onClick:()=>{s()},children:e.jsx(as,{active:!0,direction:a,children:r.header})},r.accessorkey):e.jsx($,{align:r.accessorkey==="index"?void 0:"right",children:r.header},r.accessorkey))})})}function Es({count:t,page:s,rowsPerPage:a,onPageChange:r}){const n=be(),o=c=>{r(c,0)},l=c=>{r(c,s-1)},x=c=>{r(c,s+1)},m=c=>{r(c,Math.max(0,Math.ceil(t/a)-1))};return e.jsxs(X,{sx:{flexShrink:0,ml:2.5},children:[e.jsx(A,{onClick:o,disabled:s===0,"aria-label":"first page",children:n.direction==="rtl"?e.jsx(oe,{}):e.jsx(ie,{})}),e.jsx(A,{onClick:l,disabled:s===0,"aria-label":"previous page",children:n.direction==="rtl"?e.jsx(le,{}):e.jsx(ce,{})}),e.jsx(A,{onClick:x,disabled:s>=Math.ceil(t/a)-1,"aria-label":"next page",children:n.direction==="rtl"?e.jsx(ce,{}):e.jsx(le,{})}),e.jsx(A,{onClick:m,disabled:s>=Math.ceil(t/a)-1,"aria-label":"last page",children:n.direction==="rtl"?e.jsx(ie,{}):e.jsx(oe,{})})]})}function Is(t,s){const a=[];for(let r=0;r<t.length;r++){const n=t[r];s.includes(n)&&a.push(n)}return a}const W=t=>new Date(t),Ps=t=>new Date(t).toLocaleString("default",{dateStyle:"medium"});function $s({data:t,cols:s,index:a}){const r=Ps(t.createdAt),n={index:a,createdDate:r,...t},o=[],l=Object.keys(n),x=s.map(c=>c.accessorkey);return Is(x,l).map((c,d)=>(o.push(e.jsx($,{align:c==="index"||c==="createdDate"?"left":"right",className:c==="domainsCount"||c==="referrerUsername"||c==="name"?"highlightedcell":"",children:n[c]},d)),c)),e.jsx(H,{sx:{"&:last-child td, &:last-child th":{border:0},"& td":{fontSize:"1rem"},"& td.highlightedcell.css-177gid-MuiTableCell-root":{color:" #121213",fontWeight:"bold"}},children:o},t.id)}function qs({data:t,cols:s,page:a,rowsPerPage:r}){const n=a>0?Math.max(0,(1+a)*r-t.length):0;return e.jsxs(rs,{children:[t.length===0&&e.jsx(H,{children:e.jsx($,{component:"td",scope:"row",colSpan:8,children:"No record found"})}),(r>0?t.slice(a*r,a*r+r):t).map((o,l)=>e.jsx($s,{data:o,cols:s,index:l+1},o.id)),n>0&&e.jsx(H,{style:{height:53*n},children:e.jsx($,{colSpan:6})})]})}function R({cols:t,data:s}){const[a,r]=i.useState(0),[n,o]=i.useState(10),l=(h,g)=>{r(g)},x=h=>{o(parseInt(h.target.value,10)),r(0)},[m,c]=i.useState(s),[d,f]=i.useState("asc");i.useEffect(()=>{c(s)},[s]);const u=(h,g)=>{switch(g){case"desc":return h.sort((b,L)=>W(b.createdAt)<W(L.createdAt)?-1:1);case"asc":default:return h.sort((b,L)=>W(b.createdAt)>W(L.createdAt)?-1:1)}},p=()=>{c(u(s,d)),f(d==="asc"?"desc":"asc")};return e.jsxs(ve,{sx:{height:"100%",background:"rgba(255, 255, 255, 0.3)"},children:[e.jsx(ns,{sx:{maxHeight:500},children:e.jsxs(os,{sx:{minWidth:650,"& th":{background:"rgba(255, 255, 255, 0.3)"}},"aria-label":"Table",stickyHeader:!0,children:[e.jsx(Us,{cols:t,sortHandler:p,sortDirection:d}),e.jsx(qs,{data:m,cols:t,page:a,rowsPerPage:n})]})}),e.jsx(is,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],component:"div",count:s.length,rowsPerPage:n,page:a,slotProps:{select:{inputProps:{"aria-label":"rows per page"},native:!0}},onPageChange:l,onRowsPerPageChange:x,ActionsComponent:Es})]})}function M({changeHandler:t,label:s}){return e.jsxs(ve,{component:"form",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"80%",justifySelf:"center",alignSelf:"center"},children:[e.jsx(A,{sx:{p:"10px"},"aria-label":"menu",children:e.jsx(ls,{})}),e.jsx(cs,{sx:{ml:1,flex:1},placeholder:s,inputProps:{"aria-label":`${s}`},onChange:a=>{t(a.target.value)}}),e.jsx(ds,{sx:{height:28,m:.5},orientation:"vertical"}),e.jsx(A,{type:"button",sx:{p:"10px"},"aria-label":"search",children:e.jsx(us,{})})]})}const V=[{header:"SN",accessorkey:"index",footer:"SN"},{header:"Date",accessorkey:"createdDate",footer:"Date"},{header:"Username",accessorkey:"username",footer:"Username"},{header:"First Name",accessorkey:"firstName",footer:"First Name"},{header:"Last Name",accessorkey:"lastName",footer:"Last Name"},{header:"Domains",accessorkey:"domainsCount",footer:"Domains"},{header:"Wallet",accessorkey:"wallet",footer:"Wallet"},{header:"Referrer",accessorkey:"referrerUsername",footer:"Referrer"}],Le=[{header:"SN",accessorkey:"index",footer:"SN"},{header:"Date",accessorkey:"createdDate",footer:"Date"},{header:"Domain",accessorkey:"name",footer:"Domain"},{header:"Username",accessorkey:"username",footer:"Username"},{header:"First Name",accessorkey:"firstName",footer:"First Name"},{header:"Last Name",accessorkey:"lastName",footer:"Last Name"}],Fs=[{header:"SN",accessorkey:"index",footer:"SN"},{header:"Date",accessorkey:"createdDate",footer:"Date"},{header:"Username",accessorkey:"username",footer:"Username"},{header:"First Name",accessorkey:"firstName",footer:"First Name"},{header:"Last Name",accessorkey:"lastName",footer:"Last Name"},{header:"Wallet",accessorkey:"wallet",footer:"Wallet"},{header:"Total Referrals",accessorkey:"totalReferralsCount",footer:"Total Referrals"},{header:"Today Referrals",accessorkey:"todayReferralsCount",footer:"Today Referrals"},{header:"Total Domains",accessorkey:"totalDomainsCount",footer:"Total Domains"},{header:"Today Domains",accessorkey:"todayDomainsCount",footer:"Today Domains"}];function O(t,s=1e3){let a;return(...r)=>{clearTimeout(a),a=setTimeout(()=>{t(...r)},s)}}const Bs={token:""},Ae=vs({name:"auth",initialState:Bs,reducers:{setCredentials(t,s){t.token=s.payload.accessToken},logOut(t,s){t.token=""}}}),{setCredentials:se,logOut:Ms}=Ae.actions,Os=Ae.reducer,Ue=t=>t.auth.token,J=Ss({baseUrl:"https://gnsserv1.onrender.com/api/",credentials:"include",prepareHeaders(t,{getState:s}){const{token:a}=s().auth;return a&&t.set("authorization",`Bearer ${a}`),t}}),Ws=async(t,s,a)=>{var n,o;let r=await J(t,s,a);if(((n=r==null?void 0:r.error)==null?void 0:n.status)===403){const l=await J("auth/refresh",s,a);if(l!=null&&l.data)s.dispatch(se({...l.data})),r=await J(t,s,a);else return((o=l==null?void 0:l.error)==null?void 0:o.status)===403&&(l.error.data.message="Your login has expired "),l}return r},T=Ns({reducerPath:"gnsApi",baseQuery:Ws,tagTypes:["User","Domain"],refetchOnMountOrArgChange:!0,refetchOnReconnect:!0,endpoints:t=>({})}),te=K({}),Ee=te.getInitialState(),Ie=T.injectEndpoints({endpoints:t=>({getUsersWithStats:t.query({query:()=>({url:"users/affiliates",validateStatus:(s,a)=>s.status===200&&!a.isError}),transformResponse(s,a,r){const n=s.map(o=>(o.id=o._id,o.totalReferralsCount=o.referrals.length,o.todayReferralsCount=o.todayReferrals.length,o.totalDomainsCount=o.referralsDomains.length,o.todayDomainsCount=o.todayReferralsDomains.length,o));return te.setAll(Ee,n)},providesTags(s,a,r){return s!=null&&s.ids?[{type:"User",id:"LIST"},...s.ids.map(n=>({type:"User",id:n}))]:[{type:"User",id:"LIST"}]},forceRefetch({currentArg:s,previousArg:a}){return s!==a}})})}),{useGetUsersWithStatsQuery:_s}=Ie,Hs=Ie.endpoints.getUsersWithStats.select(),Qs=w(Hs,t=>t.data),zs=te.getSelectors(t=>Qs(t)??Ee);function Gs(){var p;const[t,s]=i.useState([]),[a,r]=i.useState(""),{isLoading:n,isFetching:o,isSuccess:l,isError:x,error:m}=_s(),d=v(zs.selectAll);let f;(n||o)&&(f=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(k,{})})),x&&(f=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(p=m==null?void 0:m.data)==null?void 0:p.message} - `,e.jsx(S,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}));const u=i.useCallback(O(h=>{r(h)}),[]);return i.useEffect(()=>{try{if(l){const h=d.filter(g=>a.toLowerCase()===""?g:g.username.toLowerCase().includes(a));s(h)}}catch(h){console.log(h)}},[a,d]),l&&(f=e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80},children:[e.jsx(M,{changeHandler:u,label:"Search users"}),e.jsx(R,{cols:Fs,data:t})]})),f}function Ks(){return e.jsx(D,{})}function Pe({initials:t,borderRadius:s=60,width:a=60,height:r=60}){return e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",background:"#141441",borderRadius:s,width:a,height:r},children:e.jsxs("h4",{className:"text-white font-bold",children:[" ",t," "]})})}function $e(t){var a;const s=(a=t.username)==null?void 0:a.substring(0,2).toLocaleUpperCase();return e.jsxs("div",{className:"profile-info",children:[e.jsx(Pe,{initials:s}),e.jsx("h4",{className:"username text-lg font-semibold overflow-hidden",children:t.username})]})}function qe({username:t,dashTip:s}){return e.jsxs("div",{className:"welcome-block",children:[e.jsxs("h2",{className:"greeting font-bold text-lg",children:["Welcome, ",t]}),e.jsx("h3",{className:"dash-tip",children:s})]})}function Fe({username:t}){const s=`https://app.gtxstream.com/signup?ref=${t}`,[a,r]=i.useState(""),[n,o]=i.useState(!1);i.useEffect(()=>{r(s)},[]);const l=()=>{o(!0),setTimeout(()=>{o(!1)},2e3)};return e.jsxs("div",{style:{display:"flex",borderWidth:1,borderColor:"#b9b9b9"},className:"ref-link",children:[e.jsx("h2",{className:"text-gray-300 text-xl overflow-hidden aff-link",children:a}),e.jsx(ks,{text:a,onCopy:l,children:n?e.jsx(ms,{className:"text-green-400 cursor-pointer"}):e.jsx(hs,{className:"text-gray-700 cursor-pointer"})})]})}const C=()=>{const t=v(Ue);let s=!1,a="user";if(t){const r=ws(t),{username:n,roles:o,wallet:l,email:x}=r.userInfo;return s=o.includes("admin"),s&&(a="admin"),{username:n,roles:o,wallet:l,email:x,isAdmin:s,status:a}}return{username:"",roles:[],wallet:"",email:"",isAdmin:s,status:a}};function Vs(){const s={...C(),dashTip:"Admin Dashboard"};return e.jsxs("div",{className:"profile-header",children:[e.jsx(qe,{username:s.username,dashTip:s.dashTip}),e.jsx(Fe,{username:s.username}),e.jsx($e,{username:s.username})]})}function Ys(){return e.jsxs("div",{className:"content-container",children:[e.jsx(Vs,{}),e.jsx("div",{className:"outlet-wrapper",children:e.jsx(D,{})})]})}const Js=T.injectEndpoints({endpoints:t=>({addNewUser:t.mutation({query:s=>({url:"auth/signup",method:"POST",body:s}),invalidatesTags:[{type:"User",id:"LIST"}]}),login:t.mutation({query:s=>({url:"auth",method:"POST",body:s})}),sendLogout:t.mutation({query:()=>({url:"auth/logout",method:"POST"}),async onQueryStarted(s,a){try{await a.queryFulfilled,a.dispatch(Ms({})),setTimeout(()=>{a.dispatch(T.util.resetApiState())},1e3)}catch(r){console.error(r)}}}),refresh:t.mutation({query:()=>({url:"auth/refresh",method:"GET"}),async onQueryStarted(s,{dispatch:a,queryFulfilled:r}){try{const{data:n}=await r,{accessToken:o}=n;a(se({accessToken:o}))}catch(n){console.error(n)}}})})}),{useAddNewUserMutation:wa,useLoginMutation:Xs,useRefreshMutation:Zs,useSendLogoutMutation:Be}=Js,Me=i.createContext(void 0);function et({children:t}){const{username:s,email:a}=C(),[r,n]=i.useState(!0),[o]=Be(),l=Z(),x=s==null?void 0:s.substring(0,2).toLocaleUpperCase();return e.jsx("aside",{className:"h-screen",children:e.jsxs("nav",{className:"h-full flex flex-col border-r shadow-sm",children:[e.jsxs("div",{className:"p-4 pb-2 flex justify-between items-center",children:[e.jsx("img",{src:"/images/gtx-stream-logo1.png",className:`overflow-hidden transition-all ${r?"w-32":"w-0"}`,alt:""}),e.jsx("button",{onClick:()=>{n(m=>!m)},className:"p-1.5 rounded-lg bg-gray-50 hover:bg-gray-100",children:r?e.jsx(De,{color:"black"}):e.jsx(ke,{color:"#000"})})]}),e.jsx(Me.Provider,{value:{expanded:r},children:e.jsx("ul",{className:"flex-1 px-3",children:t})}),e.jsxs("div",{className:"border-t flex p-3 sidebar-userinfo",children:[e.jsx(Pe,{initials:x,borderRadius:8,width:50,height:50}),e.jsxs("div",{className:`
              flex justify-between items-center
              overflow-hidden transition-all ${r?"w-52 ml-3":"w-0"}
          `,children:[e.jsxs("div",{className:"leading-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-600",children:[" ",s," "]}),e.jsxs("span",{className:"text-xs text-gray-600",children:[" ",a," "]})]}),e.jsx(Se,{className:"text-gray-900 cursor-pointer",onClick:async m=>{await o(null),l("/admin")}})]})]})]})})}function P({icon:t,label:s,active:a,alert:r,link:n}){const{expanded:o}=i.useContext(Me);return e.jsx(S,{to:n,children:e.jsxs("li",{className:`
		  relative flex items-center py-2 px-3 my-1
		  font-medium rounded-md cursor-pointer
		  transition-colors group
		  ${a?"bg-gradient-to-tr from-sky-200 to-sky-100 text-sky-700":"hover:bg-indigo-50 text-gray-900"}
	  `,children:[t,e.jsx("span",{className:`overflow-hidden transition-all ${o?"w-52 ml-3":"w-0"}`,children:s}),r&&e.jsx("div",{className:`absolute right-2 w-2 h-2 rounded bg-sky-400 ${o?"":"top-2"}`}),!o&&e.jsx("div",{className:`
			absolute left-full rounded-md px-2 py-1 ml-6
			bg-sky-100 text-sky-800 text-sm
			invisible opacity-20 -translate-x-3 transition-all
			group-hover:visible group-hover:opacity-100 group-hover:translate-x-0
		`,children:s})]})})}function st(){const t=ee();return e.jsx("div",{className:"sidebar",children:e.jsxs(et,{children:[e.jsx(P,{icon:e.jsx(we,{}),label:"Dashboard",active:t.pathname==="/admindash",link:"/admindash"}),e.jsx(P,{icon:e.jsx(Re,{}),label:"Users",active:t.pathname==="/admindash/users",link:"/admindash/users"}),e.jsx(P,{icon:e.jsx(xs,{}),label:"Affiliates",active:t.pathname==="/admindash/affiliates",link:"/admindash/affiliates"}),e.jsx(P,{icon:e.jsx(Ne,{}),label:"Domains",active:t.pathname==="/admindash/domains",link:"/admindash/domains"}),e.jsx(P,{icon:e.jsx(Te,{}),label:"Airdrop",active:t.pathname==="/admindash/users/tasks",link:"/admindash/users/tasks"})]})})}function tt(){return e.jsxs("div",{className:"page dash-layout",children:[e.jsx(st,{}),e.jsx(Ys,{})]})}const q=K({}),Q=q.getInitialState(),ae=T.injectEndpoints({endpoints:t=>({getAdminStats:t.query({query:()=>({url:"stats/admin",validateStatus:(s,a)=>s.status===200&&!a.isError}),transformResponse(s,a,r){const n=s.map(o=>(o.id=xe(),o));return q.setAll(Q,n)},forceRefetch({currentArg:s,previousArg:a}){return s!==a}}),getUserStats:t.query({query:s=>({url:`stats/${s}`,validateStatus:(a,r)=>a.status===200&&!r.isError}),transformResponse(s,a,r){const n=s.map(o=>(o.id=xe(),o));return q.setAll(Q,n)},forceRefetch({currentArg:s,previousArg:a}){return s!==a}})})}),{useGetAdminStatsQuery:at,useGetUserStatsQuery:rt}=ae,nt=ae.endpoints.getAdminStats.select(),ot=w(nt,t=>t.data),it=q.getSelectors(t=>ot(t)??Q);function lt({data:t}){return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"text-block",children:[e.jsx("h3",{className:"font-bold text-xl",children:t.label}),e.jsxs("h2",{className:"font-bold text-2xl",children:[" ",t.value," "]})]}),e.jsx("div",{className:"icon-block",children:e.jsx("box-icon",{size:"lg",type:t.icon==="globe"?"regular":"solid",name:t.icon,color:"rgba(44, 41, 65, 0.5)"})})]})}function ct(){const{isSuccess:t}=at(),s=v(it.selectAll);let a=[];return t&&(a=[{id:1,label:"Total Signups",value:s[0].totalusers,iconType:"user",icon:"group"},{id:2,label:"Total Domains",value:s[0].totalDomains,iconType:"domain",icon:"diamond"},{id:3,label:"Signups Today",value:s[0].todayUsers,iconType:"user",icon:"group"},{id:4,label:"Domains Today",value:s[0].todayDomains,iconType:"domain",icon:"diamond"}]),e.jsx("div",{className:"stat-block",children:a.map((r,n)=>e.jsx(lt,{data:r},r.id))})}const F=K({}),z=F.getInitialState(),Y=T.injectEndpoints({endpoints:t=>({getUsers:t.query({query:()=>({url:"users",validateStatus:(s,a)=>s.status===200&&!a.isError}),transformResponse(s,a,r){const n=s.map(o=>(o.id=o._id,o));return F.setAll(z,n)},providesTags(s,a,r){return s!=null&&s.ids?[{type:"User",id:"LIST"},...s.ids.map(n=>({type:"User",id:n}))]:[{type:"User",id:"LIST"}]},forceRefetch({currentArg:s,previousArg:a}){return s!==a}}),getUserReferrals:t.query({query:s=>({url:`users/referrals/${s}`,validateStatus:(a,r)=>a.status===200&&!r.isError}),transformResponse(s,a,r){const n=s.map(o=>(o.id=o._id,o));return F.setAll(z,n)},providesTags(s,a,r){return s!=null&&s.ids?[{type:"User",id:"LIST"},...s.ids.map(n=>({type:"User",id:n}))]:[{type:"User",id:"LIST"}]},forceRefetch({currentArg:s,previousArg:a}){return s!==a}}),addNewUser:t.mutation({query:s=>({url:"users",method:"POST",body:s}),invalidatesTags:[{type:"User",id:"LIST"}]}),updateUser:t.mutation({query:({id:s,data:a})=>({url:`users/${s}`,method:"PATCH",body:a}),invalidatesTags:(s,a,r)=>[{type:"User",id:r.id}]}),deleteUser:t.mutation({query:({id:s})=>({url:`/users/${s}`,method:"DELETE",body:s}),invalidatesTags:(s,a,r)=>[{type:"User",id:r.id}]})})}),{useGetUsersQuery:Oe,useGetUserReferralsQuery:We,useAddNewUserMutation:Ra,useUpdateUserMutation:La,useDeleteUserMutation:Aa,usePrefetch:Ua}=Y,dt=Y.endpoints.getUsers.select(),ut=w(dt,t=>t.data);Y.endpoints.getUserReferrals.select("id");const _e=F.getSelectors(t=>ut(t)??z);function mt(){var f;const[t,s]=i.useState([]),[a,r]=i.useState(""),{isLoading:n,isFetching:o,isSuccess:l,isError:x,error:m}=Oe(),c=v(_e.selectAll);let d;return(n||o)&&(d=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(k,{})})),x&&(d=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(f=m==null?void 0:m.data)==null?void 0:f.message} - `,e.jsx(S,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})})),i.useCallback(O(u=>{r(u)}),[]),i.useEffect(()=>{try{const u=c.filter(p=>a.toLowerCase()===""?p:p.username.toLowerCase().includes(a));s(u)}catch(u){console.log(u)}},[a,c]),l&&(d=e.jsxs("div",{className:"dashboard-page",children:[e.jsx(ct,{}),e.jsx(R,{cols:V,data:t})]})),d}const B=K({}),G=B.getInitialState(),re=T.injectEndpoints({endpoints:t=>({getDomains:t.query({query:()=>({url:"domains",validateStatus:(s,a)=>s.status===200&&!a.isError}),transformResponse(s,a,r){const n=s.map(o=>(o.id=o._id,o));return B.setAll(G,n)},providesTags(s,a,r){return s!=null&&s.ids?[{type:"Domain",id:"LIST"},...s.ids.map(n=>({type:"Domain",id:n}))]:[{type:"Domain",id:"LIST"}]},forceRefetch({currentArg:s,previousArg:a}){return s!==a}}),getUserDomains:t.query({query:s=>({url:`domains/${s}`,validateStatus:(a,r)=>a.status===200&&!r.isError}),transformResponse(s,a,r){const n=s.map(o=>(o.id=o._id,o));return B.setAll(G,n)},providesTags(s,a,r){return s!=null&&s.ids?[{type:"Domain",id:"LIST"},...s.ids.map(n=>({type:"Domain",id:n}))]:[{type:"Domain",id:"LIST"}]},forceRefetch({currentArg:s,previousArg:a}){return s!==a}})})}),{useGetDomainsQuery:ht,useGetUserDomainsQuery:xt}=re,ft=re.endpoints.getDomains.select(),pt=w(ft,t=>t.data),gt=B.getSelectors(t=>pt(t)??G);function jt(){var u;const[t,s]=i.useState([]),[a,r]=i.useState(""),{isLoading:n,isFetching:o,isSuccess:l,isError:x,error:m}=ht(),c=v(gt.selectAll);let d;(n||o)&&(d=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(k,{})})),x&&(d=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(u=m==null?void 0:m.data)==null?void 0:u.message} - `,e.jsx(S,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}));const f=i.useCallback(Ce(p=>{r(p)}),[]);return i.useEffect(()=>{try{const p=c.filter(h=>a.toLowerCase()===""?h:h.username.toLowerCase().includes(a));s(p)}catch(p){console.log(p)}},[a,c]),l&&(d=e.jsxs("div",{className:"domainslist-page",style:{display:"flex",flexDirection:"column",gap:50,marginTop:80},children:[e.jsx(M,{changeHandler:f,label:"Search domains by owner"}),e.jsx(R,{cols:Le,data:t})]})),d}function pe(){return e.jsx("div",{children:"EditDomain"})}const yt=()=>e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold",children:"Error 404 - Page Not Found"}),e.jsx("p",{children:"The page you are trying to access does not exist."}),e.jsx("p",{className:"errmsg",children:e.jsx(S,{style:{fontWeight:"bold",textAlign:"right"},to:"/",children:"You can login here"})})]});function bt(t,s,a){const[r,n]=i.useState(()=>{const o=localStorage.getItem(s);if(o===null)return t;try{const l=JSON.parse(o);return a?a(l):l}catch{return console.error("error parsing saved state from useStickyState"),t}});return i.useEffect(()=>{localStorage.setItem(s,JSON.stringify(r))},[s,r]),[r,n]}function vt(){var u;const[t]=bt("true","persit"),s=v(Ue),a=i.useRef(!1),[r,n]=i.useState(!1),[o,{isUninitialized:l,isLoading:x,isSuccess:m,isError:c,error:d}]=Zs();i.useEffect(()=>(a.current,!s&&t&&(async()=>{try{await o(),n(!0)}catch{}})().then(h=>{console.log(h)}).catch(h=>{console.log(h)}),()=>{a.current=!0}),[]);let f;return t?x?f=e.jsxs("div",{className:"loading-state",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsx("p",{children:"Contacting backend"}),e.jsx(X,{sx:{width:"100%"},children:e.jsx(fs,{})})]}):c?f=e.jsx("div",{className:"err-cta",children:e.jsxs("p",{className:"errmsg",children:[`${(u=d==null?void 0:d.data)==null?void 0:u.message} - `,e.jsx(S,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}):m&&r?f=e.jsx(D,{}):s&&l&&(f=e.jsx(D,{})):f=e.jsx(D,{}),f}function ge({permitedRoles:t}){const s=ee(),{username:a,roles:r}=C();let n;return a||(n=e.jsx(he,{to:"/",state:{from:s},replace:!0})),(r==null?void 0:r.some(l=>t.includes(l)))?n=e.jsx(D,{}):n=e.jsx(he,{to:"/",state:{from:s},replace:!0}),n}function He(t,s){t.innerHTML=s,Array.from(t.querySelectorAll("script")).forEach(a=>{const r=document.createElement("script");Array.from(a.attributes).forEach(n=>{r.setAttribute(n.name,n.value)}),r.appendChild(document.createTextNode(a.innerHTML)),a.parentNode.replaceChild(r,a)})}const Qe='<a class="e-widget no-button" href="https://gleam.io/S7oyH/gravityx-airdrop" rel="nofollow">GravityX Airdrop</a><script type="text/javascript" src="https://widget.gleamjs.io/e.js" async="true"><\/script>';function St(){return i.useEffect(()=>{He(document.querySelector("#gleam_competition"),Qe)},[]),e.jsx("div",{className:"task-page",children:e.jsx("div",{id:"gleam_competition"})})}function Nt(){const s={...C(),dashTip:"Explore your Dashboard"};return e.jsxs("div",{className:"profile-header",children:[e.jsx(qe,{username:s.username,dashTip:s.dashTip}),e.jsx(Fe,{username:s.username}),e.jsx($e,{username:s.username})]})}function Tt(){return e.jsxs("div",{className:"content-container",children:[e.jsx(Nt,{}),e.jsx("div",{className:"outlet-wrapper",children:e.jsx(D,{})})]})}function Ct({initials:t,borderRadius:s=60,width:a=60,height:r=60}){return e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",background:"#141441",borderRadius:s,width:a,height:r},children:e.jsxs("h4",{className:"text-white font-bold",children:[" ",t," "]})})}const ze=i.createContext(void 0);function Dt({children:t}){const[s,a]=i.useState(!0),{username:r,email:n}=C(),[o]=Be(),l=Z(),x=r==null?void 0:r.substring(0,2).toLocaleUpperCase();return e.jsx("aside",{className:"h-screen",children:e.jsxs("nav",{className:"h-full flex flex-col  border-r shadow-sm sidebar-style",children:[e.jsxs("div",{className:"p-4 pb-2 flex justify-between items-center",children:[e.jsx("img",{src:"/images/gtx-stream-logo1.png",className:`overflow-hidden transition-all ${s?"w-32":"w-0"}`,alt:""}),e.jsx("button",{onClick:()=>{a(m=>!m)},className:"p-1.5 rounded-lg bg-gray-50 hover:bg-gray-100",children:s?e.jsx(De,{color:"black"}):e.jsx(ke,{color:"#000"})})]}),e.jsx(ze.Provider,{value:{expanded:s},children:e.jsx("ul",{className:"flex-1 px-3",children:t})}),e.jsxs("div",{className:"border-t border-b flex p-3 sidebar-userinfo",children:[e.jsx(Ct,{initials:x,borderRadius:8,width:50,height:50}),e.jsxs("div",{className:`
              flex justify-between items-center
              overflow-hidden transition-all ${s?"w-52 ml-3":"w-0"}
          `,children:[e.jsxs("div",{className:"leading-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-600",children:[" ",r," "]}),e.jsxs("span",{className:"text-xs text-gray-600",children:[" ",n," "]})]}),e.jsx(Se,{className:"text-gray-900 cursor-pointer",onClick:async m=>{await o(null),l("/")}})]})]})]})})}function _({icon:t,label:s,active:a,alert:r,link:n}){const{expanded:o}=i.useContext(ze);return e.jsx(S,{to:n,children:e.jsxs("li",{className:`
		  relative flex items-center py-2 px-3 my-1
		  font-medium rounded-md cursor-pointer
		  transition-colors group
		  ${a?"bg-gradient-to-tr from-sky-200 to-sky-100 text-sky-700":"hover:bg-indigo-50 text-gray-900"}
	  `,children:[t,e.jsx("span",{className:`overflow-hidden transition-all ${o?"w-52 ml-3":"w-0"}`,children:s}),r&&e.jsx("div",{className:`absolute right-2 w-2 h-2 rounded bg-sky-400 ${o?"":"top-2"}`}),!o&&e.jsx("div",{className:`
			absolute left-full rounded-md px-2 py-1 ml-6
			bg-sky-100 text-sky-800 text-sm
			invisible opacity-20 -translate-x-3 transition-all
			group-hover:visible group-hover:opacity-100 group-hover:translate-x-0
		`,children:s})]})})}function kt(){const t=ee();return e.jsx("div",{className:"sidebar",children:e.jsxs(Dt,{children:[e.jsx(_,{icon:e.jsx(we,{}),label:"Dashboard",active:t.pathname==="/dash",link:"/dash"}),e.jsx(_,{icon:e.jsx(Re,{}),label:"Referrals",active:t.pathname==="/dash/users",link:"/dash/users"}),e.jsx(_,{icon:e.jsx(Ne,{}),label:"Domains",active:t.pathname==="/dash/domains",link:"/dash/domains"}),e.jsx(_,{icon:e.jsx(Te,{}),label:"Airdrop",active:t.pathname==="/dash/users/tasks",link:"/dash/users/tasks"})]})})}function wt(){return e.jsxs("div",{className:"page dash-layout",children:[e.jsx(kt,{}),e.jsx(Tt,{})]})}function Rt({data:t}){return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"text-block",children:[e.jsx("h3",{className:"font-bold text-xl",children:t.label}),e.jsxs("h2",{className:"font-bold text-2xl",children:[" ",t.value," "]})]}),e.jsx("div",{className:"icon-block",children:e.jsx("box-icon",{size:"lg",type:t.icon==="globe"?"regular":"solid",name:t.icon,color:"rgba(44, 41, 65, 0.5)"})})]})}function Lt(t){return i.useMemo(()=>{const s=ae.endpoints.getUserStats.select(t),a=w([s],r=>r.data);return q.getSelectors(r=>a(r)??Q)},[t])}function At(){const t=C(),{isSuccess:s}=rt(t.username),a=Lt(t.username),r=v(a.selectAll);let n=[];return s&&(n=[{id:1,label:"Total Signups",value:r[0].totalusers,iconType:"user",icon:"group"},{id:2,label:"Total Points",value:r[0].totalusers,iconType:"user",icon:"award"},{id:3,label:"Total Domains",value:r[0].totalDomains,iconType:"domain",icon:"diamond"},{id:4,label:"Signups Today",value:r[0].todayUsers,iconType:"user",icon:"group"},{id:5,label:"Domains Today",value:r[0].todayDomains,iconType:"domain",icon:"diamond"}]),e.jsx("div",{className:"stat-block",children:n.map((o,l)=>e.jsx(Rt,{data:o},o.id))})}function Ge(t){return i.useMemo(()=>{const s=Y.endpoints.getUserReferrals.select(t),a=w([s],r=>r.data);return F.getSelectors(r=>a(r)??z)},[t])}function Ut(){var p;const[t,s]=i.useState([]),[a,r]=i.useState(""),n=C(),{isLoading:o,isFetching:l,isSuccess:x,isError:m,error:c}=We(n.username),d=Ge(n.username),f=v(d.selectAll);let u;return(o||l)&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(k,{})})),m&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(p=c==null?void 0:c.data)==null?void 0:p.message} - `,e.jsx(S,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})})),i.useCallback(O(h=>{r(h)}),[]),i.useEffect(()=>{try{if(x){const h=f.filter(g=>a.toLowerCase()===""?g:g.username.toLowerCase().includes(a));s(h)}}catch(h){console.log(h)}},[a,f]),x&&(u=e.jsxs("div",{className:"dashboard-page",children:[e.jsx(At,{}),e.jsx(R,{cols:V,data:t})]})),u}function Et(t){return i.useMemo(()=>{const s=re.endpoints.getUserDomains.select(t),a=w([s],r=>r.data);return B.getSelectors(r=>a(r)??G)},[t])}function It(){var h;const[t,s]=i.useState([]),[a,r]=i.useState(""),n=C(),{isLoading:o,isFetching:l,isSuccess:x,isError:m,error:c}=xt(n.username),d=Et(n.username),f=v(d.selectAll);let u;(o||l)&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(k,{})})),m&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(h=c==null?void 0:c.data)==null?void 0:h.message} - `,e.jsx(S,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}));const p=i.useCallback(Ce(g=>{r(g)}),[]);return i.useEffect(()=>{try{const g=f.filter(b=>a.toLowerCase()===""?b:b.name.toLowerCase().includes(a));s(g)}catch(g){console.log(g)}},[a,f]),x&&(u=e.jsxs("div",{className:"domainslist-page",style:{display:"flex",flexDirection:"column",gap:50,marginTop:80},children:[e.jsx(M,{changeHandler:p,label:"Search domains by name"}),e.jsx(R,{cols:Le,data:t})]})),u}const Ea=y.object({firstName:y.string().min(2,{message:"Requires at least 2 characters"}),lastName:y.string().min(2,{message:"Requires at least 2 characters 1"}),username:y.string().min(3,{message:"Requires at least 3 characters"}),password:y.string().min(8,{message:"Requires at least 8 characters"}),email:y.string().email({message:"Invalid email addreess"}),wallet:y.string().regex(/^0x/,"Invalid Wallet address - use a polygon chain address").min(10,{message:"A valid wallet address is required"}).optional(),referrerUsername:y.string().min(3,{message:"Referrer username is Required"}),terms:y.boolean()}).superRefine(({terms:t},s)=>{t||s.addIssue({code:y.ZodIssueCode.custom,message:"You must accept the terms to proceed",path:["terms"]})}),Pt=y.object({username:y.string().min(3,{message:"Requires at least 3 characters"}),password:y.string().min(8,{message:"Requires at least 8 characters"})});y.object({referrerUsername:y.string().min(3,{message:"A valid referral username is required !"}),wallet:y.string().min(8,{message:"A valid wallet address is required !"}).optional()});const $t=t=>ps({palette:{mode:t.palette.mode},components:{MuiTextField:{styleOverrides:{root:{"--TextField-brandBorderColor":"#E0E3E7","--TextField-brandBorderHoverColor":"#B2BAC2","--TextField-brandBorderFocusedColor":"#6F7E8C","& label.Mui-focused":{color:I[500]},"&.MuiFormHelperText-root,.Mui-error":{color:"#ffa7a7 !important"}}}},MuiOutlinedInput:{styleOverrides:{notchedOutline:{borderColor:I[100]},root:{[`&:hover .${de.notchedOutline}`]:{borderColor:I[300]},[`&.Mui-focused .${de.notchedOutline}`]:{borderColor:I[200]}}}},MuiFilledInput:{styleOverrides:{root:{"&::before, &::after":{borderBottom:`2px solid ${I[500]}`},"&:hover:not(.Mui-disabled, .Mui-error):before":{borderBottom:"2px solid var(--TextField-brandBorderHoverColor)"},"&.Mui-focused:after":{borderBottom:"2px solid var(--TextField-brandBorderFocusedColor)"},"&.MuiFilledInput-root":{background:"#fff"}}}}}});function qt(){var L,ne;const t=be(),s=Z(),a=Je(),[r,{isLoading:n,isSuccess:o,isError:l,error:x}]=Xs(),{register:m,handleSubmit:c,control:d,reset:f,setError:u,formState:{isSubmitting:p,isSubmitSuccessful:h,errors:g}}=Rs({mode:"all",resolver:Ls(Pt),defaultValues:{username:"",password:""}});i.useEffect(()=>{o&&s("/dash",{replace:!0})},[o,s]);const b=i.useCallback(async U=>{try{const{accessToken:N}=await r(U).unwrap();a(se({accessToken:N}))}catch(N){(N==null?void 0:N.status)==="FETCH_ERROR"&&u("root.serverError",{type:"server",message:"Network or internet Error"}),(N==null?void 0:N.status)===404&&u("root.serverError",{type:"server",message:"Invalid Login Credentials"})}},[]);return e.jsxs("div",{children:[e.jsxs("div",{className:"title-wrapper w-full flex justify-between items-center mb-8 ",children:[e.jsx("img",{src:"/images/gtx-stream-logo1.png",className:"w-32",alt:""}),e.jsx("h2",{className:"text-2xl font-bold text-center",children:"Login"})]}),e.jsx(gs,{theme:$t(t),children:e.jsx("form",{onSubmit:c(b),children:e.jsxs(X,{component:"div",sx:{p:"2px 4px",display:"flex",flexDirection:"column",alignItems:"center",gap:2,width:350,boxShadow:0},children:[e.jsx(fe,{name:"username",control:d,render:({field:U,fieldState:{error:N},formState:Ve})=>{var E;return e.jsx(ue,{id:"username",label:"Username",variant:"filled",type:"text",error:!!g.username,helperText:(E=g.username)==null?void 0:E.message,...U,fullWidth:!0,InputProps:{startAdornment:e.jsx(me,{position:"start",children:e.jsx(js,{})})}})}}),e.jsx(fe,{name:"password",control:d,render:({field:U,fieldState:{error:N},formState:Ve})=>{var E;return e.jsx(ue,{id:"password",label:"Password",variant:"filled",type:"password",error:!!g.password,helperText:(E=g.password)==null?void 0:E.message,...U,fullWidth:!0,InputProps:{startAdornment:e.jsx(me,{position:"start",children:e.jsx(ys,{})})}})}}),e.jsx(bs,{type:"submit",variant:"contained",className:"btn",children:"Submit"}),e.jsx("div",{children:e.jsx("p",{style:{fontWeight:"bold"},children:(ne=(L=g.root)==null?void 0:L.serverError)==null?void 0:ne.message})})]})})})]})}function Ft(){return e.jsx("div",{className:"signup-page",children:e.jsx("div",{className:"form-wrapper",children:e.jsx(qt,{})})})}function Bt(){var h;const[t,s]=i.useState([]),[a,r]=i.useState(""),n=C(),{isLoading:o,isFetching:l,isSuccess:x,isError:m,error:c}=We(n.username),d=Ge(n.username),f=v(d.selectAll);let u;(o||l)&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(k,{})})),m&&(u=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(h=c==null?void 0:c.data)==null?void 0:h.message} - `,e.jsx(S,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}));const p=i.useCallback(O(g=>{r(g)}),[]);return i.useEffect(()=>{try{if(x){const g=f.filter(b=>a.toLowerCase()===""?b:b.username.toLowerCase().includes(a));s(g)}}catch(g){console.log(g)}},[a,f]),x&&(u=e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80},children:[e.jsx(M,{changeHandler:p,label:"Search by username"}),e.jsx(R,{cols:V,data:t})]})),u}function Mt(){return i.useEffect(()=>{He(document.querySelector("#gleam_competition"),Qe)},[]),e.jsx("div",{className:"task-page",children:e.jsx("div",{id:"gleam_competition"})})}function Ot(){var u;const[t,s]=i.useState([]),[a,r]=i.useState(""),{isLoading:n,isFetching:o,isSuccess:l,isError:x,error:m}=Oe(),c=v(_e.selectAll);let d;(n||o)&&(d=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsx(k,{})})),x&&(d=e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80,justifyContent:"center",alignItems:"center"},children:e.jsxs("p",{className:"errmsg",children:[`${(u=m==null?void 0:m.data)==null?void 0:u.message} - `,e.jsx(S,{style:{fontWeight:"bold"},to:"/",children:"Please login again"})]})}));const f=i.useCallback(O(p=>{r(p)}),[]);return i.useEffect(()=>{try{const p=c.filter(h=>a.toLowerCase()===""?h:h.username.toLowerCase().includes(a));s(p)}catch(p){console.log(p)}},[a,c]),l&&(d=e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:50,marginTop:80},children:[e.jsx(M,{changeHandler:f,label:"Search users"}),e.jsx(R,{cols:V,data:t})]})),d}const je={user:"user",manager:"manager",admin:"admin"},Wt=i.lazy(async()=>ye(()=>import("./SignupPage-BIMsHMBC.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49]))),_t=i.lazy(async()=>ye(()=>import("./LoginPage-CEthTOrI.js"),__vite__mapDeps([50,1,2,25,26,34,35,27,28,29,30,31,32,21,22,33,23,24,5,6,7,8,9,20,36,37,38,39,40,41,42,43,44,45,46,47,13,48,51]))),Ht=es(Ds(e.jsxs(j,{path:"/",element:e.jsx(Ks,{}),errorElement:e.jsx(yt,{}),children:[e.jsx(j,{index:!0,element:e.jsx(Ft,{})}),e.jsx(j,{path:"signup",element:e.jsx(Wt,{})}),e.jsx(j,{path:"admin",element:e.jsx(_t,{})}),e.jsxs(j,{element:e.jsx(vt,{}),children:[e.jsx(j,{element:e.jsx(ge,{permitedRoles:[je.admin]}),children:e.jsxs(j,{path:"admindash",element:e.jsx(tt,{}),children:[e.jsx(j,{index:!0,element:e.jsx(mt,{})}),e.jsxs(j,{path:"users",children:[e.jsx(j,{index:!0,element:e.jsx(Ot,{})}),e.jsx(j,{path:"tasks",element:e.jsx(St,{})})]}),e.jsx(j,{path:"affiliates",children:e.jsx(j,{index:!0,element:e.jsx(Gs,{})})}),e.jsxs(j,{path:"domains",children:[e.jsx(j,{index:!0,element:e.jsx(jt,{})}),e.jsx(j,{path:":id",element:e.jsx(pe,{})})]})]})}),e.jsx(j,{element:e.jsx(ge,{permitedRoles:[je.user]}),children:e.jsxs(j,{path:"dash",element:e.jsx(wt,{}),children:[e.jsx(j,{index:!0,element:e.jsx(Ut,{})}),e.jsxs(j,{path:"users",children:[e.jsx(j,{index:!0,element:e.jsx(Bt,{})}),e.jsx(j,{path:"tasks",element:e.jsx(Mt,{})})]}),e.jsxs(j,{path:"domains",children:[e.jsx(j,{index:!0,element:e.jsx(It,{})}),e.jsx(j,{path:":id",element:e.jsx(pe,{})})]})]})})]})]}))),Ke=Ts({reducer:{[T.reducerPath]:T.reducer,auth:Os},middleware:t=>t().concat(T.middleware),devTools:!0});Cs(Ke.dispatch);As();Ze.createRoot(document.getElementById("root")).render(e.jsx(Ye.StrictMode,{children:e.jsx(Xe,{store:Ke,children:e.jsx(ss,{router:Ht})})}));export{Xs as a,se as b,$t as c,Pt as l,Ea as s,wa as u};
